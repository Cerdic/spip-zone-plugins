<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/jquery.tablesorter.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/css/theme.default.min.css" />
<script>
$(function() {
  $(".tablesorter").tablesorter();
});
</script>
<BOUCLE_formulaire(FORMULAIRES){id_formulaire}{tout}{si #AUTORISER{voir, formulairesreponse, #ID_FORMULAIRE}}>
	<h1>#TITRE</h1>
	#SET{saisies,#SAISIES|unserialize}
	#SET{saisies_finales,#GET{saisies}|saisies_lister_finales}
	#SET{cextras,#VAL{spip_formulaires_reponses}|appliquer_filtre{champs_extras_objet}|sinon{#LISTE}}
	<B_reponses>
	<table class="tablesorter">
		<B_entete>
		<caption>#TITRE</caption>
		<thead>
			<tr>
				<th>#</th>
				<th><:date:></th>
				<BOUCLE_entete_cextras(POUR){tableau #GET{cextras}}>
					[(#VALEUR{saisie}|!={explication}|oui)
						[<th>(#VALEUR{options/label}|sinon{#VALEUR{options/label_case}}|sinon{#VALEUR{options/nom}})</th>]
					]
				</BOUCLE_entete_cextras>
				<BOUCLE_entete(POUR) {tableau #GET{saisies_finales}}>
				[(#VALEUR{saisie}|!={explication}|oui)
					[<th>(#VALEUR{options/label}|sinon{#VALEUR{options/label_case}}|sinon{#VALEUR{options/nom}})</th>]
				]
		</BOUCLE_entete>
			</tr>
		</thead>
		</B_entete>
		<tbody>
		<BOUCLE_reponses(FORMULAIRES_REPONSES){id_formulaire}>
		<tr>
			<td>#ID_FORMULAIRES_REPONSE</td>
			<td data-text="#DATE">[(#DATE|affdate_heure)]</td>
			[(#GET{cextras}|cextras2td{#ID_FORMULAIRES_REPONSE})]
			<BOUCLE_champ(POUR){tableau #GET{saisies_finales}}>
			[(#VALEUR{saisie}|!={explication}|oui)
			<td>#VOIR_REPONSE{#VALEUR{options/nom},valeur_uniquement}</td>
			]
			</BOUCLE_champ>
		</tr>
		</BOUCLE_reponses>
		</tbody>
	</table>
	</B_reponses>
</BOUCLE_formulaire>
