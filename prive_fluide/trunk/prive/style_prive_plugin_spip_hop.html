[(#REM)<style>/*
  Ce squelette definit les styles de l'espace prive

  Note: l'entete "Vary:" sert a repousser l'entete par
  defaut "Vary: Cookie,Accept-Encoding", qui est (un peu)
  genant en cas de "rotation du cookie de session" apres
  un changement d'IP (effet de clignotement).

  ATTENTION: il faut absolument le charset sinon Firefox croit que
  c'est du text/html !
*/]#CACHE {3600*100,cache-client}
#HTTP_HEADER {Content-Type: text/css;charset=iso-8859-15}
#HTTP_HEADER {Vary: Accept-Encoding}


/*
  ==========
  conteneurs
  ==========
  Pleine largeur pour tout le monde !
  Oui, on ignore les préférences utilisateur (de toute façon le mode « écran large » rendait le contenu central... plus étroit !).
*/

.largeur, #conteneur, .table_page,
.large .largeur, .large #conteneur, .large .table_page {
  width: auto;
}

.largeur, #conteneur, .table_page {
  padding: 0 30px; /* = margin-left de #contenu */
}

.large .largeur, .large #conteneur, .large .table_page {
  padding: 0 24px; /* = margin-left de #contenu */
}

.largeur #conteneur {
  padding: 0;
}


/*
  ======
  layout
  ======
  On passe les 3 items #contenu, #navigation et #extra en flexbox.
  Avantage : quand #navigation ou #extra sont vides, le contenu central s'adapte pour prendre tout l'espace disponible.
  On gère le ratio contenu/colonnes avec la propriété flex-grow.
  On met 4/1, mais ça ne fait pas 75%/25%, c'est plus compliqué : https://css-tricks.com/flex-grow-is-weird/
  Pas de largeur définie pour #navigation et #extra, sinon ça laisse un espace blanc quand ils sont vides.
*/

#conteneur {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

#contenu, #navigation, #extra,
.large #contenu, .large #navigation, .large #extra {
  float: none;
  width: auto;
}

#contenu {
  -webkit-box-flex: 4;
  -ms-flex-positive: 4;
  flex-grow: 4;
}

#navigation, #extra {
  -webkit-box-flex: 0;
  -ms-flex-positive: 0;
  flex-grow: 0;
  -ms-flex-negative: 1;
  flex-shrink: 1;
  max-width: 20%;
}

#wysiwyg {
  max-width: 45em; /* ~70 caractères par ligne */
  margin-left: auto;
  margin-right: auto;
}

/* spécificités du mode large : on place #extra à droite */

.large #navigation {
  -webkit-box-ordinal-group: 2;
  -ms-flex-order: 1;
  order: 1;
}

.large #contenu {
  -webkit-box-ordinal-group: 3;
  -ms-flex-order: 2;
  order: 2;
}

.large #extra {
  -webkit-box-ordinal-group: 4;
  -ms-flex-order: 3;
  order: 3;
  margin-left: 24px; /* = margin-left de #contenu */
}