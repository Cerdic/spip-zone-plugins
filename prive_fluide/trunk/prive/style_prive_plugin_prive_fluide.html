[(#REM)<style>/*

  Nouveau markup identique pour le mode étroit et large dans body.html :
  - #conteneur
      - #contenu
      - #navigation
      - #extra

  On fait du mobile-first : pas de colonne à la base, puis on en met 2 ou 3 selon la largeur.
  On met du float comme en 40 pour les vieux navigateurs, et du CSS grid pour les nouveaux.

*/]#CACHE{3600*100,cache-client}
#HTTP_HEADER{Content-Type: text/css;charset=utf-8}
#HTTP_HEADER{Vary: Accept-Encoding}
#SET{largeur_texte,42em}

/*
  ======
  LAYOUT
  ======
  Placement et dimensions des blocs principaux
*/

/* Containers en pleine largeur */
body,
body.large {
  min-width: auto;
}
.largeur,
#conteneur,
.table_page,
.large .largeur,
.large #conteneur,
.large .table_page {
  width: auto;
}
.largeur,
.large .largeur {
  padding: 0 1.5vw;
}

/* Pas de colonne
   Obligé de mettre des !important à moins de cibler 50 variantes différentes
   (.large #contenu, body.large .edition #contenu, etc.)
*/
#contenu,
#navigation,
#extra {
  width: 100% !important;
  float: none !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Moyen écran : 2 colonnes */ 
@media (min-width: 780px) {

  /* D'abord le fallback pour les vieux navigateurs */
  /* [TODO] */
  
  /* Ensuite le layout en CSS grid : 2 colonnes */
  @supports (display: grid) {
    #conteneur {
      display: grid;
      grid-gap: 0 1.5vw;
      grid-template-columns: auto repeat(3, 1fr);
      grid-template-rows: auto 1fr; /* la 1ère ligne doit se collapser */
      grid-template-areas:
        "navigation contenu contenu contenu"
        "extra      contenu contenu contenu";
    }
    #contenu {
      grid-area: contenu;
    }
    #navigation {
      grid-area: navigation;
    }
    #extra {
      grid-area: extra;
    }
    /* Hack : on met une largeur au contenu des colonnes latérales,
    ainsi quand elles sont vides, elles se collapsent */
    #navigation > .ajaxbloc > *,
    #navigation > :not(.ajaxbloc),
    #extra > .ajaxbloc > *,
    #extra > :not(.ajaxbloc) {
      width: 20vw;
    }
  }
}

/* Grand écran : 3 colonnes */
@media (min-width: 1200px) {

  @supports (display: grid) {
    #conteneur {
      grid-template-columns: auto repeat(3, 1fr) auto;
      grid-template-rows: auto auto;
      grid-template-areas:
        "navigation contenu contenu contenu extra"
        "navigation contenu contenu contenu extra";
    }
  }

}


/*
  ===========
  Formulaires
  ===========
  Saisies centrées, largeur limitée pour avoir ~75 caractèrs max par ligne.
*/

.formulaire_spip .editer-groupe,
.formulaire_spip fieldset .editer-groupe {
  max-width: calc([(#GET{largeur_texte})] + 18vw);
  margin-left: auto;
  margin-right: auto;
}
.formulaire_spip > p,
.formulaire_spip fieldset > p,
.formulaire_spip fieldset .reponse_formulaire {
  max-width: [(#GET{largeur_texte})];
  margin-left: auto;
  margin-right: auto;
}

.formulaire_spip .editer,
.formulaire_spip .editer.gauche {
  padding-left: 18vw;
}

.formulaire_spip .editer > label,
.formulaire_spip .editer.gauche > label {
  width: 17vw;
  margin-left: -18vw;
}

.formulaire_spip .fieldset {
  margin: 1em 0;
}

.formulaire_spip .explication {
  font-size: 1em;
}


/* Petit écran : tout en pleine largeur (pas mobile-first, car sinon ça peut péter des trucs avec les plugins qui stylent les saisies) */
@media (max-width: 640px) {
  .formulaire_spip .editer {
    padding-left: 10px;
  }
  .formulaire_spip .editer > label {
    display: block;
    float: none;
    width: 100%;
    margin-left: 0;
    margin-bottom: 10px;
  }
}

/*
  ======
  Divers
  ======
  Des petits ajustements divers
*/

/* Limiter en largeur pour obtenir ~75 caractères max par ligne */
#wysiwyg {
  display: block;
  max-width: [(#GET{largeur_texte})];
  margin-left: auto;
  margin-right: auto;
}

/* Polices */
@font-face {
  font-family: 'Source Sans Pro';
  src: url('#CHEMIN{prive/themes/spip/fonts/SourceSansPro-Regular.woff2}') format('woff2'),
  url('#CHEMIN{webfonts/SourceSansPro-Regular.woff}') format('woff');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'Source Sans Pro';
  src: url('#CHEMIN{prive/themes/spip/fonts/SourceSansPro-Bold.woff2}') format('woff2'),
  url('#CHEMIN{webfonts/SourceSansPro-Bold.woff}') format('woff');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'Source Serif Pro';
  src: url('#CHEMIN{prive/themes/spip/fonts/SourceSerifPro-Regular.woff2}') format('woff2'),
  url('#CHEMIN{webfonts/SourceSerifPro-Regular.woff}') format('woff');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'Source Serif Pro';
  src: url('#CHEMIN{prive/themes/spip/fonts/SourceSerifPro-Bold.woff2}') format('woff2'),
  url('#CHEMIN{webfonts/SourceSerifPro-Bold.woff}') format('woff');
  font-weight: bold;
  font-style: normal;
}
body {
  font-size: calc(0.8em + 0.175vw); /* mobile => 16px, 1920px => 18px */
  font-family: "Source Sans Pro", sans-serif;
}
#wysiwyg .champ,
.preview {
  font-family: "Source Serif Pro", serif;
}