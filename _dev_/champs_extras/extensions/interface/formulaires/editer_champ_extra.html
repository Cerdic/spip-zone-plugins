<div class="formulaire_spip formulaire_editer formulaire_#FORM">
	[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
	[<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</p>]
	<BOUCLE_si_editable(CONDITION){si #ENV{editable}}>
	<form method='post' action='#ENV{action}'><div>
		#ACTION_FORMULAIRE{#ENV{action}}
		<input type='hidden' name='id_extra' value='#ENV{id_extra}' />
		<ul>
	  	#SET{fl,iextra}
	  	#SET{name,champ}
		#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
		#SET{obli,obligatoire}
		#SET{disabled,#ENV{new}|non}
	    <li class="editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
	    	<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>
				[<span class='erreur_message'>(#GET{erreurs})</span>]
				<p class="explication"><:iextra:caracteres_autorises_champ:></p>
				<input type='text' class='text' name='#GET{name}' id='#GET{name}' value="#ENV{#GET{name}}"[ (#GET{disabled})disabled='disabled'] />
				[(#GET{disabled}|oui)<input type='hidden' name='#GET{name}' value="#ENV{#GET{name}}" />]
	    </li>
		#SET{name,table}
		#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
		#SET{obli,obligatoire}
		#SET{disabled,#ENV{new}|non}
		<li class="editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
			<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>
				[<span class='erreur_message'>(#GET{erreurs})</span>]
				<select name='#GET{name}' id='#GET{name}'[ (#GET{disabled})disabled='disabled']>
					<BOUCLE_liste_objet(POUR){tableau #ARRAY{0,article,1,auteur,2,rubrique}}>
					<option value='#VALEUR'[ (#ENV{#GET{name}}|=={#VALEUR}|oui)selected='selected']>[(#GET{fl}|concat{:table_,#VALEUR}|_T)]</option>
					</BOUCLE_liste_objet>
				</select>
				[(#GET{disabled}|oui)<input type='hidden' name='#GET{name}' value="#ENV{#GET{name}}" />]
		</li>
		#SET{name,label}
		#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
		#SET{obli,obligatoire}
		#SET{disabled,''}
		<li class="editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
			<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>
				[<span class='erreur_message'>(#GET{erreurs})</span>]
				<input type='text' class='text' name='#GET{name}' id='#GET{name}' value="#ENV{#GET{name}}" [ (#GET{disabled})disabled='disabled']/>
				[(#GET{disabled}|oui)<input type='hidden' name='#GET{name}' value="#ENV{#GET{name}}" />]
		</li>
		#SET{name,type}
		#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
		#SET{obli,obligatoire}
		#SET{disabled,''}
		<li class="editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
			<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>
				[<span class='erreur_message'>(#GET{erreurs})</span>]
				<select name='#GET{name}' id='#GET{name}'[ (#GET{disabled})disabled='disabled']>
					<BOUCLE_liste_types(POUR){tableau #ARRAY{0,textarea,1,input}}>
					<option value='#VALEUR'[ (#ENV{#GET{name}}|=={#VALEUR}|oui)selected='selected']>[(#GET{fl}|concat{:type_,#VALEUR}|_T)]</option>
					</BOUCLE_liste_types>
				</select>
				[(#GET{disabled}|oui)<input type='hidden' name='#GET{name}' value="#ENV{#GET{name}}" />]
		</li>
		#SET{name,sql}
		#SET{obli,obligatoire}
		#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
		#SET{disabled,#ENV{new}|non}
		<li class="editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
			<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>
				[<span class='erreur_message'>(#GET{erreurs})</span>]
				<input type='text' class='text' name='#GET{name}' id='#GET{name}' value="#ENV{#GET{name}}"[ (#GET{disabled})disabled='disabled']/>
				[(#GET{disabled}|oui)<input type='hidden' name='#GET{name}' value="#ENV{#GET{name}}" />]
		</li>
				
		</ul>
		[(#REM) ajouter les saisies supplementaires : extra et autre, a cet endroit ]
		<!--extra-->
		<p class='boutons'><input type='submit' class='submit' value='[(#ENV{id_extra}|intval|?{<:bouton_modifier:>,<:bouton_ajouter:>})]' /></p>
	</div></form>
	</BOUCLE_si_editable>
</div>
