[(#REM)
	Modele pour le Flash video player 3.8 3.8 : Single flv with full display and preview
	http://www.jeroenwijering.com/extras/readme.html
	http://www.jeroenwijering.com/?item=Flash_video_Player
	This script is licensed under a Creative Commons License.
	It allows you to use and modify the script for noncommercial purposes. 
	For commercial use, Jeroenwijering distribute licenses of the script for 15 euros. 
	For more info and instant ordering, please advance to his online order page!
	http://www.jeroenwijering.com/?order=form
	
	Modele spip mis au point sur irc a l'initiative d'alexandra
	avec la participation de kent1, cy_altern, marcimat, renato et toggg.
	
	Plusieurs methodes d'insertion :
	
	Méthode classique <template><flvplayer123></template> ou 123 est l'id article fournissant les documents attaches
	Méthode par rubrique (on prend les videos parmis les documents de la rubrique) :
	<template><flvplayer|rubrique=123></template>
	Méthode par secteur (on prend les videos parmis les documents du secteur) :
	<template><flvplayer|secteur=123></template>
	Méthode par document unique (on prend un seul document) :
	<template><flvplayer|document=123></template>
	
	Pour les options, voir http://www.jeroenwijering.com/extras/readme.html
	- width : px|%,320
	- height : px|%,240
	- displaywidth : px|%,width
	- displayheight : px|%,height
	- transition : fade|bgfade|blocks|bubbles|circles|fluids|lines|random|slowfade,fade
	- overstretch : true|false|fit|none,none
	- shuffle : true|false,false
	- repeat : true|false,false
	- showdownload: true|false,false
	- allowfullscreen: true|false,true
	- bufferlength: number
	- jwlogo: url
	- autoscroll: true|false, false
	- audio: url
	- useaudio: true|false, false
	- link: url
	- linkfromdisplay: true|false, false
	- linktarget: _blanl|_self|_parent|_top|framename, _self
	- captions: url
	- usecaptions: true|false, true
	- creator: du texte
	- prerolllocation: url d'un flv sans son extension
	- prerolllink: url
	- postrolllocation: url d'un flv sans son extension
	- postrolllink: url
	- domaine: url d'un squelette xspf sur un autre site spip

	- align : left|center|right,center	
	]

[(#ENV{donnee}|?{' ',''}) 
  [(#SET{objet_spip,id_donnee})]
  [(#SET{objet_val,[(#ENV{donnee})]})]
]

[(#ENV{rubrique}|?{' ',''}) 
  [(#SET{objet_spip,id_rubrique})]
  [(#SET{objet_val,[(#ENV{rubrique})]})]
]
[(#ENV{secteur}|?{' ',''}) 
  [(#SET{objet_spip,id_secteur})]
  [(#SET{objet_val,[(#ENV{secteur})]})]
]
[(#ENV{document}|?{' ',''}) 
  [(#SET{objet_spip,id_document})]
  [(#SET{objet_val,[(#ENV{document})]})]
]
[(#ENV{mot}|?{' ',''}) 
  [(#SET{objet_spip,id_mot})]
  [(#SET{objet_val,[(#ENV{mot})]})]
]
[(#ENV{breve}|?{' ',''}) 
  [(#SET{objet_spip,id_breve})]
  [(#SET{objet_val,[(#ENV{breve})]})]
]
[(#ENV{article}|?{' ',''}) 
  [(#SET{objet_spip,id_article})]
  [(#SET{objet_val,[(#ENV{article})]})]
]
[(#GET{objet_spip}|?{'',' '}) 
  [(#SET{objet_spip,id_article})]
  [(#SET{objet_val,[(#ENV{id_flvplayer})]})]
] 

[(#SET{wmode,#ENV{wmode,#CONFIG{xspf/wmode}|sinon{transparent}}})]

[(#SET{width,#ENV{width,#CONFIG{xspf/flpwidth}|sinon{320}}})]
[(#SET{height,#ENV{height,#CONFIG{xspf/flpheigth}|sinon{240}}})]
[(#SET{displaywidth,#ENV{displaywidth,#CONFIG{xspf/flpdisplaywidth}|sinon{#GET{width}}}})]
[(#SET{displayheight,#ENV{displayheight,#CONFIG{xspf/flpdisplayheight}|sinon{#GET{height}}}})]
[(#SET{overstretch,#ENV{overstretch,#CONFIG{xspf/flpoverstretch}|sinon{none}}})]
[(#SET{shuffle,#ENV{shuffle,#CONFIG{xspf/flpshuffle}|sinon{false}}})]
[(#SET{repeat,#ENV{repeat,#CONFIG{xspf/flprepeat}|sinon{false}}})]
[(#SET{showdownload,#ENV{showdownload,false}})]
[(#SET{showvolume,#ENV{showvolume,#CONFIG{xspf/flpshowvolume}|sinon{true}}})]
[(#SET{autostart,#ENV{autostart,#CONFIG{xspf/flpautostart}|sinon{false}}})]
[(#SET{thumbs,#ENV{thumbs,#CONFIG{xspf/flpthumbs}|sinon{true}}})]
[(#SET{showicons,#ENV{showicons,#CONFIG{xspf/flpshowicons}|sinon{true}}})]
[(#SET{showdigits,#ENV{showdigits,#CONFIG{xspf/flpshowdigits}|sinon{true}}})]
[(#SET{allowfullscreen,#ENV{allowfullscreen,#CONFIG{xspf/flpallowfullscreen}|sinon{true}}})]
[(#SET{backcolor,#CONFIG{xspf/flpbackcolor}|replace{#,0x}|sinon{0x000000}})]
[(#SET{frontcolor,#CONFIG{xspf/flpfrontcolor}|replace{#,0x}|sinon{0xCCCCCC}})]
[(#SET{lightcolor,#CONFIG{xspf/flplightcolor}|replace{#,0x}|sinon{0x996600}})]

[(#SET{jwlogo,#ENV{jwlogo,#CONFIG{xspf/jwlogo}}})]
[(#SET{autoscroll,#ENV{autoscroll,#CONFIG{xspf/jwautoscroll}}})]
[(#SET{audio,#ENV{audio,#CONFIG{xspf/flpaudio}}})]
[(#SET{useaudio,#ENV{useaudio,#CONFIG{xspf/flpuseaudio}|sinon{false}}})]
[(#SET{link,#ENV{link,#CONFIG{xspf/flplink}}})]
[(#SET{linkfromdisplay,#ENV{linkfromdisplay,#CONFIG{xspf/flplinkfromdisplay}}})]
[(#SET{linktarget,#ENV{linktarget,#CONFIG{xspf/flplinktarget}}})]
[(#SET{bufferlength,#ENV{bufferlength,#CONFIG{xspf/flpbufferlength}}})]
[(#SET{captions,#ENV{captions,#CONFIG{xspf/captions}}})]
[(#SET{usecaptions,#ENV{usecaptions,#CONFIG{xspf/usecaptions}}})]

[(#SET{prerolllocation,#ENV{prerolllocation,#CONFIG{xspf/flpprerolllocation}}})]
[(#SET{postrolllocation,#ENV{postrolllocation,#CONFIG{xspf/flppostrolllocation}}})]
[(#SET{prerolllink,#ENV{prerolllink,#CONFIG{xspf/flpprerolllink}}})]
[(#SET{postrolllink,#ENV{postrolllink,#CONFIG{xspf/flppostrolllink}}})]
[(#SET{creator,#ENV{creator}})]

[(#SET{align,#ENV{align,center}})]

<noscript><p>D&#233;sol&#233;, mais le javascript est n&#233;ecessaire dans la version actuelle. Merci de le r&#233;activer pour afficher le contenu multimedia </p></noscript>
<!-- alternative texte pour ceux qui ont le js desactive -->

<div id="_[(#ENV{id})]_[(#GET{objet_spip})]_[(#GET{objet_val})]" class="player" style="[(#GET{align}|=={center}|?{margin:auto; text-align:center;,float:[(#GET{align})]})]">
	<p>
		<a href="http://www.macromedia.com/go/getflashplayer">Get the Flash Player</a> to see this player.
	</p>
</div>

<script type="text/javascript">
// <![CDATA[
	var s_[(#ENV{id})]_[(#GET{objet_val})] = new SWFObject("#CHEMIN{lib/jw_flv_player/flvplayer.swf}","flvplayer","#GET{width}","#GET{height}","7");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("file",encodeURIComponent("[(#ENV{domaine,#URL_PAGE{xspf}}|url_absolue|parametre_url{type,'jpg|png|gif|mp3|flv|swf','&'}|parametre_url{prerolllocation,[(#GET{prerolllocation})],'&'}|parametre_url{postrolllocation,[(#GET{postrolllocation})],'&'}|parametre_url{prerolllink,[(#GET{prerolllink})],'&'}|parametre_url{postrolllink,[(#GET{postrolllink})],'&'}|parametre_url{creator,[(#ENV{creator})],'&'}|parametre_url{[(#GET{objet_spip})],[(#GET{objet_val})],'&'})]"));
	s_[(#ENV{id})]_[(#GET{objet_val})].addParam("allowfullscreen","#GET{allowfullscreen}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addParam("wmode","#GET{wmode}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addParam("menu","true");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("image","url");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("backcolor","#GET{backcolor}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("frontcolor","#GET{frontcolor}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("lightcolor","#GET{lightcolor}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("showdigits","#GET{showdigits}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("thumbsinplaylist","#GET{thumbs}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("shownavigation","#GET{shownavigation}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("showvolume","#GET{showvolume}");	
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("showdownload","#GET{showdownload}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("overstretch","#GET{overstretch}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("autostart","#GET{autostart}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("shuffle","#GET{shuffle}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("repeat","#GET{repeat}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("showicons","#GET{showicons}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("height","#GET{height}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("width","#GET{width}");
	[(#GET{jwlogo}|!={''}|?{'s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("logo","#GET{jwlogo}");',''})]
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("displaywidth","#GET{displaywidth}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("displayheight","#GET{displayheight}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("autoscroll","#GET{autoscroll}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("bufferlength","#GET{bufferlength}");
	[(#GET{audio}|!={''}|?{'s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("audio","#GET{audio}");',''})]
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("useaudio","#GET{useaudio}");
	[(#GET{link}|!={''}|?{'s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("link","#GET{link}");',''})]
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("linkfromdisplay","#GET{linkfromdisplay}");
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("linktarget","#GET{linktarget}");
	[(#GET{captions}|!={''}|?{'s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("captions","#GET{captions}");',''})]
	s_[(#ENV{id})]_[(#GET{objet_val})].addVariable("usecaptions","#GET{usecaptions}");

	$(document).ready(function() {
		s_[(#ENV{id})]_[(#GET{objet_val})].write("flvplayer_[(#ENV{id})]_[(#GET{objet_spip})]_[(#GET{objet_val})]");
	});
// ]]>
</script>

[(#REM)
Assistant wizard pour personnaliser les variables
http://www.jeroenwijering.com/extras/wizard.html
Toutes les options flashvars du lecteur flash video player sont disponibles ici 
http://www.jeroenwijering.com/extras/readme.html]