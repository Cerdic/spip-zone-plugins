[(#REM) titre=Stockage]

[(#REM) autor iser=webmestre ]


<!-- descriptif=
Cette page de configuration est r&#233;serv&#233;e au webmestre du site
-->

#CACHE{0}


<form method="post" action="#SELF"><div>[(#ENV{_cfg_}|form_hidden)]</div>

[(#REM) ------------------------ Stockage sur Amazon S3 --------------------- ]
<fieldset>
<legend>
	Stockage sur Amazon S3
</legend>
<p>Pour envoyer vos fichiers sur Amazon S3 veuillez indiquer ci-dessous&nbsp;:</p>


<p><label>Votre cl&#233; publique Amazon S3 : <small><i>Cf.</i> <a href="http://aws-portal.amazon.com/gp/aws/developer/account/index.html?action=access-key">http://aws-portal.amazon.com/gp/...</a></small>
<br /><input type="text" name="s3publickey" value="[(#ENV**{s3publickey}|entites_html)]" class="forml" /></label>
</p>

<p><label>Votre cl&#233; secr&#232;te Amazon S3 :
<br /><input type="text" name="s3secretkey" value="[(#ENV**{s3secretkey}|entites_html)]" class="forml" /></label>
</p>

<p><label>Le nom du bucket &#224; utiliser (et &#224; cr&#233;er le cas &#233;ch&#233;ant) :
<br /><input type="text" name="s3bucket" value="[(#ENV**{s3bucket}|entites_html)]" class="forml" /></label>
</p>


<p><label>Optionnel : le chemin de base &#224; l'int&#233;rieur du bucket[ (#ENV{s3bucket})] :

<br /><input type="text" name="s3path" value="[(#ENV**{s3path}|entites_html)]" /></label>

<br /><small>Cette valeur est utile si vous voulez h&#233;berger les fichiers de plusieurs sites sous le m&#234;me bucket.</small>
</label>
</p>




<div>
<label>L'URL de vos fichiers :
<br />
<select name="s3baseurl">
	<option value="">http://s3.amazonaws.com/[(#ENV{s3bucket}|sinon{$bucket$})][/(#ENV{s3path})]/</option>
[
	<option value="http://(#ENV{s3bucket})/"[
		(#ENV{s3baseurl}|=={http://[(#ENV{s3bucket})]/}|?{selected="selected"})
		]>http://[(#ENV{s3bucket})][/(#ENV{s3path})]/</option>

]</select>

<p><small>Attention, vous ne pouvez choisir l'URL <tt>http://[(#ENV{s3bucket}|sinon{$bucket$})][/(#ENV{s3path})]/</tt> que s'il s'agit d'un domaine que vous faites pointer (via un enregistrement <tt>CNAME</tt>) sur <tt>s3.amazonaws.com</tt>
</small>
</p>

<blockquote>
<small>
Test DNS&nbsp;:
<br />
[(#ENV{s3bucket}|checkdnsrr{CNAME}|?{
	<tt>[(#ENV{s3bucket})] CNAME [(#ENV{s3bucket}|dns_get_record{#EVAL{DNS_CNAME}}|var_export{1})]</tt>
,
	[(#ENV{s3bucket}|sinon{$bucket$})] n'a pas d'enregistrement <tt>CNAME</tt>
})]
</small></blockquote>

</label>
</div>


</fieldset>



[(#REM) ------------------------ BOUTON OK ------------------------ ]
<div>
<input style="float:#LANG_RIGHT;" type="submit" name="_cfg_ok" value="<:OK:>" class="fondo" />
<!--
<input type="reset" value="<:Reset:>" class="fondo" />
<input type="submit" name="_cfg_delete" value="<:Supprimer:>" class="fondo" />
-->
</div>

</form>
