#CACHE{0}
<div class="formulaire_spip formulaire_oauth_add_consumer">

    [<div class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok}|oui)
        <p>
        Le consumer [(#ENV{message_ok}|table_valeur{id})] a été créé.
        </p>
        <ul>
            <li>Sa clef est [(#ENV{message_ok}|table_valeur{consumer_key})]</li>
            <li>Son secret est [(#ENV{message_ok}|table_valeur{consumer_secret})]</li>
        </ul>
    </div>]
    [<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</li>]
	
    <form method="post" action="#ENV{action}">
        <div>
        #ACTION_FORMULAIRE{#ENV{action}}
        <ul>
            <li class="fieldset">
                <fieldset>
                    <h3 class="legend">Champs obligatoire</h3>
                    <ul>
                        <li class="editer_user_id">
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{user_id})</span>]
                            <B_auteur>
                                <select id="user_id" name="user_id">
                                <option></option>
                                <BOUCLE_auteur(AUTEURS) {par nom} {statut=0minirezo}>
                                    <option value="#ID_AUTEUR"  [(#ID_AUTEUR|=={#ENV{user_id}}) selected="selected" ]> #NOM </option>
                                </BOUCLE_auteur>
                                </select>
                            </B_auteur>
                            <label for="user_id">Auteur SPIP référent :</label>                            
                        </li>
		                <li class="editer_osr_request_name">
			                <label for="osr_requester_name">Nom : </label>
			                <input type="text" name="osr_requester_name" id="osr_requester_name" value="#ENV{osr_requester_name}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_requester_name})</span>]		            			                
		                </li>
		                <li class="editer_requester_email">
			                <label for="osr_requester_name">Courriel du référent : </label>
			                <input type="text" name="osr_requester_email" id="osr_requester_email" value="#ENV{osr_requester_email}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_requester_email})</span>]		               			                
		                </li>
                    </ul>
                </fieldset>
            </li>
            <li class="fieldset">
                <fieldset>
                    <h3 class="legend">Champs optionnels</h3>
                    <ul>
		                <li class="editer_osr_callback_uri">
			                <label for="osr_callback_uri">URI de retour : </label>
			                <input type="text" name="osr_callback_uri" id="osr_callback_uri" value="#ENV{osr_callback_uri,http://www.myconsumersite.com/oauth_callback}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_callback_uri})</span>]		              			                
		                </li>
		                <li class="editer_osr_application_uri">
			                <label for="osr_application_uri">URI de l'application : </label>
			                <input type="text" name="osr_application_uri" id="osr_application_uri" value="#ENV{osr_application_uri, http://www.consumersite.com/}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_application_uri})</span>]		                
		                </li>
		                <li class="editer_osr_application_title">		                
			                <label for="osr_application_title">Nom de l'application : </label>
			                <input type="text" name="osr_application_title" id="osr_application_title" value="#ENV{osr_application_title, John Doe's consumer site'}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_application_title})</span>]
		                </li>
		                <li class="editer_osr_application_descr">		                
			                <label for="osr_application_descr">Description de l'application : </label>
			                <input type="text" name="osr_application_descr" id="osr_application_descr" value="#ENV{osr_application_descr,Make nice graphs of all your data}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_application_descr})</span>]
		                </li>
		                <li class="editer_osr_application_notes">		                
			                <label for="osr_application_notes">Notes concernant l'application : </label>
			                <input type="text" name="osr_application_notes" id="osr_application_notes" value="#ENV{osr_application_notes,Bladibadou}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_application_notes})</span>]
		                </li>
		                <li class="editer_osr_application_type">		                
			                <label for="osr_application_type">Type de l'application : </label>
			                <input type="text" name="osr_application_type" id="osr_application_type" value="#ENV{osr_application_type,website}"/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_application_type})</span>]			         
		                </li>
		                <li class="editer_osr_application_commercial">		                
			                <label for="osr_application_commercial">Application commerciale : </label>
			                <input type="checkbox" name="osr_application_type" id="osr_application_type" [(#ENV{osr_application_commercial}|oui)checked = "checked"]/>
                            [<span class="erreur_message">(#ENV{erreurs}|table_valeur{osr_application_commercial})</span>]
		                </li>		
                    </ul>
                </fieldset>
            </li>
        </ul>        <p class="boutons">
            <input type="submit" name="_cfg_ok" value="<:oK:>" class="submit" />
            <input type="reset" value="<:reset:>" class="reset" />
            <input type="submit" name="_cfg_delete" value="<:supprimer:>" class="submit" />
        </p>
        </div>
    </form>
</div>
