<html><head></head>
<body>
   <h1>Test cache eval session</h1>
   Squelette : [(#DATE|affdate{'Y-m-d H:i:s'})]<br>
   php session_get <?= session_get('nom') ?> --> php date <?= date('Y-m-d H:i:s') ?> :: SPIP eval session_get : #EVAL{session_get('nom')} :: SPIP eval globals : #EVAL{$GLOBALS['visiteur_session']['nom']}
	<br><br>
  _SESSION [(#_SESSION{nom})] avec [(|len)] : [(#_SESSION{nom}|strlen)]
   <br>
   On boucle avec {si EVAL{session_get('nom')}} = Ça ne dépend pas de la session mais de ce qu'il y a en cache<br>
   <BOUCLE_articles(ARTICLES){si #EVAL{session_get('nom')}}>
	   #ID_ARTICLE ;
   </BOUCLE_articles>
	<br><br>
   <b>_SESSION{nom} : #_SESSION{nom}</b><br> 
   et avec le filtre strlen : [(#_SESSION{nom}|strlen)]
   <br><hr><br>
  _SESSION_SI{nom} : #_SESSION_SI{nom} / IL Y A UNE _SESSION #_SESSION_FIN / après_SESSION_finsi
   <br><br>
  _SESSION_SI{nom} puis SINON : #_SESSION_SI{nom} / apres_SESSION_si #_SESSION_SINON / PAS DE_SESSION #_SESSION_FIN / après_SESSION_finsi
   <br><br>
  _SESSION_SI{nom,Secretaire} : #_SESSION_SI{nom,Secretaire} / c'est egal #_SESSION_FIN / après_SESSION_finsi
   <br><br>
	_SESSION_SI{nom,Secretaire} puis SINON : #_SESSION_SI{nom,Secretaire} / c'est encore egal #_SESSION_SINON / pas egal #_SESSION_FIN / après_SESSION_finsi
	<br><br>
	<h4>Emboitements</h4>
	#_SESSION_SI{nom}
		le nom existe
		#_SESSION_SI{nom,Secretaire}
			et vaut bien Secrétaire
		#_SESSION_SINON
			et ne vaut pas Secrétaire. Il vaut #_SESSION{nom}.
		#_SESSION_FIN
	#_SESSION_SINON
		le nom n'existe pas !
	#_SESSION_FIN
	
	<h3>Ce qu'il ne faut pas faire</h3>
	#SET{var,var} var vaut var<br>
	_SESSION_SI{nom} : 
	#_SESSION_SI{nom} 
		/ #SET{var,oui_visiteur} IL Y A UNE_SESSION var vaut oui_visiteur : #GET{var}<br>
	#_SESSION_SINON{nom} 
		/ #SET{var,pas_de_visiteur} IL Y A UNE_SESSION var vaut pas_de_visiteur : #GET{var}<br>
	#_SESSION_FIN 
		/ après_SESSION_finsi var vaut : #GET{var}<br>


</body>
</html>
