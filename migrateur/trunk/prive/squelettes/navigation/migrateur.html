
<div class="logo_navigation">
<a href="#URL_ECRIRE{migrateur}">
	<img src="[(#CHEMIN_IMAGE{migrateur-128.png})]" alt="Logo migrateur" />
</a>
<h1><:migrateur:migrateur_titre:></h1>
</div>

[(#SET{liste,[(#VAL**|migrateur_etapes)]})]

<BOUCLE_migration(POUR){tableau #GET{liste}}>
	[(#VAL|migrateur_derniere_etape|=={#COMPTEUR_BOUCLE}|oui)[(#SET{next,[(#COMPTEUR_BOUCLE|plus{1})]})]]
</BOUCLE_migration>

<BOUCLE_migration_next(POUR){tableau #GET{liste}}>
[(#GET{next}|oui|et{#GET{next}|=={#COMPTEUR_BOUCLE}}
|ou{[(#GET{next}|non|et{#COMPTEUR_BOUCLE|=={1}})]})
#BOITE_OUVRIR{Étape suivante,simple}
	<div id='next_migration'>
	<a href='[(#URL_ACTION_AUTEUR{migrateur,#CLE}
		|parametre_url{redirect,[(#SELF
			|parametre_url{nb,#COMPTEUR_BOUCLE})]})]'>
		<strong>#COMPTEUR_BOUCLE</strong>
		[(#CHEMIN_IMAGE{migration_suivante.png}|image_reduire{100}|inserer_attribut{alt,#VALEUR})]
		<span>#VALEUR</span>
	</a>
	</div>
#BOITE_FERMER
]

[(#COMPTEUR_BOUCLE|=={1}|et{#GET{next}}|et{#GET{next}|=={#TOTAL_BOUCLE|plus{1}}}|oui)
#BOITE_OUVRIR{Recommencer les étapes ?,simple}
	<div id='next_migration'>
	<a href='[(#URL_ACTION_AUTEUR{migrateur,#CLE}
		|parametre_url{redirect,[(#SELF
			|parametre_url{nb,#COMPTEUR_BOUCLE})]})]'>
		<strong>#COMPTEUR_BOUCLE</strong>
		[(#CHEMIN_IMAGE{migration_recommencer.png}|image_reduire{100}|inserer_attribut{alt,#VALEUR})]
		<span>#VALEUR</span>
	</a>
	</div>
#BOITE_FERMER
]
</BOUCLE_migration_next>

<style type='text/css'>
.logo_navigation {text-align:center;}
#next_migration { text-align:center; }
#next_migration a { vertical-align:middle;  padding:2px; border-radius:5px; display:inline-block; }
#next_migration a:hover { text-decoration:none; background:#f3f3f3; }
#next_migration a strong { font-size:3em; vertical-align: middle; }
#next_migration a img { vertical-align:middle; }
#next_migration a span { display:block; }
</style>
