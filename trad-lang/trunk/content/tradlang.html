<BOUCLE_tradlang(TRADLANGS){id_tradlang}>
<div class="contenu-principal">
<BOUCLE_auth_voir(CONDITION){si #AUTORISER{voir,tradlang}|oui}>
	[(#AUTORISER{modifier,tradlang,#ID_TRADLANG}|oui)[(#SET{auth_modifier,oui})]]
	<BOUCLE_module(TRADLANG_MODULES){module}>[(#SET{lang_mere,#LANG_MERE})]
	<div class="actions"><a href="[(#URL_TRADLANG_MODULE{#ID_TRADLANG_MODULE}|parametre_url{lang_cible,#_tradlang:LANG}|parametre_url{lang_orig,#ENV{lang_orig}})]" class="btn icon-back"><:tradlang:lien_retour_module{module=#NOM_MOD}:></a></div>
	</BOUCLE_module>
	<BOUCLE_tradlang_orig(TRADLANGS){module}{id}{lang=#GET{lang_mere}}>
	#SET{id_tradlang_orig,#ID_TRADLANG}
	</BOUCLE_tradlang_orig>
	<div class="cartouche">
		[(#ENV{lang_orig}|non)[(#SET{lang_orig_long,#GET{lang_mere}|traduire_nom_langue})]]
		[(#ENV{lang_orig}|oui)[(#SET{lang_orig_long,#ENV{lang_orig}|traduire_nom_langue})]]
		#SET{lang_orig,#ENV{lang_orig,#GET{lang_mere}}}
		#SET{lang_cible_long,#LANG|traduire_nom_langue}
		<h1><:tradlang:titre_traduction_chaine_de_vers{module=#MODULE,chaine=#ID,lang_orig=#GET{lang_orig},lang_orig_long=#GET{lang_orig_long},lang_cible=#LANG,lang_cible_long=#GET{lang_cible_long}}:></h1>
		[(#INCLURE{fond=inclure/tradlang_precedent_suivant,id_tradlang,id_tradlang_module,lang_orig=#GET{lang_orig},lang_cible=#GET{lang_cible},statuts=#LISTE{NEW,MODIF,RELIRE}})]
	</div>
	[(#GET{auth_modifier}|=={oui}|oui)
	<div class="ajax">
	#FORMULAIRE_EDITER_TRADLANG{#ENV{id_tradlang},#ENV{retour},#GET{lang_orig}}
	</div>]
	<BOUCLE_si_pas_modif(CONDITION){si #GET{auth_modifier}|=={oui}|non}>
	[(#BOITE_OUVRIR{'',error})]
		<p><:tradlang:erreur_modif_tradlang_session:></p>
		<p><:tradlang:erreur_modif_tradlang_session_identifier:></p>
	[(#BOITE_FERMER)]
	
	<B_recherche_tradlang>
	<div class="liste resultats tradlang">
	<table class="spip liste_traductions ss_tablesort">
		<thead>
			<tr class="row_first">
				<th>
					<:tradlang:codelangue:>
				</th>
				<th>
					<:tradlang:th_module:>
				</th>
				<th>
					<:tradlang:th_langue_origine:>
				</th>
				<th>
					<:tradlang:th_langue_voulue{lang=#GET{lang_orig}}:>
				</th>
				<th>
					<:tradlang:th_traduction_voulue{lang=#LANG}:>
				</th>
				<th width="50px">
					<:tradlang:th_status:>
				</th>
			</tr>
		</thead>
		<tbody>
		<BOUCLE_recherche_tradlang(TRADLANGS tradlang_modules){id_tradlang}{tri #GET{par},#GET{defaut_tri}}{pagination #ENV{pagination,20}}>
			<tr class="[(#COMPTEUR_BOUCLE|alterner{row_odd,row_even})] statut_[(#STATUT|strtolower)]">
				<td>#ID</td>
				<td>#NOM_MOD</td>
				<BOUCLE_revise_orig(TRADLANGS){lang=#LANG_MERE}{id=#ID}{0,1}>
				#SET{id_lang_mere,#ID_TRADLANG}
				<td>[(#STR**|entites_html|nl2br)]</td>
				</BOUCLE_revise_orig>
				</B_revise_orig>
				<td><:tradlang:str_existe_plus:></td>
				<//B_revise_orig>
				<BOUCLE_revise_langue_voulue(TRADLANGS){lang=#GET{lang_orig}}{id=#ID}{0,1}>
				#SET{id_lang_voulue,#ID_TRADLANG}
				<td>[(#STR**|entites_html|nl2br)]</td>
				</BOUCLE_revise_langue_voulue>
				<td class="#EDIT{str_statut}">
					[(#GET{id_lang_mere}|=={#ID_TRADLANG}|non)[(#STR**|entites_html|nl2br)]]
					[(#GET{id_lang_mere}|=={#ID_TRADLANG}|oui)<em><:tradlang:info_chaine_originale:></em>]
				</td>
				<td class="status" width="50px">[(#STATUT)]</td>
			</tr>
			</BOUCLE_recherche_tradlang>
			</tbody>
		</table>
		[<div class="pagination">(#PAGINATION)</div>]
	</div>
	</B_recherche_tradlang>
	</BOUCLE_si_pas_modif>
	[(#CONFIG{objets_versions}|unserialize|is_array|?{#SET{objets_versions,#CONFIG{objets_versions}|unserialize},#SET{objets_versions,#ARRAY}})]
	[(#VAL{spip_tradlangs}|in_array{#GET{objets_versions}}|oui)
	<div>
		<h2 class="h2">
			<:tradlang:titre_modifications_chaines:>
		</h2>
		<h3><:tradlang:titre_modifications_chaine_traduite:></h3>
		#SET{url_modif,#URL_PAGE{traduction}|parametre_url{etape,revision}}
		[(#INCLURE{fond=prive/objets/liste/versions,objet=tradlang,url_modif=#GET{url_modif},id_objet=#ID_TRADLANG,env,ajax}|sinon{<p><:tradlang:info_chaine_jamais_modifiee:></p>})]
		<h3><:tradlang:titre_modifications_chaine_originale:></h3>
		#SET{url_modif,#URL_PAGE{traduction}|parametre_url{etape,revision}}
		[(#INCLURE{fond=prive/objets/liste/versions,objet=tradlang,url_modif=#GET{url_modif},id_objet=#GET{id_tradlang_orig},env,ajax}|sinon{<p><:tradlang:info_chaine_jamais_modifiee:></p>})]
	</div>]
	<div>
		[(#REM) Forum de la chaine de langue ]
		[(#INCLURE{fond=inclure/forum,objet=tradlang,titre_liste_commentaires=<:tradlang:titre_commentaires_chaines:>,repondre_titre=<:tradlang:titre_commenter_chaine:>,id_objet=#ID_TRADLANG,repondre_url=oui}|trim|sinon{<p><:tradlang:info_aucun_commentaire_chaine:></p>})]
		[(#PLUGIN{comments}|non)
		#FORMULAIRE_FORUM{#SELF,tradlang,#ID_TRADLANG}]
	</div>
</BOUCLE_auth_voir>
</B_auth_voir>
#LOGIN_PUBLIC
<//B_auth_voir>
</div>
</BOUCLE_tradlang>