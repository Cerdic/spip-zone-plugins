<div class="formulaire_spip formulaire_switcher_langue" id="formulaire_switcher_langue">
<form action="[(#ENV{action})]" method="get"><div>
	[(#ENV{action}|form_hidden)]
	[<input type="hidden" name="lang" value="(#ENV{lang})" />]
	<ul>
		[(#ENV{titre}|oui)
		<li class="fieldset">
			<fieldset>
			<h3 class="legend">#ENV{titre}</h3>
			<ul>
		]
		<li class="editer editer_#ENV{name}">
			<select name="#ENV{name}[(#ENV{multiple}|?{[(#VAL{&#91;&#93;}|html_entity_decode)]})]"[(#ENV{multiple}|oui) multiple="multiple" size="[(#ENV{size,10})]"] id="#ENV{name}">
				[(#ENV{option_vide}|oui)
				<option value="">--</option>]
				<B_module_langue_dispo_pref>
				<optgroup label="<:tradlang:info_langues_preferees|attribut_html:>">
				<BOUCLE_module_langue_dispo_pref(TRADLANGS tradlang_modules){langues_preferees}{module?}{id_tradlang_module?}{lang != #ENV{lang_exclue}}{fusion lang}{par lang}>
					[(#ENV{multiple}|non)
					<option value="#LANG"[(#LANG|=={#ENV{#ENV{name}}}|oui)selected="selected"] dir="#LANG_DIR">&#91;#LANG&#93; [(#LANG|traduire_nom_langue)][(#LANG|=={#LANG_MERE}|oui)<:tradlang:info_langue_mere:>]</option>]
					[(#ENV{multiple}|oui)
					<option value="#LANG"[(#LANG|in_array{#ENV{#ENV{name},#ARRAY}}|oui)selected="selected"] dir="#LANG_DIR">&#91;#LANG&#93; [(#LANG|traduire_nom_langue)][(#LANG|=={#LANG_MERE}|oui)<:tradlang:info_langue_mere:>]</option>]
				</BOUCLE_module_langue_dispo_pref>
				[(#SET{optgroup,'oui'})]
				</optgroup>
				</B_module_langue_dispo_pref>
				<B_module_langue_dispo>
				[(#GET{optgroup}|=={oui})<optgroup label="<:tradlang:info_langues_non_preferees|attribut_html:>">]
				<BOUCLE_module_langue_dispo(TRADLANGS tradlang_modules){!langues_preferees}{module?}{id_tradlang_module?}{lang != #ENV{lang_exclue}}{fusion lang}{par lang}{tout}>
					[(#ENV{multiple}|non)
					<option value="#LANG"[(#LANG|=={#ENV{#ENV{name}}}|oui)selected="selected"] dir="#LANG_DIR">&#91;#LANG&#93; [(#LANG|traduire_nom_langue)][(#LANG|=={#LANG_MERE}|oui)<:tradlang:info_langue_mere:>]</option>]
					[(#ENV{multiple}|oui)
					<option value="#LANG"[(#LANG|in_array{#ENV{#ENV{name},#ARRAY}}|oui)selected="selected"] dir="#LANG_DIR">&#91;#LANG&#93; [(#LANG|traduire_nom_langue)][(#LANG|=={#LANG_MERE}|oui)<:tradlang:info_langue_mere:>]</option>]
				</BOUCLE_module_langue_dispo>
				[(#GET{optgroup}|=={oui})</optgroup>]
				</B_module_langue_dispo>
			</select>
		[(#ENV{titre}|oui)
				</fieldset>
			</li>
		</ul>]
		</li>
	</ul>
	<p class="boutons">
	<input type="submit" class="submit" value="<:bouton_valider:>" title="<:info_rechercher:>" />
	</p>
</div></form>
</div>
