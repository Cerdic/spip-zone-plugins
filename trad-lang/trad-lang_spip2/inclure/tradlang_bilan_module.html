<BOUCLE_module(TRADLANG_MODULES){id_tradlang_module}>
<BOUCLE_compte_langue_mere(TRADLANGS){id_tradlang_module}{lang=#LANG_MERE}> </BOUCLE_compte_langue_mere>
[(#SET{total_mere,#GRAND_TOTAL})]
</B_compte_langue_mere>
[(#SET{langues,#ARRAY})]
<BOUCLE_langues_sort(TRADLANGS){id_tradlang_module}{fusion lang}>
<BOUCLE_strings_ok(TRADLANGS){id_tradlang_module}{lang=#LANG}{statut = 'OK'}> </BOUCLE_strings_ok>
[(#SET{langues,#GET{langues}|array_merge{#ARRAY{#LANG,#GRAND_TOTAL}}})]
</B_strings_ok>
[(#SET{langues,#GET{langues}|array_merge{#ARRAY{#LANG,0}}})]
<//B_strings_ok>
</BOUCLE_langues_sort>
[(#SET{langues,#GET{langues}|langues_sort{#LANG_MERE}})]
<B_langues_totales>
[(#SET{langues_nb,#GET{langues}|count})]

<h3 class="h3"><:tradlang:titre_bilan_module{module=#NOM_MOD}:></h3>

#FORMULAIRE_FAVORI

#SET{langue_mere_longue,#LANG_MERE|traduire_nom_langue}
<p><:tradlang:info_module_traduit_langues{nb=#GET{langues_nb}}:></p>
<p><:tradlang:info_module_nb_items_langue_mere{lang_mere=#LANG_MERE,lang_mere_longue=#GET{langue_mere_longue},nb=#GET{total_mere}}:></p>
<p><a href="[(#SELF|parametre_url{id_tradlang_module,''})]" class="btn"><:tradlang:lien_trier_langue_non:></a></p>

<div class="actions">
[(#BOUTON_ACTION{<:tradlang:bouton_exporter_fichier_zip:>,[(#URL_ACTION_AUTEUR{tradlang_exporter_zip,[(#ID_TRADLANG_MODULE)],#SELF})]})]
</div>
<table class="bilan spip liste tablesorter">
	<thead>
		<tr class="row_first">
			<th><:tradlang:th_langue:></th>
			<th class="items_traduits"><:tradlang:th_items_traduits:></th>
			<th class="items_modifs"><:tradlang:th_items_modifs:></th>
			<th class="items_new"><:tradlang:th_items_new:></th>
			<th class="avancement"><:tradlang:th_avancement:></th>
			<th class="ts_disabled"></th>
			<th class="ts_disabled"></th>
			<th class="ts_disabled"></th>
		</tr>
	</thead>
	<tbody>
	<BOUCLE_langues_totales(POUR){tableau #GET{langues}}>[(#SET{langue_longue,#CLE|traduire_nom_langue})][(#SET{full,''})][(#SET{langue_mere,#LANG_MERE})]
	<tr class="lang">
		<td><a href="[(#SELF|parametre_url{id_tradlang_module,''}|parametre_url{langue_modules,#CLE})]" title="<:tradlang:lien_voir_bilan_lang{lang=#CLE,langue_longue=#GET{langue_longue}}|attribut_html:>">[#CLE][ (#GET{langue_longue})]</a></td>
		<BOUCLE_ok_langue(TRADLANGS){id_tradlang_module}{lang=#CLE}{statut=OK}> </BOUCLE_ok_langue>[(#SET{total_ok,#GRAND_TOTAL})]
		<td><abbr title="[(#GET{total_ok}|singulier_ou_pluriel{tradlang:info_nb_items_module_ok_un,tradlang:info_nb_items_module_ok,nb,#ARRAY{module,#NOM_MOD,lang,#CLE,langue_longue,#GET{langue_longue}}}|attribut_html)]">#GRAND_TOTAL</abbr></td></B_ok_langue>[(#SET{total_ok,0})]
		<td><abbr title="<:tradlang:info_nb_items_module_ok_aucun{module=#NOM_MOD,lang=#CLE,langue_longue=#GET{langue_longue}}|attribut_html:>">#GET{total_ok}</abbr></td><//B_ok_langue>
		<BOUCLE_modif_langue(TRADLANGS){id_tradlang_module}{lang=#CLE}{statut=MODIF}> </BOUCLE_modif_langue>[(#SET{total_modif,#GRAND_TOTAL})]
		<td><abbr title="[(#GET{total_modif}|singulier_ou_pluriel{tradlang:info_nb_items_module_modif_un,tradlang:info_nb_items_module_modif,nb,#ARRAY{module,#NOM_MOD,lang,#CLE,langue_longue,#GET{langue_longue}}}|attribut_html)]">#GRAND_TOTAL</abbr></td></B_modif_langue>[(#SET{total_modif,0})]
		<td><abbr title="<:tradlang:info_nb_items_module_modif_aucun{module=#NOM_MOD,lang=#CLE,langue_longue=#GET{langue_longue}}|attribut_html:>">[(#GET{total_modif})]</abbr></td><//B_modif_langue>
		<BOUCLE_new_langue(TRADLANGS){id_tradlang_module}{lang=#CLE}{statut=NEW}> </BOUCLE_new_langue>[(#SET{total_new,#GRAND_TOTAL})]<td>
			<abbr title="[(#GET{total_new}|singulier_ou_pluriel{tradlang:info_nb_items_module_new_un,tradlang:info_nb_items_module_new,nb,#ARRAY{module,#NOM_MOD,lang,#CLE,langue_longue,#GET{langue_longue}}}|attribut_html)]">#GET{total_new}</abbr>
		</td></B_new_langue>[(#SET{total_new,[(#GET{total_mere}|moins{[(#GET{total_ok})]}|moins{[(#GET{total_modif})]})]})]
		<td>[(#GET{total_new}|=={0}|oui)
			<abbr title="<:tradlang:info_nb_items_module_new_aucun{module=#NOM_MOD,lang=#CLE,langue_longue=#GET{langue_longue}}|attribut_html:>">][(#GET{total_new}|=={0}|non)
			<abbr title="<:tradlang:info_nb_items_module_new{module=#NOM_MOD,nb=#GET{total_new},lang=#CLE,langue_longue=#GET{langue_longue}}|attribut_html:>">][(#GET{total_new})]</abbr>
		</td><//B_new_langue>
		<td>[(#SET{percent_ok,[(#GET{total_ok}|div{#GET{total_mere}}|mult{100}|floor)]})][
			(#SET{percent_modif,[(#GET{total_modif}|div{#GET{total_mere}}|mult{100}|floor)]})][
			(#SET{percent_new,[(#VAL{100}|moins{#GET{percent_ok}}|moins{#GET{percent_modif}})]})][
			(#SET{total_ok_full,[(#GET{total_ok_full}|plus{#GET{percent_ok}})]})][
			(#SET{total_modif_full,[(#GET{total_modif_full}|plus{#GET{percent_modif}})]})][
			(#SET{total_new_full,[(#GET{total_new_full}|plus{#GET{percent_new}})]})
			]<span class="valeur_traduit">#GET{percent_ok}%</span>
			<div class="graph" title="<:tradlang:info_module_traduit_pc_lang{pc=#GET{percent_ok},module=#NOM_MOD,lang=#CLE,langue_longue=#GET{langue_longue}}|attribut_html:>">
				<div class="ok"[ style="width: (#GET{percent_ok})px"]> </div>
				<div class="modif" style="#LANG_LEFT: #GET{percent_ok}px; width: #GET{percent_modif}px"></div>
				<div class="new" style="#LANG_LEFT: [(#GET{percent_ok}|plus{#GET{percent_modif}})]px; width: #GET{percent_new}px"> </div>
			</div>
		</td>
		<td>[(#CLE|=={#LANG_MERE}|non)
			<a href="[(#URL_TRADLANG_MODULE|parametre_url{lang_cible,#CLE})]" title="<:tradlang:info_traduire_module_lang{lang=#CLE,langue_longue=#GET{langue_longue},module=#NOM_MOD}|attribut_html:>" class="btn"><:tradlang:bouton_traduire:></a>
		]</td>
		<td>[(#BOUTON_ACTION{<:tradlang:bouton_exporter_fichier:>,[(#URL_ACTION_AUTEUR{tradlang_exporter_langue,[(#ID_TRADLANG_MODULE|concat{/#CLE})],#SELF})]})]</td>
		<td>[(#BOUTON_ACTION{<:tradlang:bouton_exporter_fichier_po:>,[(#URL_ACTION_AUTEUR{tradlang_exporter_langue,[(#ID_TRADLANG_MODULE|concat{/#CLE}|concat{/po})],#SELF})]})]</td>
	</tr>
	</BOUCLE_langues_totales>[(#SET{total_modules,#TOTAL_BOUCLE})]
	</tbody>
	<tfoot>
		<tr>
			<td><:tradlang:tfoot_total:></td>
			<td></td>
			<td>[(#SET{percent_ok_full,[(#GET{total_ok_full}|div{#TOTAL_BOUCLE}|floor)]})][(#GET{percent_ok_full})%]</td>
			<td>[(#SET{percent_ok_modif,[(#GET{total_modif_full}|div{#TOTAL_BOUCLE}|floor)]})][(#GET{percent_ok_modif})%]</td>
			<td>[(#SET{percent_ok_new,[(#GET{total_new_full}|div{#TOTAL_BOUCLE}|floor)]})][(#GET{percent_ok_new})%]</td>
			<td>
				<span class="valeur_traduit">[(#GET{percent_ok_full}|floor)%]</span>
				<div class="graph">
					<div class="ok"[ style="width: (#GET{percent_ok_full})px"]> </div>
					<div class="modif" style="#LANG_LEFT: [(#GET{percent_ok_full})]px; width: [(#GET{total_modif_full}|div{#TOTAL_BOUCLE}|floor)]px"></div>
					<div class="new" style="#LANG_LEFT: [(#GET{percent_ok_full}|plus{[(#GET{total_modif_full}|div{#TOTAL_BOUCLE}|floor)]})]px; width: [(#GET{percent_ok_new})]px"> </div>
				</div>
			</td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</tfoot>
	</B_langues_totales>
</table>
</BOUCLE_module>
#FILTRE{trim}
