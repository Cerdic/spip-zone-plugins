<BOUCLE_tous (DOCUMENTS spip_types_documents) {id_document}>[
(#REM) on trouvera plusieurs variable de hauteur/largeur
- les balises #HAUTEUR et #LARGEUR
- #ENV{hauteur} et {largeur} correspondant <emb|hauteur=xx...>
- #GET{hauteur} et #GET{largeur} correspondent prioritairement a #ENV,
  puis #LARGEUR/HAUTEUR sauf si il y a un controleur
]
#SET{hauteur,#ENV{hauteur,#HAUTEUR}} #SET{largeur,#ENV{largeur,#LARGEUR}}
[(#ENV{controls}=={PlayButton}|?{#SET{hauteur,25},''})][
 (#ENV{controls}=={PlayButton}|?{#SET{largeur,40},''})][
 (#ENV{controls}=={PositionSlider}|?{#SET{hauteur,25},''})][
 (#ENV{controls}=={PositionSlider}|?{#SET{largeur,#GET{largeur}|moins{40}},''})
][(#INCLUS|=={embed}|?{[(#ENV{controls,''}|?{'',' '})
<div class='spip_document_#ID_DOCUMENT spip_documents[ spip_documents_(#ENV{align})]'[
style='[(#ENV{align}|match{^(left|right)$}|?{' '})float:#ENV{align};] (#ENV{align,center}|=={center}|?{'',' '})[width:(#GET{largeur}|intval|max{120})px]']>
]})
][(#EXTENSION|=={svg}|?{' '})
<embed src='#URL_DOCUMENT' [(#ENV*|env_to_attributs)] width='#GET{largeur}' height='#GET{hauteur}' />
#SET{done,1}
][(#EXTENSION|match{^(rm|ram|ra)$}|?{' '})
[(#ENV{controls,''}|?{'',' '})
	<div>
	[(#MODELE{emb,controls=ImageWindow,type=audio/x-pn-realaudio-plugin,console=Console#ID_DOCUMENT,nojava=true})]
	</div>
	[(#MODELE{emb,controls=PlayButton,type=audio/x-pn-realaudio-plugin,console=Console#ID_DOCUMENT,nojava=true})]
	[(#MODELE{emb,controls=PositionSlider,type=audio/x-pn-realaudio-plugin,console=Console#ID_DOCUMENT,nojava=true})]
	#SET{done,1}
]
][(#EXTENSION|=={swf}|?{' '})
<object classid='clsid:d27cdb6e-ae6d-11cf-96b8-444553540000' 
 codebase='http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=#ENV{version,'6,0,0,0'}' 
 width='#GET{largeur}' height='#GET{hauteur}'>
	<param name='movie' value='#URL_DOCUMENT' />
	[(#ENV{quality,''}|?{'',' '})<param name="quality" value="high" />]
	[(#ENV*|env_to_params)]
	<!--#EVAL**{chr(91)}if !IE#EVAL**{chr(93)}> <-->
	<object data="#URL_DOCUMENT" width='#GET{largeur}' height='#GET{hauteur}' type="application/x-shockwave-flash">
		[(#ENV{quality,''}|?{'',' '})<param name="quality" value="high" />]
		[(#ENV*|env_to_params)]
		<param name="pluginurl" value="http://www.macromedia.com/go/getflashplayer" />
	</object>
	<!--> <!#EVAL**{chr(91)}endif#EVAL**{chr(93)}-->
</object>
#SET{done,1}
][(#GET{done,0}|?{'',' '})
[(#INCLUS|=={embed}|?{' '})
<object width='#GET{largeur}' height='#GET{hauteur}'>
<param name='movie' value='#URL_DOCUMENT' />
<param name='src' value='#URL_DOCUMENT' />
[(#ENV*|env_to_params)]
<embed src='#URL_DOCUMENT' [(#ENV*|env_to_attributs)] width='#GET{largeur}' height='#GET{hauteur}'></embed></object>

][(#INCLUS|=={image}|?{' '})
[(#INCLURE{fond=modeles/img_cliquable}{id_document}{align=#ENV{align}}{embed=oui}{lien=#ENV{lien}}{coord1=#ENV{coord1}}{type1=#ENV{type1}}{alt1=#ENV{alt1}}{lien1=#ENV{lien1}}{coord2=#ENV{coord2}}{type2=#ENV{type2}}{alt2=#ENV{alt2}}{lien2=#ENV{lien2}}{coord3=#ENV{coord3}}{type3=#ENV{type3}}{alt3=#ENV{alt3}}{lien3=#ENV{lien3}}{coord4=#ENV{coord4}}{type4=#ENV{type4}}{alt4=#ENV{alt4}}{lien4=#ENV{lien4}}{coord5=#ENV{coord5}}{type5=#ENV{type5}}{alt5=#ENV{alt5}}{lien5=#ENV{lien5}}{coord6=#ENV{coord6}}{type6=#ENV{type6}}{alt6=#ENV{alt6}}{lien6=#ENV{lien6}}{coord7=#ENV{coord7}}{type7=#ENV{type7}}{alt7=#ENV{alt7}}{lien7=#ENV{lien7}}{coord8=#ENV{coord8}}{type8=#ENV{type8}}{alt8=#ENV{alt8}}{lien8=#ENV{lien8}}{coord9=#ENV{coord9}}{type9=#ENV{type9}}{alt9=#ENV{alt9}}{lien9=#ENV{lien9}}{coord10=#ENV{coord10}}{type10=#ENV{type10}}{alt10=#ENV{alt10}}{lien10=#ENV{lien10}}{coord11=#ENV{coord11}}{type11=#ENV{type11}}{alt11=#ENV{alt11}}{lien11=#ENV{lien11}}{coord12=#ENV{coord12}}{type12=#ENV{type12}}{alt12=#ENV{alt12}}{lien12=#ENV{lien12}}{lien_class=#ENV{lien_class}})]
]
][(#ENV{controls,''}|?{'',' '})
[<div class='spip_doc_titre'><strong>(#TITRE)</strong></div>][<div class='spip_doc_descriptif'>(#DESCRIPTIF)</div>]


]
</BOUCLE_tous>
