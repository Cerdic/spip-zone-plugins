[(#REM)
               ACS
           (Plugin Spip)
      http://acs.geomaticien.org

  Copyright Daniel FAIVRE, 2007-2010
  Copyleft: licence GPL - Cf. LICENCES.txt

  JS interface d'admin d'ACS - ACS admin GUI
]#HTTP_HEADER{'Content-Type: text/javascript'}

  jQuery(".edit_composant").each(
  	function(i, composant) {
    	jQuery(this).draggable({zIndex: 99999000, handle: ".acs_box_titre"});
    	jQuery(this).find(".acs_box_titre").css("cursor", "move");
  	}
  );
  jQuery(".type_pinceau").each(
  	function(i, composant) {
    	jQuery(this).draggable({
    		helper: "clone",
    		delay: 100,
    		distance: 20,
    		ghosting: true,
    		opacity:	0.9,
        cursor: "move",
        zIndex: 99999999
			});
  	}
  );
  jQuery(".cadre-composant").droppable({
  	accept: ".type_pinceau",
    greedy: true,
    tolerance: "pointer",
		activeClass: "ctlWidget_droppable_active",
		hoverClass: "ctlWidget_droppable_over",
		over: function(e, cc) {
			var dropid = jQuery(this).attr("id");
      var from = cc.draggable.parent().attr("id");
			var c = cc.draggable.attr("class");
			c = c.match(/\b\w+-(\w+)-(\d+)\b/);
			var com = c[1];
			var nic = c[2];
			window.status =  com + " " + nic + " : " + from + " => " + dropid + " doesn\'t work, yet : drag/drop is still under development !!!";
		},
    drop: function(e, cc) {
      jQuery(".cadre-composant").removeClass("ctlWidget_droppable_over");
      var dropid = jQuery(this).attr("id");
      var current = jQuery(this).find(".type_pinceau");
      var current_i = current.attr("class").match(/\b\w+-(\w+)-(\d+)\b/);
      var current_c = current_i[1];
      var current_nic = current_i[2];
      var from = cc.draggable.parent().attr("id");
      var c = cc.draggable.attr("class");
      c = c.match(/\b\w+-(\w+)-(\d+)\b/);
      var com = c[1];
      var nic = c[2];      
      cc.draggable.parent().append(current);
      jQuery(this).append(cc.draggable);
      window.status = com + " " + nic + " : " + from + " => " + current_c + " " + current_nic + " : " + dropid;
    }
	});
  try {init_palette();}
  catch(e) {}