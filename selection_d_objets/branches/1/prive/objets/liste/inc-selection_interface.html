<B_selection>
<div id="selection_objets_#LANG">
<table class='spip liste'>
    [<caption><strong class="caption">(#ENV*{titre,#GRAND_TOTAL|singulier_ou_pluriel{selection_objet:info_1_selection_objet,selection_objet:info_nb_selection_objets}})
              [(#GET{langues}|count|>{1}|oui)
                [(#VALEUR)]
              ]</strong>
      </caption>]

    <BOUCLE_selection(SELECTION_OBJETS){par ordre,lang}{lang}{statut ?}{id_objet_dest ?} {objet_dest ?}>
    
    [<tr class="tr_liste" id='#ID_OBJET'>(#ID_OBJET|generer_modele{#OBJET,modeles_so/selection_interface_tr,#ARRAY{
        id_selection_objet,#ID_SELECTION_OBJET,
        langue,#LANG,
        objet_dest,#OBJET_DEST,
        id_objet_dest,#ID_OBJET_DEST,
        total_boucle,#TOTAL_BOUCLE,
        id_selection_objet,#ID_SELECTION_OBJET,
        titre,#TITRE,
        compteur_boucle,#COMPTEUR_BOUCLE,
        date,#DATE,
        type_lien,#TYPE_LIEN,       
        }})</tr>] 
    </BOUCLE_selection>
    </table>
    </div>
</B_selection>

<script type="text/javascript">
    $(function() {
        [(#REM)action rangement]
        $('.tr_liste a.select').click(function(){
          $('#selection_objets').load($(this).attr("href"));
           return false;
        });  
        [(#REM)drag and drop]     
        $( "#selection_objets_#LANG" ).sortable({items:"tr.tr_liste"});
        $( "#selection_objets_#LANG" ).bind("sortupdate", function(event, ui) {
            var ordre = $(this).sortable('toArray').toString();
            $('#selection_objets').load('[(#URL_ACTION_AUTEUR{ranger,nouvel_ordre-#LANG-0-0-[(#OBJET_DEST)]-[(#ENV{id_objet_dest})]-load}|replace{&amp;,&})]&nouvel_ordre='+ordre);
        });
    });
    </script>
  
