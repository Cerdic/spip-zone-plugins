<div class="ajax formulaire_spip formulaire_#FORM formulaire_#FORM-#ENV{id,nouveau}">
	[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV**{message_ok})</p>]
	[<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV**{message_erreur})</p>]
	[(#ENV{editable})
	<form method='post' action='#ENV{action}'><div>
		[(#REM) déclarer les hidden qui déclencheront le service du formulaire
		paramêtre : url d'action ]
		#ACTION_FORMULAIRE{#ENV{action}}
		#SET{fl,produits}
		<ul class="editer-groupe">
			#SET{name,titre}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text multilang" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}"
				        placeholder="<:info_sans_titre|attribut_html:>"
				        [(#HTML5|et{#GET{obli}})required='required']/>
			</li>
			#SET{name,reference}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
			</li>
			[(#SAISIE{selecteur_rubrique,parent,
					multiple=non,
					label=<:produits:produit_champ_rubrique_label:>})]
			#SET{name,#CONFIG{produits/editer_ttc}|?{prix_ttc,prix_ht}}#SET{obli,'obligatoire'}#SET{defaut,'0'}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
			</li>
			#SET{name,taxe}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']
				placeholder="#ENV{_taxe_defaut}"
				/><span>&nbsp;&#37;</span>
				<p class="explication"><:produits:produit_champ_taxe_explication{taxe=#ENV{_taxe_defaut}&nbsp;&#37;}:></p>
			</li>
			#SET{name,descriptif}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<textarea name="#GET{name}" class="textarea multilang" id="#GET{name}" rows="3">
#ENV*{#GET{name},#GET{defaut}}</textarea>
			</li>
			#SET{name,texte}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<textarea name="#GET{name}" class="textarea multilang" id="#GET{name}">
#ENV*{#GET{name},#GET{defaut}}</textarea>
			</li>
			<li class="fieldset">
				<fieldset>
					<legend><:produits:legend_dimensions:></legend>
					<ul>
						#SET{name,immateriel}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
						<li class="editer pleine_largeur editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">[
							<span class='erreur_message'>(#GET{erreurs})</span>
							]#SET{val,0}
							<input type="hidden" name="#GET{name}" value="#GET{val}" />
							#SET{val,1}
							<div class="choix">
								<input type="checkbox" name="#GET{name}" class="checkbox" id="#GET{name}_#GET{val}" value="#GET{val}"[(#ENV{#GET{name},#GET{defaut}}|=={#GET{val}}|oui)checked="checked"] />
								<label for="#GET{name}_#GET{val}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>
							</div>
						</li>
						<li class="editer editer_dimensions pleine_largeur">
							<div class="line">
								#SET{name,poids}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
								<div class="editer_poids unit size1of4[ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
									<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
									<span class='erreur_message'>(#GET{erreurs})</span>
									]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
								</div>
								#SET{name,largeur}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
								<div class="editer_poids unit size1of4[ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
									<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
									<span class='erreur_message'>(#GET{erreurs})</span>
									]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/> X
								</div>
								#SET{name,longueur}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
								<div class="editer_poids unit size1of4[ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
									<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
									<span class='erreur_message'>(#GET{erreurs})</span>
									]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/> X
								</div>
								#SET{name,hauteur}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
								<div class="editer_poids unit lastUnit size1of4[ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
									<label for="#GET{name}">[(#GET{fl}|concat{':produit_champ_',#GET{name},'_label'}|_T)]</label>[
									<span class='erreur_message'>(#GET{erreurs})</span>
									]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
								</div>
							</div>
						</li>
					</ul>
				</fieldset>
			</li>

		</ul>
	  [(#REM) ajouter les saisies supplémentaires : extra et autre, à cet endroit ]
	  <!--extra-->
	  <p class='boutons'><span class='image_loading'>&nbsp;</span>
			<input type='submit' class='submit' value='<:bouton_enregistrer|attribut_html:>' /></p>
	</div></form>
	]
</div>
<style>
	.editer_dimensions .unit input.text {width: 80%}
	.editer_taxe input.text {max-width: 5em;text-align: right}
</style>
<script type="text/javascript">
jQuery(function(){
	function update_immateriel(){
		if (jQuery('.editer_immateriel input.checkbox').prop('checked')){
			jQuery('.editer_dimensions').hide('fast');
		}
		else {
			jQuery('.editer_dimensions').show('fast');
		}
	}
	update_immateriel();
	jQuery('.editer_immateriel input.checkbox').bind('change',update_immateriel);
})
</script>