#CACHE{1800}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN"
	"http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">
<html xml:lang="#LANG" lang="#LANG" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv='Content-Type' content='text/html; charset=#CHARSET' />
	<title>Rainette - Demo</title>
	<style type="text/css">
		/* Layout Gala 24 */
		html,body{margin:0;padding:0}
		body{font: 76% arial,sans-serif}
		p{margin:0 10px 10px}
		a{display:block;color: #981793;padding:10px}
		div#header h1{height:80px;line-height:80px;margin:0;
		  padding-left:10px;background: #eee;color: #79b30b}
		div#content p{line-height:1.4}
		div#navigation{background:#b9caff}
		div#extra{background:#ff8539}
		div#footer{background: #333;color: #fff}
		div#footer p{margin:0;padding:5px 10px}
		div#wrapper{float:right;width:100%;margin-left:-200px}
		div#content{margin-left:200px;}
		div#navigation{float:left;width:200px}
		div#extra{float:left;clear:left;width:200px}
		div#footer{clear:both;width:100%}
		/* Personnalisation pour la demo */
		a.spip-admin-boutons {display: inline;}
		div#header h1{color:#798f74}
		div#content{padding-left:2em;padding-bottom:4em;}
		div#extra{background:#fff;}
		div#footer{padding:2em;}
		.h2{text-align:center;border-bottom:2px solid #798f74;color:#798f74}
		.h3{color:#798f74}
		table{border:1px solid #000000;border-collapse:collapse;}
		caption {background:#333;color:#eee;}
		th {font-weight: bold;border-bottom:1px solid #000}
		thead th {background: #ddd;}
		th,td,caption {padding: 0.75em;border-right:1px solid #000;}
		tbody tr:nth-child(even) th,
		tbody tr:nth-child(even) td,
		tbody tr.even th,
		tbody tr.even td {background: #eee;}
		tbody tr td.erreur {background: #fbe3e4;}
		tbody tr td.nonapi {background: #fff6bf;}
		tbody tr td.groupe {background: #798f74; color: #fff; font-weight: bold; text-align: center;}
		.clearfix:after{content:"\0020";display:block;height:0;clear:both;visibility:hidden;overflow:hidden;}
		div.clearfix{margin-bottom:30px; display: block; clear: both;}
		div.notice{padding:1em;color: #514721;border:2px solid #ffd324;background-color:#fff6bf;}
		.menu{background-color:#fefefe;margin-bottom:2em;padding:0;}
		.menu .h2{border:0;color:#000;}
		.menu .menu-items{margin-bottom: 0;}
		.menu-items {border-bottom:0 none;border-top: 1px solid #eee;list-style: none outside none;margin: 0 0 1.5em;padding: 0;}
		.menu-items .item {border-bottom: 1px solid #eee;clear: both;list-style: square outside none;margin-left: 0;overflow: hidden;padding: 0.75em 0;}
		.menu-items .item:hover {background-color: #eee;}
		.menu-items .item a {text-decoration:none;padding:0 0 0 1em;}
		.menu-items .item a:hover {text-decoration:underline;}
		.menu-items .item .on {padding:0 0 0 1em;}
	</style>
	#INSERT_HEAD
</head>

#SET{service, #ENV{service, weather}}
#SET{mode, #ENV{mode, conditions}}
#SET{jeu, #ARRAY{
			'weather', 'FRXX0076',
			'owm', 'Paris,Fr',
			'wwo', 'Paris,France',
			'wunderground', 'Paris,France'}}
#SET{lieu, #ENV{ville, #GET{jeu/#GET{service}}}}

<body>
	<div id="container">
	<div id="header">
		<h1>
			<img height="48" width="48" title="Plugin Rainette" alt="Plugin Rainette" src="#CHEMIN{rainette_logo-64.png}"/>
			PLUGIN RAINETTE[ ((#PLUGIN{RAINETTE, version}))]
		</h1>
	</div>

	<div id="wrapper">
		<div id="content">
			<h2 class="h2">1.1 - UTILISATIONS DES INFORMATIONS METEO</h2>
			<a name="infos" href="#"></a>
			<div class="clearfix">
				<div class="clearfix">
					<h3 class="h3">Utilisation du mod&eacute;le <strong>rainette_infos</strong></h3>
					[(#MODELE{rainette_infos,lieu=#GET{lieu},sous_modele=infos_ville, service=#GET{service}})]
					[<div class="clearfix">
						<h3 class="h3">Affichage debug du tableau des informations</h3>
						(#GET{lieu}|rainette_dbg_afficher_cache{infos, #GET{service}})
					</div>]
				</div>
				<div class="clearfix">
					<h3 class="h3">Utilisation de la balise <strong>RAINETTE_INFOS</strong></h3>
					<ul>
						<li>Ville observ&eacute;e:&nbsp;[<strong>(#RAINETTE_INFOS{#GET{lieu}, ville, #GET{service}})</strong>]</li>
						<li>Longitude, appel sans filtre unit&eacute;:&nbsp;[<strong>(#RAINETTE_INFOS{#GET{lieu}, longitude, #GET{service}})</strong>]</li>
						<li>Latitude, appel avec filtre unit&eacute;:&nbsp;[<strong>(#RAINETTE_INFOS{#GET{lieu}, latitude, #GET{service}}|rainette_afficher_unite{angle, -1, #GET{service}})</strong>]</li>
						<li>Appel sans type d'info pr&eacute;cis&eacute;e, on renvoie le tableau s&eacute;rialis&eacute;:&nbsp;[<strong>(#RAINETTE_INFOS{#GET{lieu}, '', #GET{service}})</strong>]</li>
						<li>Appel sans argument, on renvoie une chaine vide:&nbsp;[<strong>(#RAINETTE_INFOS)</strong>]</li>
					</ul>
				</div>
			</div>

			<h2 class="h2">1.2 - UTILISATIONS DES CONDITIONS METEO</h2>
			<a name="conditions" href="#"></a>
			<div class="clearfix">
				<h3 class="h3">Utilisation du mod&eacute;le <strong>rainette_conditions</strong></h3>
				[(#MODELE{rainette_conditions,lieu=#GET{lieu},sous_modele=conditions_tempsreel, service=#GET{service}})]
				[<div class="clearfix">
					<h3 class="h3">Affichage debug du tableau des conditions</h3>
					(#GET{lieu}|rainette_dbg_afficher_cache{conditions, #GET{service}})
				</div>]
			</div>


			<h2 class="h2">1.3 - UTILISATIONS DES PREVISIONS METEO</h2>
			<a name="previsions" href="#"></a>
			<div class="clearfix">
				<div class="clearfix">
					<h3 class="h3">Utilisation du mod&eacute;le <strong>rainette_previsions</strong>, pour les 5 jours suivants le jour courant (premier_jour=1, nombre_jours=5)</h3>
					[(#MODELE{rainette_previsions,lieu=#GET{lieu},premier_jour=1,nombre_jours=5,sous_modele=previsions_24h, service=#GET{service}})]
				</div>
				<div class="clearfix">
					<h3 class="h3">Utilisation du mod&eacute;le <strong>rainette_previsions</strong>, pour du jour courant au maximum des pr&eacute;visions (premier_jour=0)</h3>
					[(#MODELE{rainette_previsions,lieu=#GET{lieu},premier_jour=0,sous_modele=previsions_24h, service=#GET{service}})]
				</div>
				[<div class="clearfix">
					<h3 class="h3">Affichage debug du tableau des pr&eacute;visions</h3>
					<p>Seul le jour suivant le jour courant est affich&eacute; \(index \[1\] du sous-tableau \[donnees\]\). La p&eacute;riodicit&eacute; utilis&eacute;e est celle par d&eacute;faut pour le service concern&eacute;.</p>
					<br />
					(#GET{lieu}|rainette_dbg_afficher_cache{previsions, #GET{service}})
				</div>]
			</div>

			<h2 class="h2">2.0 - COMPARAISON DES DONNEES DE CHAQUE SERVICE</h2>
			<a name="comparaison" href="#"></a>
			<p>
				L&eacute;gende du tableau :
				<ul>
					<li><strong><del>API</del></strong>&nbsp;: indique que la donn&eacute;e ne fait pas partie des informations fournies par le service</li>
					<li><strong>Indisponible</strong>&nbsp;: indique que la donn&eacute;e est fournie par le service mais indisponible pour le moment</li>
				[(#GET{mode}|=={previsions}|oui)
					<li><strong>Pr&eacute;visions</strong>&nbsp;: les donn&eacute;es affich&eacute;es correspondent &agrave; celles de demain</li>
				]
				</ul>
			</p>
			<div class="clearfix">
				#SET{donnees, #GET{mode}|rainette_dbg_comparer_services{#GET{jeu}, 0}}
				#INCLURE{fond=demo/inc-comparer_services,
					jeu=#GET{jeu},
					donnees=#GET{donnees},
					mode=#GET{mode}}
			</div>
		</div>
	</div>

	<div id="navigation">
	</div>

	<div id="extra">
		<div class="menu" id="services">
			<h2 class="h2">M&eacute;t&eacute;o d'un service</h2>
			<p>Choisissez un service pour afficher les mod&egrave;les informations, conditions et pr&eacute;visions (1.1, 1.2, 1.3)</p>
			<ul class="menu-items">
			<BOUCLE_services(DATA) {source table, #GET{jeu}}>
				[<li class="item">
				(#SELF|parametre_url{service, #CLE}
					|lien_ou_expose{
						[(#VAL{rainette:titre_service_}|concat{#CLE}|_T)],
						[(#GET{service}|=={#CLE})]})
				</li>]
			</BOUCLE_services>
			</ul>
		</div>

		<div class="menu" id="modes">
			<h2 class="h2">Comparaison des services</h2>
			<p>Choisissez un mode pour comparer les donn&eacute;es fournies par chaque service (2.0)</p>
			<ul class="menu-items">
			<BOUCLE_modes(DATA) {source table, #LISTE{infos, conditions, previsions}}>
				[<li class="item">
				(#SELF|parametre_url{mode, #VALEUR}
					|lien_ou_expose{
						[(#VALEUR|ucfirst)],
						[(#GET{mode}|=={#VALEUR})]})
				</li>]
			</BOUCLE_modes>
			</ul>
		</div>

		<div class="menu" id="configuration">
			<h2 class="h2">Configuration des services</h2>
			<p>Choisissez un service pour vous rendre sur sa page de configuration</p>
			<ul class="menu-items">
			<BOUCLE_configurations(DATA) {source table, #GET{jeu}}>
				[<li class="item">
				(#URL_ECRIRE{configurer_rainette}|parametre_url{service, #CLE}
					|lien_ou_expose{
						[(#VAL{rainette:titre_service_}|concat{#CLE}|_T)]})
				</li>]
			</BOUCLE_configurations>
			</ul>
		</div>

	</div>

	<div id="footer">
		<p>Pour appeler la page de demo:</p>
		<ul>
			<li><strong>http://monsite/spip.php?page=demo/rainette</strong> (Paris par d&eacute;faut) ou</li>
			<li><strong>http://monsite/spip.php?page=demo/rainette&amp;ville=FRXXnnnn&amp;service=xxx</strong> pour pr&eacute;ciser la ville voire le service</li>
		</ul>
	</div>
</div>
</body>
</html>
