#CACHE{0}
#SET{colonnes_sans_tri,'0,1'}<BOUCLE_form(FORMS){id_form}>#SET{documents,#DOCUMENTS|=={oui}|?{' '}}</BOUCLE_form>
#SET{id,#ENV*{statuts}|serialize|md5|concat{_,#ID_FORM}}
[(#ENV{colonne_extra_titre,''}|?{' '})
	#SET{colonne_extra_titre,#ENV*{colonne_extra_titre}|supprimer_tags|attribut_html|trim}
	[(#GET{colonne_extra_titre}|?{'',' '})#SET{colonne_extra_titre,#ENV*{colonne_extra_titre}|extraire_attribut{alt}}]
]
<B_donnees>
<div class='verdana2'><p><div id="sorting_#GET{id}"><div>Tri en cours, un instant...</div></div><div id="filter_#GET{id}"></div></p></div><div style="clear:both">&nbsp;</div>
	<link rel="stylesheet" type="text/css" href="[(#EVAL{_DIR_PLUGIN_FORMS}|concat{donnees_tous.css}|url_absolue)]" />
	<script type="text/javascript" src="#EVAL{_DIR_PLUGIN_FORMS}javascript/jquery.tablesorter.dev.js"></script>
<div class='liste'>
<div style='position: relative;'>
	<div style='position: absolute; top: -12px; left: 3px;'><img src='#CHEMIN{img_pack/#TYPE_FORM-24.png}' alt="" /></div>
	<div style='background-color: #ENV{couleur_claire}; color: black; padding: 3px; padding-left: 30px; border-bottom: 1px solid #444444;' class='verdana2'>
	<div class='pagination' style='float:right;'>#PAGINATION</div>
	<b>#ENV*{titre_liste}</b>
	</div>
</div>
#SET{offset,0}
<table class="arial11 donnees" id='donnees_#GET{id}' width='100%' cellpadding='5' cellspacing='0' border='0'>
<thead>
	<tr>
		<th class='neutre' style='width:12px'></th>#SET{offset,#GET{offset}|plus{1}}
		<th class='neutre'>id</th>#SET{offset,#GET{offset}|plus{1}}
		[(#ENV{affiche_rang,1}|?{' '})<th>Rang</th>#SET{offset,#GET{offset}|plus{1}}]
		[(#ENV{affiche_de,1}|?{' '})<th>De</th>#SET{offset,#GET{offset}|plus{1}}]
		<BOUCLE_head(FORMS_CHAMPS){id_form}{type !IN (separateur,textestatique)}{tout}{par rang}>
		<th [(#SPECIFIANT|=={oui}|?{'','class="neutre"'})#SET{colonnes_sans_tri,#GET{colonnes_sans_tri}|concat{','}|concat{#COMPTEUR_BOUCLE|plus{#GET{offset}}|moins{1}}]>#TITRE</th>
		</BOUCLE_head>
		#SET{colonnes_sans_tri,#GET{colonnes_sans_tri}|concat{','}|concat{#TOTAL_BOUCLE|plus{#GET{offset}}}}
		[(#GET{documents})<th class='neutre'>&nbsp;</th>]
		[(#ENV{colonne_extra_titre,''}|?{' '})
		#SET{colonnes_sans_tri,#GET{colonnes_sans_tri}|concat{','}|concat{#TOTAL_BOUCLE|plus{#GET{offset}}|plus{1}}}		
		<th class='neutre'>&nbsp;</th>]
		</B_head>
	</tr>
</thead>
<tbody>
<BOUCLE_donnees(FORMS_DONNEES){id_form}{statut IN #ENV*{statuts}}{par rang}{pagination 200}>
#SET{lien_supp,#URL_ACTION_AUTEUR{forms_donnee_supprime,#ID_FORM:#ID_DONNEE,#EVAL{_DIR_RESTREINT_ABS}|concat{#SELF}|urlencode}}
#SET{lien_edit,''}
[(#REM|?{'','modifier'}|autoriser{'donnee',#ID_DONNEE}|?{' '})
#SET{lien_edit,#URL_ECRIRE{donnees_edit,id_form=#ID_FORM}|parametre_url{id_donnee,#ID_DONNEE}|parametre_url{retour,#SELF} }
]
	<tr class='tr_liste' onmouseover='$(this).activeCrayons();'>
		<td>[(#ID_DONNEE|forms_puce_statut_donnee{#STATUT,#ID_FORM})]</td>
		<td>[<a href='(#GET{lien_edit})'><img src='#EVAL{_DIR_PLUGIN_FORMS}img_pack/loupe.png' alt='' width='16' height='16' style='vertical-align:middle' /></a><a href='#GET{lien_edit}'>]#ID_DONNEE[(#GET{lien_edit}|?{' '})</a>]</td>
		[(#ENV{affiche_rang,1}|?{' '})<td>#RANG</td>]
		<BOUCLE_auteur(AUTEURS){id_auteur=#ID_AUTEUR}{tous}>[(#ENV{affiche_de,1}|?{' '})<td>#NOM</td>]</BOUCLE_auteur>[(#ENV{affiche_de,1}|?{' '})<td>#ID_AUTEUR:#IP</td>]<//B_auteur>
		<BOUCLE_body(FORMS_CHAMPS){id_form}{tout}{type !IN (separateur,textestatique)}{par rang}>
		<td><span class='#_donnees:EDIT{#CHAMP}'>#LESVALEURS{'<br />'}</span></td>
		</BOUCLE_body>
		[(#GET{documents})<td>]
		<BOUCLE_docs(DOCUMENTS){id_donnee}{0,1}>
		[(#GET{documents}|?{'',' '})<td>]
		<a href='#GET{lien_edit}'>#SET{src,#EVAL{_DIR_IMG_PACK}|concat{attachment.gif}}<img src='#GET{src}' largeur='' hauteur='' alt='<:titre_documents_joints:>' /></a>
		[(#GET{documents}|?{'',' '})</td>]
		</BOUCLE_docs>
		[(#GET{documents})</td>]
		[(#ENV{colonne_extra_titre,''}|?{' '})
		<td><a href='[(#ENV{colonne_extra_url}|parametre_url{id_donnee,#ID_DONNEE})]' title='#GET{colonne_extra_titre}'>#ENV*{colonne_extra_titre}</a></td>]
	</tr>
</BOUCLE_donnees>
</tbody>
</table>
</div>
	<script type="text/javascript"><!--
	var search_string='<:bouton_chercher:>';
	var clear_string='<:info_tout_afficher:>';
	var apply_string='<:bouton_valider:>';
	var crayons_init_dynamique = true;
	$(document).ready(function() {
		$("table#donnees_#GET{id}").tableSorter({
		  
			sortClassAsc: 'headerSortUp', 		// class name for ascending sorting action to header
			sortClassDesc: 'headerSortDown',	// class name for descending sorting action to header
			headerClass: 'header', 				// class name for headers (th's)
		
			disableHeader: [#GET{colonnes_sans_tri}], // disable column can be a string / number or array containing string or number. 
			dateFormat: 'dd/mm/yyyy' // set date format for non iso dates default us, in this case override and set uk-format
		});
		$("div#sorting_#GET{id}").hide();
	});
	$(document).sortStart(function(){
		$("div#sorting_#GET{id}").show();
	}).sortStop(function(a){
		$("div#sorting_#GET{id}").hide();
	});
	jQuery.fn.activeCrayons = function(){
		if (typeof cQuery != 'undefined'){
			cQuery(this).initcrayons();
		}
		return this.unbind('mouseover');
	}
	// -->
	</script>	
</B_donnees>
<div class='verdana2' style='text-align:center;'>
#ENV*{aucune_reponse}
</div>
<//B_donnees>