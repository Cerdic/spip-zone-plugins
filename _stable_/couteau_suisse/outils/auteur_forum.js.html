// compatibilite Ajax : ajouter "this" a "jQuery" pour mieux localiser les actions 
// et tagger avec cs_done pour eviter de binder plrs fois le meme bloc
function cs_auteur_forum() {
	// selecteur du bloc de previsualisation
	var sel = 'fieldset.previsu';
	if(!jQuery(sel, this).length) return;
	var form = jQuery(sel, this).parents('form').eq(0);
	// SPIP 2.0 remplace 'auteur' par 'session_nom'
	var auteur = jQuery('#session_nom', this);
	if(!auteur.length) auteur = jQuery('#auteur', this);
	if(form.length && auteur.length)
	// eviter les forums anonymes
	form.not('.cs_done').addClass('cs_done').bind('submit', function(event){
		if(!auteur.val().length) {
			alert("<:couteau:nom_forum|html2unicode|addslashes|unicode_to_javascript:>");
			auteur.focus();
			auteur.css('background-color','#FFFFE0').auteur.css('border','solid 2px #E86519');
			return false;
		}
	});
}
