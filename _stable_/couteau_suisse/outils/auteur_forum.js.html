// compatibilite Ajax : ajouter "this" a "jQuery" pour mieux localiser les actions 
// et tagger avec cs_done pour eviter de binder plrs fois le meme bloc
function cs_auteur_forum() {
	// selecteur du bloc de previsualisation
	var sel = jQuery('fieldset.previsu', this);
	if(!sel.length) return;
//	alert('previsu OK');
	var form = sel.parents('form').eq(0);
	// SPIP 2.0 remplace 'auteur' par 'session_nom'
	var auteur = jQuery('#session_nom', this);
	if(!auteur.length) auteur = jQuery('#auteur', this);
	if(form.length && auteur.length)
	// eviter les forums anonymes
	form.not('.cs_done').addClass('cs_done').bind('submit', function(event){
		if(!auteur.val().length) {
			alert("<:couteau:nom_forum|html2unicode|addslashes|unicode_to_javascript:>");
			auteur.focus();
			auteur.css('background-color','#FCC').css('border-style','solid').css('border-color','#C30');
			return false;
		}
	});
}
