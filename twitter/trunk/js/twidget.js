/*
 * twitter.js 1.4.10
 * version compactee de twidget-dev.js
 */
window.twttr||(window.twttr={}); (function(){function c(b,a){a=a||"";"string"!==typeof b&&(b.global&&0>a.indexOf("g")&&(a+="g"),b.ignoreCase&&0>a.indexOf("i")&&(a+="i"),b.multiline&&0>a.indexOf("m")&&(a+="m"),b=b.source);return RegExp(b.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.txt.regexen[b]||"";"string"!==typeof c&&(c=c.source);return c}),a)}function m(b,a){return b.replace(/#\{(\w+)\}/g,function(b,e){return a[e]||""})}function d(b,a,f){var e=String.fromCharCode(a);f!==a&&(e+="-"+String.fromCharCode(f));b.push(e);return b} function p(b){var a={},f;for(f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a}function q(b,a,f){return f?!b||b.match(a)&&RegExp["$&"]===b:"string"===typeof b&&b.match(a)&&RegExp["$&"]===b}twttr.txt={};twttr.txt.regexen={};var y={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(b){return b&&b.replace(/[&"'><]/g,function(a){return y[a]})};var h=String.fromCharCode,g=[h(32),h(133),h(160),h(5760),h(6158),h(8232),h(8233),h(8239),h(8287),h(12288)];d(g,9,13);d(g, 8192,8202);twttr.txt.regexen.spaces_group=c(g.join(""));twttr.txt.regexen.spaces=c("["+g.join("")+"]");twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~/;twttr.txt.regexen.atSigns=/[@\u00ef\u00bc]/;twttr.txt.regexen.extractMentions=c(/(^|[^a-zA-Z0-9_])(#{atSigns})([a-zA-Z0-9_]{1,20})(?=(.|$))/g);twttr.txt.regexen.extractReply=c(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/;twttr.txt.regexen.extractMentionsOrLists= c(/(^|[^a-zA-Z0-9_])(#{atSigns})([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?(?=(.|$))/g);g=[];d(g,1024,1279);d(g,1280,1319);d(g,11744,11775);d(g,42560,42655);d(g,4352,4607);d(g,12592,12677);d(g,43360,43391);d(g,44032,55215);d(g,55216,55295);d(g,65441,65500);d(g,12449,12538);d(g,12540,12542);d(g,65382,65439);d(g,65392,65392);d(g,65296,65305);d(g,65313,65338);d(g,65345,65370);d(g,12353,12438);d(g,12441,12446);d(g,13312,19903);d(g,19968,40959);d(g,173824,177983);d(g,177984,178207);d(g,194560, 195103);d(g,12293,12293);d(g,12347,12347);twttr.txt.regexen.nonLatinHashtagChars=c(g.join(""));twttr.txt.regexen.latinAccentChars=c("\u00c3\u20ac\u00c3\u0081\u00c3\u201a\u00c3\u0192\u00c3\u201e\u00c3\u2026\u00c3\u2020\u00c3\u2021\u00c3\u02c6\u00c3\u2030\u00c3\u0160\u00c3\u2039\u00c3\u0152\u00c3\u008d\u00c3\u017d\u00c3\u008f\u00c3\u0090\u00c3\u2018\u00c3\u2019\u00c3\u201c\u00c3\u201d\u00c3\u2022\u00c3\u2013\u00c3\u02dc\u00c3\u2122\u00c3\u0161\u00c3\u203a\u00c3\u0153\u00c3\u009d\u00c3\u017e\u00c3\u0178\u00c3\u00c3\u00a1\u00c3\u00a2\u00c3\u00a3\u00c3\u00a4\u00c3\u00a5\u00c3\u00a6\u00c3\u00a7\u00c3\u00a8\u00c3\u00a9\u00c3\u00aa\u00c3\u00ab\u00c3\u00ac\u00c3\u00ad\u00c3\u00ae\u00c3\u00af\u00c3\u00b0\u00c3\u00b1\u00c3\u00b2\u00c3\u00b3\u00c3\u00b4\u00c3\u00b5\u00c3\u00b6\u00c3\u00b8\u00c3\u00b9\u00c3\u00ba\u00c3\u00bb\u00c3\u00bc\u00c3\u00bd\u00c3\u00be\u00c5\u0178\\303\\277"); twttr.txt.regexen.endScreenNameMatch=c(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/);twttr.txt.regexen.hashtagBoundary=c(/(?:^|$|#{spaces}|[\u00e3\u20ac\u0152\u00e3\u20ac\u008d\u00e3\u20ac\u201a\u00e3\u20ac\u0081.,!\u00ef\u00bc\u0081?\u00ef\u00bc\u0178:;"'])/);twttr.txt.regexen.hashtagAlpha=c(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i);twttr.txt.regexen.hashtagAlphaNumeric=c(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i);twttr.txt.regexen.autoLinkHashtags=c(/(#{hashtagBoundary})(#|\u00ef\u00bc\u0192)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi); twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_]|RT:?)([@\u00ef\u00bc]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g;twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/\u00c3\u2013\\\\\\\\|\(\|:\|\/\)|\u00e2\u02c6\u2018:\*\)|\( \| \))/g;twttr.txt.regexen.validPrecedingChars=c(/(?:[^-\/"'!=A-Za-z0-9_@\u00ef\u00bc\.]|^)/);twttr.txt.regexen.invalidDomainChars=m("\u00a0#{punct}#{spaces_group}",twttr.txt.regexen); twttr.txt.regexen.validDomainChars=c(/[^#{invalidDomainChars}]/);twttr.txt.regexen.validSubdomain=c(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/);twttr.txt.regexen.validDomainName=c(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/);twttr.txt.regexen.validGTLD=c(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel)(?=[^a-zA-Z]|$))/);twttr.txt.regexen.validCCTLD=c(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^a-zA-Z]|$))/); twttr.txt.regexen.validPunycode=c(/(?:xn--[0-9a-z]+)/);twttr.txt.regexen.validDomain=c(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/);twttr.txt.regexen.validShortDomain=c(/^#{validDomainName}#{validCCTLD}$/);twttr.txt.regexen.validPortNumber=c(/[0-9]+/);twttr.txt.regexen.validGeneralUrlPathChars=c(/[a-z0-9!\*';:=\+\$\/%#\[\]\-_,~|&#{latinAccentChars}]/i);twttr.txt.regexen.wikipediaDisambiguation=c(/(?:\(#{validGeneralUrlPathChars}+\))/i);twttr.txt.regexen.validUrlPathChars= c(/(?:#{wikipediaDisambiguation}|@#{validGeneralUrlPathChars}+\/|[\.,]?#{validGeneralUrlPathChars}?)/i);twttr.txt.regexen.validUrlPathEndingChars=c(/(?:[\+\-a-z0-9=_#\/#{latinAccentChars}]|#{wikipediaDisambiguation})/i);twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!\*'\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i;twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i;twttr.txt.regexen.extractUrl=c("((#{validPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/(?:#{validUrlPathChars}+#{validUrlPathEndingChars}|#{validUrlPathChars}+#{validUrlPathEndingChars}?|#{validUrlPathEndingChars})?)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))", "gi");twttr.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i;twttr.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i;twttr.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i;twttr.txt.regexen.validateUrlPchar=c("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i");twttr.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i;twttr.txt.regexen.validateUrlUserinfo=c("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i");twttr.txt.regexen.validateUrlDecOctet= /(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;twttr.txt.regexen.validateUrlIpv4=c(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i);twttr.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i;twttr.txt.regexen.validateUrlIp=c("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i");twttr.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i;twttr.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i;twttr.txt.regexen.validateUrlDomainTld= /(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i;twttr.txt.regexen.validateUrlDomain=c(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i);twttr.txt.regexen.validateUrlHost=c("(?:#{validateUrlIp}|#{validateUrlDomain})","i");twttr.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;twttr.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i; twttr.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;twttr.txt.regexen.validateUrlUnicodeDomain=c(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i);twttr.txt.regexen.validateUrlUnicodeHost=c("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i");twttr.txt.regexen.validateUrlPort=/[0-9]{1,5}/;twttr.txt.regexen.validateUrlUnicodeAuthority= c("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i");twttr.txt.regexen.validateUrlAuthority=c("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i");twttr.txt.regexen.validateUrlPath=c(/(\/#{validateUrlPchar}*)*/i);twttr.txt.regexen.validateUrlQuery=c(/(#{validateUrlPchar}|\/|\?)*/i);twttr.txt.regexen.validateUrlFragment=c(/(#{validateUrlPchar}|\/|\?)*/i);twttr.txt.regexen.validateUrlUnencoded=c("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$", "i");twttr.txt.autoLink=function(b,a){a=p(a||{});return twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(b,a),a),a)};twttr.txt.autoLinkUsernamesOrLists=function(b,a){a=p(a||{});a.urlClass=a.urlClass||"tweet-url";a.listClass=a.listClass||"list-slug";a.usernameClass=a.usernameClass||"username";a.usernameUrlBase=a.usernameUrlBase||"http://twitter.com/";a.listUrlBase=a.listUrlBase||"http://twitter.com/";if(!a.suppressNoFollow)var f=' rel="nofollow"';for(var e= "",c=twttr.txt.splitTags(b),n=0;n<c.length;n++){var z=c[n];0!==n&&(e+=0===n%2?">":"<");e=0!==n%4?e+z:e+z.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(b,e,c,n,z,x,d){x=d.slice(x+b.length);e={before:e,at:c,user:twttr.txt.htmlEscape(n),slashListname:twttr.txt.htmlEscape(z),extraHtml:f,preChunk:"",chunk:twttr.txt.htmlEscape(d),postChunk:""};for(var g in a)a.hasOwnProperty(g)&&(e[g]=a[g]);if(z&&!a.suppressLists)return b=e.chunk=m("#{user}#{slashListname}",e),e.list=twttr.txt.htmlEscape(b.toLowerCase()), m('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{preChunk}#{chunk}#{postChunk}</a>',e);if(x&&x.match(twttr.txt.regexen.endScreenNameMatch))return b;e.chunk=twttr.txt.htmlEscape(n);e.dataScreenName=a.suppressDataScreenName?"":m('data-screen-name="#{chunk}" ',e);return m('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{preChunk}#{chunk}#{postChunk}</a>',e)})}return e};twttr.txt.autoLinkHashtags= function(b,a){a=p(a||{});a.urlClass=a.urlClass||"tweet-url";a.hashtagClass=a.hashtagClass||"hashtag";a.hashtagUrlBase=a.hashtagUrlBase||"http://twitter.com/search?q=%23";if(!a.suppressNoFollow)var f=' rel="nofollow"';return b.replace(twttr.txt.regexen.autoLinkHashtags,function(b,c,n,z){b={before:c,hash:twttr.txt.htmlEscape(n),preText:"",text:twttr.txt.htmlEscape(z),postText:"",extraHtml:f};for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return m('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{preText}#{text}#{postText}</a>', b)})};twttr.txt.autoLinkUrlsCustom=function(b,a){a=p(a||{});a.suppressNoFollow||(a.rel="nofollow");a.urlClass&&(a["class"]=a.urlClass,delete a.urlClass);var f,e,c;if(a.urlEntities)for(f={},e=0,c=a.urlEntities.length;e<c;e++)f[a.urlEntities[e].url]=a.urlEntities[e];delete a.suppressNoFollow;delete a.suppressDataScreenName;delete a.listClass;delete a.usernameClass;delete a.usernameUrlBase;delete a.listUrlBase;return b.replace(twttr.txt.regexen.extractUrl,function(b,e,c,d,g){if(g){b="";for(var x in a)b+= m(' #{k}="#{v}" ',{k:x,v:a[x].toString().replace(/"/,"&quot;").replace(/</,"&lt;").replace(/>/,"&gt;")});c={before:c,htmlAttrs:b,url:twttr.txt.htmlEscape(d)};c.displayUrl=f&&f[d]&&f[d].display_url?twttr.txt.htmlEscape(f[d].display_url):c.url;return m('#{before}<a href="#{url}"#{htmlAttrs}>#{displayUrl}</a>',c)}return e})};twttr.txt.extractMentions=function(b){var a=[];b=twttr.txt.extractMentionsWithIndices(b);for(var f=0;f<b.length;f++)a.push(b[f].screenName);return a};twttr.txt.extractMentionsWithIndices= function(b){if(!b)return[];var a=[],f=0;b.replace(twttr.txt.regexen.extractMentions,function(e,c,d,g,k){k.match(twttr.txt.regexen.endScreenNameMatch)||(e=b.indexOf(d+g,f),f=e+g.length+1,a.push({screenName:g,indices:[e,f]}))});return a};twttr.txt.extractMentionsOrListsWithIndices=function(b){if(!b)return[];var a=[],f=0;b.replace(twttr.txt.regexen.extractMentionsOrLists,function(e,c,d,g,k,h){h.match(twttr.txt.regexen.endScreenNameMatch)||(k=k||"",e=b.indexOf(d+g+k,f),f=e+g.length+k.length+1,a.push({screenName:g, listSlug:k,indices:[e,f]}))});return a};twttr.txt.extractReplies=function(b){return b?(b=b.match(twttr.txt.regexen.extractReply))?b[1]:null:null};twttr.txt.extractUrls=function(b){var a=[];b=twttr.txt.extractUrlsWithIndices(b);for(var f=0;f<b.length;f++)a.push(b[f].url);return a};twttr.txt.extractUrlsWithIndices=function(b){if(!b)return[];var a=[];b.replace(twttr.txt.regexen.extractUrl,function(f,e,c,d,g,k,h,u){if(g||u||!k.match(twttr.txt.regexen.validShortDomain)){f=b.indexOf(d,s);var s=f+d.length; a.push({url:d,indices:[f,s]})}});return a};twttr.txt.extractHashtags=function(b){var a=[];b=twttr.txt.extractHashtagsWithIndices(b);for(var f=0;f<b.length;f++)a.push(b[f].hashtag);return a};twttr.txt.extractHashtagsWithIndices=function(b){if(!b)return[];var a=[],f=0;b.replace(twttr.txt.regexen.autoLinkHashtags,function(e,c,d,g){e=b.indexOf(d+g,f);f=e+g.length+1;a.push({hashtag:g,indices:[e,f]})});return a};twttr.txt.splitTags=function(b){b=b.split("<");for(var a,f=[],e=0;e<b.length;e+=1)if(a=b[e]){a= a.split(">");for(var c=0;c<a.length;c+=1)f.push(a[c])}else f.push("");return f};twttr.txt.hitHighlight=function(b,a,f){a=a||[];f=f||{};if(0===a.length)return b;f=f.tag||"em";f=["<"+f+">","</"+f+">"];b=twttr.txt.splitTags(b);var e,c,d="",g=0,k=b[0],h=0,u=0,s=!1,m=k,q=[],v;for(e=0;e<a.length;e+=1)for(c=0;c<a[e].length;c+=1)q.push(a[e][c]);for(a=0;a<q.length;a+=1){c=q[a];e=f[a%2];for(v=!1;null!=k&&c>=h+k.length;)d+=m.slice(u),s&&c===h+m.length&&(d+=e,v=!0),b[g+1]&&(d+="<"+b[g+1]+">"),h+=m.length,u=0, g+=2,m=k=b[g],s=!1;v||null==k?v||(d+=e):(s=c-h,d+=m.slice(u,s)+e,u=s,s=0===a%2?!0:!1)}if(null!=k)for(u<m.length&&(d+=m.slice(u)),a=g+1;a<b.length;a+=1)d+=0===a%2?b[a]:"<"+b[a]+">";return d};var A=[h(65534),h(65279),h(65535),h(8234),h(8235),h(8236),h(8237),h(8238)];twttr.txt.isInvalidTweet=function(b){if(!b)return"empty";if(280<b.length)return"too_long";for(var a=0;a<A.length;a++)if(0<=b.indexOf(A[a]))return"invalid_characters";return!1};twttr.txt.isValidTweetText=function(b){return!twttr.txt.isInvalidTweet(b)}; twttr.txt.isValidUsername=function(b){if(!b)return!1;var a=twttr.txt.extractMentions(b);return 1===a.length&&a[0]===b.slice(1)};var k=c(/^#{autoLinkUsernamesOrLists}$/);twttr.txt.isValidList=function(b){b=b.match(k);return!(!b||""!=b[1]||!b[4])};twttr.txt.isValidHashtag=function(b){if(!b)return!1;var a=twttr.txt.extractHashtags(b);return 1===a.length&&a[0]===b.slice(1)};twttr.txt.isValidUrl=function(b,a,c){null==a&&(a=!0);null==c&&(c=!0);if(!b)return!1;var e=b.match(twttr.txt.regexen.validateUrlUnencoded); if(!e||e[0]!==b)return!1;b=e[1];var d=e[2],g=e[3],k=e[4],e=e[5];return(!c||q(b,twttr.txt.regexen.validateUrlScheme)&&b.match(/^https?$/i))&&q(g,twttr.txt.regexen.validateUrlPath)&&q(k,twttr.txt.regexen.validateUrlQuery,!0)&&q(e,twttr.txt.regexen.validateUrlFragment,!0)?a&&q(d,twttr.txt.regexen.validateUrlUnicodeAuthority)||!a&&q(d,twttr.txt.regexen.validateUrlAuthority):!1};"undefined"!=typeof module&&module.exports&&(module.exports=twttr.txt)})();TWTR=window.TWTR||{}; (function(){function c(c,b,a){for(var f=0,e=c.length;f<e;++f)b.call(a||window,c[f],f,c)}function m(c,b,a){(Array.prototype.filter||function(a,b){for(var c=b||window,d=[],g=0,k=this.length;g<k;++g)a.call(c,this[g],g,this)&&d.push(this[g]);return d}).call(c,b,a)}function d(c,b,a){this.el=c;this.prop=b;this.from=a.from;this.to=a.to;this.time=a.time;this.callback=a.callback;this.animDiff=this.to-this.from}function p(c){if(!twttr.widgets){c=c||window.event;for(var b=c.target||c.srcElement,a,d,e;b&&"a"!== b.nodeName.toLowerCase();)b=b.parentNode;b&&"a"===b.nodeName.toLowerCase()&&b.href&&(a=b.href.match(q))&&(a=a[2]in y?420:560,d=Math.round(A/2-275),e=0,g>a&&(e=Math.round(g/2-a/2)),window.open(b.href,"intent",h+",width=550,height="+a+",left="+d+",top="+e),c.returnValue=!1,c.preventDefault&&c.preventDefault())}}if(!TWTR||!TWTR.Widget){d.canTransition=function(){var c=document.createElement("twitter");c.style.cssText="-webkit-transition: all .5s linear;";return!!c.style.webkitTransitionProperty}();d.prototype._setStyle= function(c){switch(this.prop){case "opacity":this.el.style[this.prop]=c;this.el.style.filter="alpha(opacity="+100*c+")";break;default:this.el.style[this.prop]=c+"px"}};d.prototype._animate=function(){this.now=new Date;this.diff=this.now-this.startTime;this.diff>this.time?(this._setStyle(this.to),this.callback&&this.callback.call(this),clearInterval(this.timer)):(this.percentage=Math.floor(this.diff/this.time*100)/100,this.val=this.animDiff*this.percentage+this.from,this._setStyle(this.val))};d.prototype.start= function(){var c=this;this.startTime=new Date;this.timer=setInterval(function(){c._animate.call(c)},15)};TWTR.Widget=function(c){this.init(c)};(function(){function g(a,b,c){this.job=a;this.decayFn=b;this.interval=c;this.decayRate=1;this.decayMultiplier=1.25;this.maxDecayTime=18E4}function b(a,b,c){this.time=a||6E3;this.loop=b||!1;this.repeated=0;this.callback=c;this.haystack=[]}function a(t){t='<div class="twtr-tweet-wrap"> <div class="twtr-avatar"> <div class="twtr-img"><a target="_blank" href="https://twitter.com/intent/user?screen_name='+ t.user+'"><img alt="'+t.user+' profile" src="'+t.avatar+'"></a></div> </div> <div class="twtr-tweet-text"> <p> <a target="_blank" href="https://twitter.com/intent/user?screen_name='+t.user+'" class="twtr-user">'+t.user+"</a> "+t.tweet+' <em> <a target="_blank" class="twtr-timestamp" time="'+t.timestamp+'" href="https://twitter.com/'+t.user+"/status/"+t.id+'">'+t.created_at+'</a> &middot; <a target="_blank" class="twtr-reply" href="https://twitter.com/intent/tweet?in_reply_to='+t.id+'">reply</a> &middot; <a target="_blank" class="twtr-rt" href="https://twitter.com/intent/retweet?tweet_id='+ t.id+'">retweet</a> &middot; <a target="_blank" class="twtr-fav" href="https://twitter.com/intent/favorite?tweet_id='+t.id+'">favorite</a> </em> </p> </div> </div>';var b=document.createElement("div");b.id="tweet-id-"+ ++a._tweetCount;b.className="twtr-tweet";b.innerHTML=t;this.element=b}var f=window.twttr||{},e=location.protocol.match(/^https/),h=function(a){return e?a.profile_image_url_https:a.profile_image_url},n={},q=function(a,b,c,d){c=c||document;var e=[];b=c.getElementsByTagName(b||"*");c= n[a];c||(c=RegExp("(?:^|\\s+)"+a+"(?:\\s+|$)"),n[a]=c);a=c;c=0;for(var f=b.length;c<f;++c)a.test(b[c].className)&&(e[e.length]=b[c],d&&d.call(b[c],b[c]));return e},w=navigator.userAgent.match(/MSIE\s([^;]*)/),p=function(a){return"string"==typeof a?document.getElementById(a):a},u=function(){var a=self.innerHeight,b=document.compatMode;if(b||w)a="CSS1Compat"==b?document.documentElement.clientHeight:document.body.clientHeight;return a},s=function(a){try{a.parentNode.removeChild(a)}catch(b){}},A=function(a){var b, c=a.relatedTarget;c||("mouseout"==a.type?c=a.toElement:"mouseover"==a.type&&(c=a.fromElement));a:{try{b=c&&3==c.nodeType?c.parentNode:c;break a}catch(d){}b=void 0}for(;b&&b!=this;)try{b=b.parentNode}catch(e){b=this}return b!=this?!0:!1},y=function(){if(document.defaultView&&document.defaultView.getComputedStyle)return function(a,b){var c=null,d=document.defaultView.getComputedStyle(a,"");d&&(c=d[b]);return a.style[b]||c};if(document.documentElement.currentStyle&&w)return function(a,b){var c=a.currentStyle? a.currentStyle[b]:null;return a.style[b]||c}}(),v={has:function(a,b){return RegExp("(^|\\s)"+b+"(\\s|$)").test(p(a).className)},add:function(a,b){if(!this.has(a,b)){var c=p(a),d;d=p(a).className.replace(/^\s+|\s+$/g,"");c.className=d+" "+b}},remove:function(a,b){this.has(a,b)&&(p(a).className=p(a).className.replace(RegExp("(^|\\s)"+b+"(\\s|$)","g"),""))}},B={add:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(){c.call(a,window.event)})},remove:function(a, b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}},F=function(){return function(a){return[parseInt(a.substring(0,2),16),parseInt(a.substring(2,4),16),parseInt(a.substring(4,6),16)]}}(),l={bool:function(a){return"boolean"===typeof a},def:function(a){return"undefined"!==typeof a},number:function(a){return"number"===typeof a&&isFinite(a)},string:function(a){return"string"===typeof a},fn:function(a){return"function"===typeof a},array:function(a){return a?l.number(a.length)&& l.fn(a.splice):!1}},C="January February March April May June July August September October November December".split(" "),G=function(a){var b=new Date(a);w&&(b=Date.parse(a.replace(/( \+)/," UTC$1")));var c="";a=function(){var a=b.getHours();if(0<a&&13>a)return c="am",a;if(1>a)return c="am",12;c="pm";return a-12}();var d=b.getMinutes();b.getSeconds();return a+":"+d+c+function(){var a=new Date;return a.getDate()!=b.getDate()||a.getYear()!=b.getYear()||a.getMonth()!=b.getMonth()?" - "+C[b.getMonth()]+ " "+b.getDate()+", "+b.getFullYear():""}()},D=function(a){var b=new Date,c=new Date(a);w&&(c=Date.parse(a.replace(/( \+)/," UTC$1")));a=b-c;return isNaN(a)||0>a?"":2E3>a?"right now":6E4>a?Math.floor(a/1E3)+" seconds ago":12E4>a?"about 1 minute ago":36E5>a?Math.floor(a/6E4)+" minutes ago":72E5>a?"about 1 hour ago":864E5>a?Math.floor(a/36E5)+" hours ago":864E5<a&&1728E5>a?"yesterday":31536E6>a?Math.floor(a/864E5)+" days ago":"over a year ago"};f.txt.autoLink=function(a,b){b=options_links=b||{};if(b.hasOwnProperty("extraHtml")){var c= b,d={},e;for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);options_links=d;delete options_links.extraHtml}return f.txt.autoLinkUsernamesOrLists(f.txt.autoLinkUrlsCustom(f.txt.autoLinkHashtags(a,b),options_links),b)};TWTR.Widget.ify={autoLink:function(a){options={extraHtml:"target=_blank",target:"_blank",urlEntities:[]};a.needle.entities&&(a.needle.entities.urls&&(options.urlEntities=a.needle.entities.urls),a.needle.entities.media&&(options.urlEntities=options.urlEntities.concat(a.needle.entities.media))); return f&&f.txt?f.txt.autoLink(a.needle.text,options).replace(/([@\ufffd]+)(<[^>]*>)/g,"$2$1"):a.needle.text}};g.prototype={start:function(){this.stop().run();return this},stop:function(){this.worker&&window.clearTimeout(this.worker);return this},run:function(){var a=this;this.job(function(){a.decayRate=a.decayFn()?Math.max(1,a.decayRate/a.decayMultiplier):a.decayRate*a.decayMultiplier;var b=a.interval*a.decayRate,b=b>=a.maxDecayTime?a.maxDecayTime:b,b=Math.floor(b);a.worker=window.setTimeout(function(){a.run.call(a)}, b)})},destroy:function(){this.stop();this.decayRate=1;return this}};b.prototype={set:function(a){this.haystack=a},add:function(a){this.haystack.unshift(a)},start:function(){if(this.timer)return this;this._job();var a=this;this.timer=setInterval(function(){a._job.call(a)},this.time);return this},stop:function(){this.timer&&(window.clearInterval(this.timer),this.timer=null);return this},_next:function(){var a=this.haystack.shift();a&&this.loop&&this.haystack.push(a);return a||null},_job:function(){var a= this._next();a&&this.callback(a);return this}};a._tweetCount=0;f.loadStyleSheet=function(a,b){if(!TWTR.Widget.loadingStyleSheet){TWTR.Widget.loadingStyleSheet=!0;var c=document.createElement("link");c.href=a;c.rel="stylesheet";c.type="text/css";document.getElementsByTagName("head")[0].appendChild(c);var d=setInterval(function(){"relative"==y(b,"position")&&(clearInterval(d),d=null,TWTR.Widget.hasLoadedStyleSheet=!0)},50)}};(function(){var a=!1;f.css=function(b){var c=document.createElement("style"); c.type="text/css";if(w)c.styleSheet.cssText=b;else{var d=document.createDocumentFragment();d.appendChild(document.createTextNode(b));c.appendChild(d)}!w||a?document.getElementsByTagName("head")[0].appendChild(c):window.attachEvent("onload",function(){a=!0;document.getElementsByTagName("head")[0].appendChild(c)})}})();TWTR.Widget.isLoaded=!1;TWTR.Widget.loadingStyleSheet=!1;TWTR.Widget.hasLoadedStyleSheet=!1;TWTR.Widget.WIDGET_NUMBER=0;TWTR.Widget.REFRESH_MIN=6E3;TWTR.Widget.ENTITY_RANGE=100;TWTR.Widget.ENTITY_PERCENTAGE= 100;TWTR.Widget.matches={mentions:/^@[a-zA-Z0-9_]{1,20}\b/,any_mentions:/\b@[a-zA-Z0-9_]{1,20}\b/};TWTR.Widget.jsonP=function(a,b){var c=document.createElement("script"),d=document.getElementsByTagName("head")[0];c.type="text/javascript";c.src=a;d.insertBefore(c,d.firstChild);b(c);return c};TWTR.Widget.randomNumber=function(a){return r=Math.floor(Math.random()*a)};TWTR.Widget.SHOW_ENTITIES=TWTR.Widget.randomNumber(TWTR.Widget.ENTITY_RANGE)<=TWTR.Widget.ENTITY_PERCENTAGE;TWTR.Widget.prototype=function(){var e= window.twttr||{},f=twidget_proxy+"/search.",n=twidget_proxy+"/1/statuses/user_timeline.",y=twidget_proxy+"/1/favorites.",C=twidget_proxy+"/1/",E=twidget_rien;return{init:function(a){var c=this;this._widgetNumber=++TWTR.Widget.WIDGET_NUMBER;TWTR.Widget["receiveCallback_"+this._widgetNumber]=function(a){c._prePlay.call(c,a)};this._cb="TWTR.Widget.receiveCallback_"+this._widgetNumber;this.opts=a;this._base=f;this._profileImage=this._rendered=this._hasNewSearchResults=this._hasOfficiallyStarted=this._isRunning= !1;this._isCreator=!!a.creator;this._setWidgetType(a.type);this.timesRequested=0;this.newResults=this.runOnce=!1;this.results=[];this.jsonMaxRequestTimeOut=19E3;this.showedResults=[];this.sinceId=1;this.source="TWITTERINC_WIDGET";this.id=a.id||"twtr-widget-"+this._widgetNumber;this.tweets=0;this.setDimensions(a.width,a.height);this.interval=a.interval?Math.max(a.interval,TWTR.Widget.REFRESH_MIN):TWTR.Widget.REFRESH_MIN;this.format="json";this.rpp=a.rpp||50;this.subject=a.subject||"";this.title=a.title|| "";this.setFooterText(a.footer);this.setSearch(a.search);this._setUrl();this.theme=a.theme?a.theme:this._getDefaultTheme();a.id||document.write('<div class="twtr-widget" id="'+this.id+'"></div>');this.widgetEl=p(this.id);a.id&&v.add(this.widgetEl,"twtr-widget");2<=a.version&&!TWTR.Widget.hasLoadedStyleSheet&&e.loadStyleSheet(twidget_css,this.widgetEl);this.occasionalJob=new g(function(a){c.decay=a;c._getResults.call(c)},function(){return c._decayDecider.call(c)},25E3);this._ready=l.fn(a.ready)?a.ready: function(){};this._isRelativeTime=!0;this._tweetFilter=!1;this._avatars=!0;this._isFullScreen=!1;this._isLive=!0;this._isScroll=!1;this._loop=!0;this._behavior="default";this.setFeatures(this.opts.features);this.intervalJob=new b(this.interval,this._loop,function(a){c._normalizeTweet(a)});return this},setDimensions:function(a,b){this.wh=a&&b?[a,b]:[250,300];this.wh[0]="auto"==a||"100%"==a?"100%":(150>this.wh[0]?150:this.wh[0])+"px";this.wh[1]=(100>this.wh[1]?100:this.wh[1])+"px";return this},setRpp:function(a){a= parseInt(a);this.rpp=l.number(a)&&0<a&&100>=a?a:30;return this},_setWidgetType:function(a){this._isListWidget=this._isFavsWidget=this._isProfileWidget=this._isSearchWidget=!1;switch(a){case "profile":this._isProfileWidget=!0;break;case "search":this._isSearchWidget=!0;this.search=this.opts.search;break;case "faves":case "favs":this._isFavsWidget=!0;break;case "list":case "lists":this._isListWidget=!0}return this},setFeatures:function(a){if(a){l.def(a.filters)&&(this._tweetFilter=a.filters);l.def(a.dateformat)&& (this._isRelativeTime="absolute"!==a.dateformat);if(l.def(a.fullscreen)&&l.bool(a.fullscreen)&&a.fullscreen){this._isFullScreen=!0;this.wh[0]="100%";this.wh[1]=u()-90+"px";var b=this;B.add(window,"resize",function(){b.wh[1]=u();b._fullScreenResize()})}l.def(a.loop)&&l.bool(a.loop)&&(this._loop=a.loop);if(l.def(a.behavior)&&l.string(a.behavior))switch(a.behavior){case "all":this._behavior="all";break;case "preloaded":this._behavior="preloaded";break;default:this._behavior="default"}l.def(a.avatars)&& l.bool(a.avatars)?a.avatars?(e.css("#"+this.id+" .twtr-avatar { display: block; } #"+this.id+" .twtr-user { display: inline; } #"+this.id+" .twtr-tweet-text { margin-left: "+(this._isFullScreen?"90px":"40px")+"; }"),this._avatars=!0):(e.css("#"+this.id+" .twtr-avatar { display: none; } #"+this.id+" .twtr-tweet-text { margin-left: 0; }"),this._avatars=!1):this._isProfileWidget?(this.setFeatures({avatars:!1}),this._avatars=!1):(this.setFeatures({avatars:!0}),this._avatars=!0);l.def(a.live)&&l.bool(a.live)&& (this._isLive=a.live);l.def(a.scrollbar)&&l.bool(a.scrollbar)&&(this._isScroll=a.scrollbar)}else if(this._isProfileWidget||this._isFavsWidget)this._behavior="all";return this},_fullScreenResize:function(){q("twtr-timeline","div",document.body,function(a){a.style.height=u()-90+"px"})},setTweetInterval:function(a){this.interval=a;return this},setBase:function(a){this._base=a;return this},setUser:function(a,b){this.username=a;this.realname=b||" ";this._isFavsWidget?this.setBase(y+this.format+"?screen_name="+ a):this._isProfileWidget&&this.setBase(n+this.format+"?screen_name="+a);this.setSearch(" ");return this},setList:function(a,b){this.listslug=b.replace(/ /g,"-").toLowerCase();this.username=a;this.setBase(C+a+"/lists/"+this.listslug+"/statuses.");this.setSearch(" ");return this},setProfileImage:function(a){this._profileImage=a;this.byClass("twtr-profile-img","img").src=a;this.byClass("twtr-profile-img-anchor","a").href="https://twitter.com/intent/user?screen_name="+this.username;return this},setTitle:function(a){this.title= e.txt.htmlEscape(a);this.widgetEl.getElementsByTagName("h3")[0].innerHTML=this.title;return this},setCaption:function(a){this.subject=a;this.widgetEl.getElementsByTagName("h4")[0].innerHTML=this.subject;return this},setFooterText:function(a){this.footerText=l.def(a)&&l.string(a)?a:"Join the conversation";this._rendered&&(this.byClass("twtr-join-conv","a").innerHTML=this.footerText);return this},setSearch:function(a){this.searchString=a||"";this.search=encodeURIComponent(this.searchString);this._setUrl(); this._rendered&&(this.byClass("twtr-join-conv","a").href="https://twitter.com/"+this._getWidgetPath());return this},_getWidgetPath:function(){return this._isProfileWidget?this.username:this._isFavsWidget?this.username+"/favorites":this._isListWidget?this.username+"/"+this.listslug:"search/"+this.search},_setUrl:function(){function a(){return 1==b.sinceId?"":"&since_id="+b.sinceId+"&refresh=true"}var b=this;this._isProfileWidget?this.url=this._includeEntities(this._base+"&callback="+this._cb+"&include_rts=true&count="+ this.rpp+a()+"&clientsource="+this.source):this._isFavsWidget?this.url=this._includeEntities(this._base+"&callback="+this._cb+a()+"&clientsource="+this.source):this._isListWidget?this.url=this._includeEntities(this._base+this.format+"?callback="+this._cb+a()+"&clientsource="+this.source):(this.url=this._includeEntities(this._base+this.format+"?q="+this.search+"&callback="+this._cb+"&rpp="+this.rpp+a()+"&clientsource="+this.source),this.runOnce||(this.url+="&result_type=filtered"));this.url+="&"+ +new Date+ "=cachebust";return this},_includeEntities:function(a){return TWTR.Widget.SHOW_ENTITIES?a+"&include_entities=true":a},_getRGB:function(a){return F(a.substring(1,7))},setTheme:function(a,b){var c=" !important",d=window.location.hostname.match(/twitter\.com/)&&window.location.pathname.match(/goodies/);if(b||d)c="";this.theme={shell:{background:a.shell.background||this._getDefaultTheme().shell.background,color:a.shell.color||this._getDefaultTheme().shell.color},tweets:{background:a.tweets.background|| this._getDefaultTheme().tweets.background,color:a.tweets.color||this._getDefaultTheme().tweets.color,links:a.tweets.links||this._getDefaultTheme().tweets.links}};d="#"+this.id+" .twtr-doc, #"+this.id+" .twtr-hd a, #"+this.id+" h3, #"+this.id+" h4 { background-color: "+this.theme.shell.background+c+"; color: "+this.theme.shell.color+c+"; } #"+this.id+" .twtr-tweet a { color: "+this.theme.tweets.links+c+"; } #"+this.id+" .twtr-bd, #"+this.id+" .twtr-timeline i a, #"+this.id+" .twtr-bd p { color: "+ this.theme.tweets.color+c+"; } #"+this.id+" .twtr-new-results, #"+this.id+" .twtr-results-inner, #"+this.id+" .twtr-timeline { background: "+this.theme.tweets.background+c+"; }";w&&(d+="#"+this.id+" .twtr-tweet { background: "+this.theme.tweets.background+c+"; }");e.css(d);return this},byClass:function(a,b,c){a=q(a,b,p(this.id));return c?a:a[0]},render:function(){var a=this;if(!TWTR.Widget.hasLoadedStyleSheet)return window.setTimeout(function(){a.render.call(a)},50),this;this.setTheme(this.theme, this._isCreator);this._isProfileWidget&&v.add(this.widgetEl,"twtr-widget-profile");this._isScroll&&v.add(this.widgetEl,"twtr-scroll");this._isLive||this._isScroll||(this.wh[1]="auto");this._isSearchWidget&&this._isFullScreen&&(document.title="Twitter search: "+escape(this.searchString));this.widgetEl.innerHTML=this._getWidgetHtml();var b=this.byClass("twtr-timeline","div");if(this._isLive&&!this._isFullScreen){var c=function(b){"all"!==a._behavior&&A.call(this,b)&&a.pause.call(a)},d=function(b){"all"!== a._behavior&&A.call(this,b)&&a.resume.call(a)};this.removeEvents=function(){B.remove(b,"mouseover",c);B.remove(b,"mouseout",d)};B.add(b,"mouseover",c);B.add(b,"mouseout",d)}this._rendered=!0;this._ready();return this},removeEvents:function(){},_getDefaultTheme:function(){return{shell:{background:"#8ec1da",color:"#ffffff"},tweets:{background:"#ffffff",color:"#444444",links:"#1985b5"}}},_getWidgetHtml:function(){var a=twidget_logo;this._isFullScreen&&(a=twidget_logo_large);return'<div class="twtr-doc'+ (this._isFullScreen?" twtr-fullscreen":"")+'" style="width: '+this.wh[0]+';"> <div class="twtr-hd">'+(this._isProfileWidget?'<a target="_blank" href="https://twitter.com/" class="twtr-profile-img-anchor"><img alt="profile" class="twtr-profile-img" src="'+E+'"></a> <h3></h3> <h4></h4>':this._isSearchWidget?'<h3><a target="_blank" style="color:'+this.theme.shell.color+'" href="https://twitter.com/'+this._getWidgetPath()+'">'+this.title+'</a></h3> <h4><a target="_blank" style="color:'+this.theme.shell.color+ '" href="https://twitter.com/'+this._getWidgetPath()+'">'+this.subject+"</a></h4>":"<h3>"+this.title+"</h3><h4>"+this.subject+"</h4>")+' </div> <div class="twtr-bd"> <div class="twtr-timeline" style="height: '+this.wh[1]+';"> <div class="twtr-tweets"> <div class="twtr-reference-tweet"></div> \x3c!-- tweets show here --\x3e </div> </div> </div> <div class="twtr-ft"> <div><a target="_blank" href="https://twitter.com"><img alt="" src="'+a+'"></a> <span><a target="_blank" class="twtr-join-conv" style="color:'+ this.theme.shell.color+'" href="https://twitter.com/'+this._getWidgetPath()+'">'+this.footerText+"</a></span> </div> </div> </div>"},_appendTweet:function(a){this._insertNewResultsNumber();var b=this.byClass("twtr-reference-tweet","div");b.parentNode.insertBefore(a,b.nextSibling);return this},_slide:function(a){var b=this,c=a.firstChild.offsetHeight;this.runOnce&&(new d(a,"height",{from:0,to:c,time:500,callback:function(){b._fade.call(b,a)}})).start();return this},_fade:function(a){if(d.canTransition)return a.style.webkitTransition= "opacity 0.5s ease-out",a.style.opacity=1,this;(new d(a,"opacity",{from:0,to:1,time:500})).start();return this},_chop:function(){if(this._isScroll)return this;var a=this.byClass("twtr-tweet","div",!0),b=this.byClass("twtr-new-results","div",!0);if(a.length){for(var c=a.length-1;0<=c;c--){var d=a[c];if(parseInt(d.offsetTop)>parseInt(this.wh[1]))s(d);else break}0<b.length&&(a=b[b.length-1],parseInt(a.offsetTop)>parseInt(this.wh[1])&&s(a))}return this},_appendSlideFade:function(a){a=a||this.tweet.element; this._chop()._appendTweet(a)._slide(a);return this},_createTweet:function(b){b.tweet=TWTR.Widget.ify.autoLink(b);b.timestamp=b.created_at;b.created_at=this._isRelativeTime?D(b.created_at):G(b.created_at);this.tweet=new a(b);this._isLive&&this.runOnce&&(this.tweet.element.style.opacity=0,this.tweet.element.style.filter="alpha(opacity:0)",this.tweet.element.style.height="0");return this},_getResults:function(){var a=this;this.timesRequested++;this.jsonRequestRunning=!0;this.jsonRequestTimer=window.setTimeout(function(){a.jsonRequestRunning&& (clearTimeout(a.jsonRequestTimer),a.jsonRequestTimer=null);a.jsonRequestRunning=!1;s(a.scriptElement);a.newResults=!1;a.decay()},this.jsonMaxRequestTimeOut);TWTR.Widget.jsonP(a.url,function(b){a.scriptElement=b})},clear:function(){var a=this.byClass("twtr-tweet","div",!0),b=this.byClass("twtr-new-results","div",!0),a=a.concat(b);c(a,function(a){s(a)});return this},_sortByMagic:function(a){var b=this;this._tweetFilter&&(this._tweetFilter.negatives&&(a=m(a,function(a){if(!b._tweetFilter.negatives.test(a.text))return a})), this._tweetFilter.positives&&(a=m(a,function(a){if(b._tweetFilter.positives.test(a.text))return a})));switch(this._behavior){case "all":this._sortByLatest(a);break;default:this._sortByDefault(a)}this._isLive&&"all"!==this._behavior&&(this.intervalJob.set(this.results),this.intervalJob.start());return this},_sortByLatest:function(a){this.results=a;this.results=this.results.slice(0,this.rpp);this.results.reverse();return this},_sortByDefault:function(a){this.results.unshift.apply(this.results,a);c(this.results, function(a){a.views||(a.views=0)});this.results.sort(function(a,b){return(new Date(a.created_at)).getTime()>(new Date(b.created_at)).getTime()?-1:(new Date(a.created_at)).getTime()<(new Date(b.created_at)).getTime()?1:0});this.results=this.results.slice(0,this.rpp);this.results=this.results.sort(function(a,b){return a.views<b.views?-1:a.views>b.views?1:0});this._isLive||this.results.reverse()},_prePlay:function(a){this.jsonRequestTimer&&(clearTimeout(this.jsonRequestTimer),this.jsonRequestTimer=null); w||s(this.scriptElement);if(a.error)this.newResults=!1;else if(a.results&&0<a.results.length)this.response=a,this.newResults=!0,this.sinceId=a.max_id_str,this._sortByMagic(a.results),this.isRunning()&&this._play();else if((this._isProfileWidget||this._isFavsWidget||this._isListWidget)&&l.array(a)&&a.length){this.newResults=!0;if(!this._profileImage&&this._isProfileWidget){var b=a[0].user.screen_name;this.setProfileImage(h(a[0].user));this.setTitle(a[0].user.name);this.setCaption('<a target="_blank" href="https://twitter.com/intent/user?screen_name='+ b+'">'+b+"</a>")}this.sinceId=a[0].id_str;this._sortByMagic(a);this.isRunning()&&this._play()}else this.newResults=!1;this._setUrl();this._isLive&&this.decay()},_play:function(){var a=this;this.runOnce&&(this._hasNewSearchResults=!0);this._avatars&&this._preloadImages(this.results);this._isRelativeTime&&("all"==this._behavior||"preloaded"==this._behavior)&&c(this.byClass("twtr-timestamp","a",!0),function(a){a.innerHTML=D(a.getAttribute("time"))});this._isLive&&"all"!=this._behavior&&"preloaded"!= this._behavior||c(this.results,function(b){b.profile_image_url=h(b);b.retweeted_status&&(b=b.retweeted_status);if(a._isProfileWidget||a._isFavsWidget||a._isListWidget)b.from_user=b.user.screen_name,b.profile_image_url=h(b.user);b.id=b.id_str;a._createTweet({id:b.id,user:b.from_user,tweet:b.text,avatar:b.profile_image_url,created_at:b.created_at,needle:b});b=a.tweet.element;"all"==a._behavior?a._appendSlideFade(b):a._appendTweet(b)});return this},_normalizeTweet:function(a){a.views++;a.profile_image_url= h(a);this._isProfileWidget&&(a.from_user=this.username,a.profile_image_url=h(a.user));if(this._isFavsWidget||this._isListWidget)a.from_user=a.user.screen_name,a.profile_image_url=h(a.user);this._isFullScreen&&(a.profile_image_url=a.profile_image_url.replace(/_normal\./,"_bigger."));a.id=a.id_str;this._createTweet({id:a.id,user:a.from_user,tweet:a.text,avatar:a.profile_image_url,created_at:a.created_at,needle:a})._appendSlideFade()},_insertNewResultsNumber:function(){if(this._hasNewSearchResults){if(this.runOnce&& this._isSearchWidget){var a=this.response.total>this.rpp?this.response.total:this.response.results.length,b=1<a?"s":"",c=this.response.warning&&this.response.warning.match(/adjusted since_id/)?"more than":"",d=document.createElement("div");v.add(d,"twtr-new-results");d.innerHTML='<div class="twtr-results-inner"> &nbsp; </div><div class="twtr-results-hr"> &nbsp; </div><span>'+c+" <strong>"+a+"</strong> new tweet"+b+"</span>";a=this.byClass("twtr-reference-tweet","div");a.parentNode.insertBefore(d, a.nextSibling);this._hasNewSearchResults=!1}}else this._hasNewSearchResults=!1},_preloadImages:function(a){this._isProfileWidget||this._isFavsWidget||this._isListWidget?c(a,function(a){(new Image).src=h(a.user)}):c(a,function(a){(new Image).src=h(a)})},_decayDecider:function(){var a=!1;this.runOnce?this.newResults&&(a=!0):a=this.runOnce=!0;return a},start:function(){var a=this;if(!this._rendered)return setTimeout(function(){a.start.call(a)},50),this;this._isLive?this.occasionalJob.start():this._getResults(); this._hasOfficiallyStarted=this._isRunning=!0;return this},stop:function(){this.occasionalJob.stop();this.intervalJob&&this.intervalJob.stop();this._isRunning=!1;return this},pause:function(){this.isRunning()&&this.intervalJob&&(this.intervalJob.stop(),v.add(this.widgetEl,"twtr-paused"),this._isRunning=!1);this._resumeTimer&&(clearTimeout(this._resumeTimer),this._resumeTimer=null);return this},resume:function(){var a=this;!this.isRunning()&&this._hasOfficiallyStarted&&this.intervalJob&&(this._resumeTimer= window.setTimeout(function(){a.intervalJob.start();a._isRunning=!0;v.remove(a.widgetEl,"twtr-paused")},2E3));return this},isRunning:function(){return this._isRunning},destroy:function(){this.stop();this.clear();this._profileImage=this._hasOfficiallyStarted=this.runOnce=!1;this._isLive=!0;this._isRunning=this.newResults=this._isScroll=this._tweetFilter=!1;this.sinceId=1;this.results=[];this.showedResults=[];this.occasionalJob.destroy();this.jsonRequestRunning&&clearTimeout(this.jsonRequestTimer);v.remove(this.widgetEl, "twtr-scroll");this.removeEvents();return this}}}()})();var q=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,y={tweet:!0,retweet:!0,favorite:!0},h="scrollbars=yes,resizable=yes,toolbar=no,location=yes",g=screen.height,A=screen.width;document.addEventListener?document.addEventListener("click",p,!1):document.attachEvent&&document.attachEvent("onclick",p)}})();