<div class="formulaire_spip formulaire_#FORM" id="formulaire_#FORM">
[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
[<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</p>]
<form method="post" action="#ENV{action}"><div>
	#ACTION_FORMULAIRE{#ENV{action}}
	<[(#DIV|sinon{ul})] class="editer-groupe">
		<[(#DIV|sinon{li})] class="editer editer_recherche">
			<label for="recherche_texte"><:tickets:champ_recherche:></label>
			<input type="text" class="text" size="40" name="recherche" id="recherche_texte"[ value="(#ENV{recherche})"] accesskey="4" />
		</[(#DIV|sinon{li})]>
		<[(#DIV|sinon{li})] class="editer editer_dates[(#ENV**{erreurs}|table_valeur{date_debut}|ou{[(#ENV**{erreurs}|table_valeur{date_fin})]}|oui)erreur]">
			<label><:tickets:champ_date:></label>
			<div class="choix">
				<label for="date_debut"><:tickets:champ_date_debut:></label>
				<input type="text" class="date text" size="10" maxlength="10" name="date_debut" id="date_debut"[ value="(#ENV{date_debut})"] />
				[<p class='erreur_message'>(#ENV**{erreurs}|table_valeur{date_debut})</p>]
			</div>
			<div class="choix">
				<label for="date_fin"><:tickets:champ_date_fin:></label>
				<input type="text" class="date text" size="10" maxlength="10" name="date_fin" id="date_fin"[ value="(#ENV{date_fin})"] />
				[<p class='erreur_message'>(#ENV**{erreurs}|table_valeur{date_fin})</p>]
			</div>
		</[(#DIV|sinon{li})]>
		[(#SET{statuts,[(#ENV{statuts}|is_array|?{#ENV{statuts},#ARRAY|push{#ENV{statut}}})]})]
		<[(#DIV|sinon{li})] class="editer editer_statuts">
			<label for="statuts"><:tickets:champ_statut:></label>
			<select name="statuts[]" id="statuts" multiple="multiple" size="4">
				<option value="ouvert"[(#VAL{ouvert}|in_array{#GET{statuts}}|oui)selected="selected"]>[(#VAL{ouvert}|tickets_texte_statut)]</option>
				<option value="resolu"[(#VAL{resolu}|in_array{#GET{statuts}}|oui)selected="selected"]>[(#VAL{resolu}|tickets_texte_statut)]</option>
				<option value="ferme"[(#VAL{ferme}|in_array{#GET{statuts}}|oui)selected="selected"]>[(#VAL{ferme}|tickets_texte_statut)]</option>
			</select>
		</[(#DIV|sinon{li})]>
		<B_auteurs>
		<[(#DIV|sinon{li})] class="editer editer_auteurs">
			<label for="auteurs"><:tickets:champ_id_auteur:></label>
			<select id="auteurs" name="auteurs[]" multiple="multiple" size="[(#GRAND_TOTAL|>{4}|?{4,#GRAND_TOTAL})]">
				<BOUCLE_auteurs(TICKETS){fusion id_auteur}>
					<option value="#ID_AUTEUR"[(#ID_AUTEUR|in_array{#ENV{auteurs,#ARRAY}}|oui)selected="selected"]>#INFO_NOM{auteurs,#ID_AUTEUR}</option>
				</BOUCLE_auteurs>
			</select>
		</[(#DIV|sinon{li})]>
		</B_auteurs>
		<B_assignes>
		<[(#DIV|sinon{li})] class="editer editer_assignes">
			<label for="assignes"><:tickets:champ_id_assigne:></label>
			<select id="assignes" name="assignes[]" multiple="multiple" size="[(#GRAND_TOTAL|>{4}|?{4,#GRAND_TOTAL})]">
				<BOUCLE_assignes(TICKETS){fusion id_assigne}{id_assigne != ''}>
					<option value="#ID_ASSIGNE"[(#ID_ASSIGNE|in_array{#ENV{assignes,#ARRAY}}|oui)selected="selected"]>#INFO_NOM{auteurs,#ID_ASSIGNE}</option>
				</BOUCLE_assignes>
			</select>
		</[(#DIV|sinon{li})]>
		</B_assignes>
		<BOUCLE_groupesmots(GROUPES_MOTS){tables_liees==#VAL{'(^|,)tickets($|,)'}}{par num titre}>
		<[(#DIV|sinon{li})] class="editer editer_#TITRE">
			<label for="groupemots_#ID_GROUPE">#TITRE</label>
			<select id="groupemots_#ID_GROUPE" name="groupemots_#ID_GROUPE[]" [(#UNSEUL|=={oui}|?{class="chosen-allow_single_deselect",multiple="multiple" size="[(#GRAND_TOTAL|>{4}|?{4,#GRAND_TOTAL})]"}) ]>
					[(#UNSEUL|=={oui}|oui) <option value=""></option>]
				<BOUCLE_mots_groupe(MOTS mots_liens){id_groupe}{mots_liens.objet=ticket}{fusion mots_liens.id_mot}{par num titre}>
					<option value="#ID_MOT"[(#ID_MOT|in_array{#ENV{groupemots_#ID_GROUPE,#ARRAY}}|oui)selected="selected"]>[(#TITRE|supprimer_numero)]</option>
				</BOUCLE_mots_groupe>
			</select>
		</[(#DIV|sinon{li})]>
		</BOUCLE_groupesmots>
	</[(#DIV|sinon{ul})]>
	<p class="boutons">
		<input type="submit" class="submit" value="<:bouton_valider:>" title="<:info_rechercher:>" />
	</p>
	#SET{date_min,''}
	<BOUCLE_date_debut(TICKETS){par date}{0,1}>
	#SET{date_min,#DATE|affdate{d/m/Y}}
	</BOUCLE_date_debut>
	[(#INCLURE{fond=formulaires/dateur/inc-dateur,startDate=#GET{date_min},endDate=[(#ENV{date}|affdate{d/m/Y})]})]
</div>
</form>
</div>
