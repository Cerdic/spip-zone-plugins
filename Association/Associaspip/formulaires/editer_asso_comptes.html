<div class="formulaire_spip formulaire_#FORM">
    [<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
    [<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</p>]
    <form name="formulaire_#FORM" method="post" action="#ENV{action}">
		<div>#ACTION_FORMULAIRE{#ENV{action}}</div>
		<ul>
			<li class="editer_type_operation">
				<script type="text/javascript" src="[(#CHEMIN{javascript/association.js})]"></script>
				<label><:asso:bouton_radio_type_operation_titre:></label>
				<div class="choix">
				<B_type_operation_depense>
					<input type="radio" name="type_operation" value="#META{/association/classe_charges}"
						[(#ENV{type_operation}|=={#META{/association/classe_charges}}|?{
							checked="checked"
						,
							[(#ENV{id_compte}|oui) disabled="disabled"]
						})]
						id="type_operation_depense" onClick="remplirSelectImputation(#META{/association/classe_charges}); afficheDiv('label_imputation','label_depense','depense','label_journal_depense','mode_paiement','justification','destination'); cacheDiv('label_destination','label_depense_evaluee','label_journal_recette','recette');" />
					<label for="type_operation_depense"><:asso:depense:></label>
				<BOUCLE_type_operation_depense(ASSO_PLAN){active=1}{classe=#META{/association/classe_charges}}>
				</BOUCLE_type_operation_depense>
					#SET{pc_ok,' '}
				</B_type_operation_depense>
				<B_type_operation_recette>
					<input type="radio" name="type_operation"  value="#META{/association/classe_produits}"
						[(#ENV{type_operation}|=={#META{/association/classe_produits}}|?{
							checked="checked"
						,
							[(#ENV{id_compte}|oui) disabled="disabled"]
						})]
						id="type_operation_recette" onClick="remplirSelectImputation(#META{/association/classe_produits}); afficheDiv('label_imputation','label_recette','recette','label_journal_recette','mode_paiement','justification','destination'); cacheDiv('label_destination','label_recette_evaluee','label_journal_depense','depense');" />
					<label for="type_operation_recette"><:asso:recette:></label>
				<BOUCLE_type_operation_recette(ASSO_PLAN){active=1}{classe=#META{/association/classe_produits}}>
				</BOUCLE_type_operation_recette>
					#SET{pc_ok,' '}
				</B_type_operation_recette>
				<B_type_operation_virement>
					<input type="radio" name="type_operation"  value="#META{/association/classe_banques}"
						[(#ENV{type_operation}|=={#META{/association/classe_banques}}|?{
							checked="checked"
						,
							[(#ENV{id_compte}|oui) disabled="disabled"]
						})]
						id="type_operation_virement" onClick="remplirSelectImputation(#META{/association/classe_banques}); afficheDiv('label_destination','label_depense','depense','label_journal_depense','mode_paiement','justification'); cacheDiv('label_imputation','label_depense_evaluee','label_journal_recette','recette','destination');" />
					<label for="type_operation_virement">Virement</label>
				<BOUCLE_type_operation_virement(ASSO_PLAN){active=1}{classe=#META{/association/classe_banques}}>
				</BOUCLE_type_operation_virement>
					#SET{pc_ok,' '}
				</B_type_operation_virement>

				<B_type_operation_contribution_volontaire>
					<input type="radio" name="type_operation"  value="#META{/association/classe_contributions_volontaires}"
						[(#ENV{type_operation}|=={#META{/association/classe_contributions_volontaires}}|?{
							checked="checked"
							,
							[(#ENV{id_compte}|oui) disabled="disabled"]
						})]
						id="type_operation_contribution_volontaire" onClick="remplirSelectImputation(#META{/association/classe_contributions_volontaires}); afficheDiv('label_imputation','label_depense_evaluee','label_recette_evaluee','depense','recette','justification','destination'); cacheDiv('label_destination','label_depense','label_recette','mode_paiement');" />
					<label for="type_operation_contribution_volontaire">Contrib. volontaire</label>
				<BOUCLE_type_operation_contribution_volontaire(ASSO_PLAN){active=1}{classe=#META{/association/classe_contributions_volontaires}}>
				</BOUCLE_type_operation_contribution_volontaire>
					#SET{pc_ok,' '}
				</B_type_operation_contribution_volontaire>
				[(#GET{pc_ok}|non)
					<strong class="erreur_message"><:asso:erreur_creer_un_plan_pour_activer_ce_module:></strong>
				]
				</div>
			</li>
			<li class="editer_imputation">
				[<span class="erreur_message">(#ENV**{erreurs}|table_valeur{imputation})</span>]
				<label for="imputation">
					<div id="saisie_label_imputation" name="saisie_label_imputation" class="[(#ENV{type_operation}|affichage_div{charges-produits-contributions_volontaires})]">
							<:asso:compte_libelle_imputation:>
					</div>
					<div id="saisie_label_destination" name="saisie_label_destination" class="[(#ENV{type_operation}|affichage_div{banques})]">
							<:asso:compte_credite:>
					</div>
				</label>
				#SELECTEUR_IMPUTATION
			</li>
			<li class="editer_date">
				[<span class="erreur_message">(#ENV**{erreurs}|table_valeur{date})</span>]
				<label for="date"><:asso:date_aaaa_mm_jj:></label>
				<input type="[(#HTML5|?{date,text})]" name="date" [value="(#ENV{date}|affdate{Y-m-d})"] id="date" class="date" />
			</li>
			<li id="saisie_depense" class="editer_depense [(#ENV{type_operation}|affichage_div{charges-banques-contributions_volontaires})]">
				[<span class="erreur_message">(#ENV**{erreurs}|table_valeur{depense})</span>]
				<label for="depense">
					<div id="saisie_label_depense" name="saisie_label_depense" class="[(#ENV{type_operation}|affichage_div{charges})]">
							<:asso:libelle_montant:>
					</div>
					<div id="saisie_label_depense_evaluee" name="saisie_label_depense_evaluee" class="[(#ENV{type_operation}|affichage_div{contributions_volontaires})]">
						<:asso:depense_evaluee:>
					</div>
				</label>
				<input type="[(#HTML5|?{number,text})]" name="depense" value="[(#ENV{depense})]" id="depense"  class="number float price" />
			</li>
			<li id="saisie_recette" class="editer_recette [(#ENV{type_operation}|affichage_div{produits-contributions_volontaires})]">
				[<span class="erreur_message">(#ENV**{erreurs}|table_valeur{recette})</span>]
				<label for="recette">
					<div id="saisie_label_recette" name="saisie_label_recette" class="[(#ENV{type_operation}|affichage_div{produits})]">
						<:asso:libelle_montant:>
					</div>
					<div id="saisie_label_recette_evaluee" name="saisie_label_recette_evaluee" class="[(#ENV{type_operation}|affichage_div{contributions_volontaires})]">
						<:asso:recette_evaluee:>
					</div>
				</label>
				<input type="[(#HTML5|?{number,text})]" name="recette" value="[(#ENV{recette})]" id="recette" class="number float price" />
			</li>
			<INCLURE{fond=inc/mode_de_paiement, journal, type_operation, id_dest, montant_dest, unique_dest, defaut_dest, env}>
			<li id="saisie_justification" class="editer_justification [(#ENV{type_operation}|affichage_div{charges-produits-banques-contributions_volontaires})]">
				<label for="justification"><:asso:libelle_justification:></label>
				<input type="text" name="justification" [value="(#ENV{justification})"] id="justification"  class="text" />
			</li>
		</ul>
		[(#REM)<!-- ajouter les saisies supplementaires : extra et autre, a cet endroit -->]
		<!--extra-->
		<INCLURE{fond=inc/bouton_validation, pass_ok=#ENV{id_compte} }>
	</form>
</div>
