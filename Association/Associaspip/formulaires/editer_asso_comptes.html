<div class="formulaire_spip formulaire_#FORM">
    [<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
    [<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</p>]
    <form name="formulaire_#FORM" method="post" action="#ENV{action}">
		<div>
			#ACTION_FORMULAIRE{#ENV{action}}
			<ul>
				<li class="fieldset">
					<fieldset>
						<h3 class="legend"><:asso:modification_des_comptes:></h3>
						<ul>
							<li class="editer_type_operation">
								<script type="text/javascript" src="[(#CHEMIN{javascript/association.js})]"></script>
								<label>
									<strong><:asso:bouton_radio_type_operation_titre:></strong>
								</label>
								<div class="choix">
								<B_type_operation_depense>
									<input type="radio" name="type_operation"
									[(#ENV{type_operation}|=={#META{/association/classe_charges}}|?{
										checked="checked"
										,
										[(#ENV{id_compte}|oui) disabled="disabled"]
									})]
									id="type_operation_depense" onClick="remplirSelectImputation(#META{/association/classe_charges}); afficheDiv('label_imputation','label_depense','depense','label_journal_depense','mode_paiement','justification','destination'); cacheDiv('label_destination','label_depense_evaluee','label_journal_recette','recette');" />
									<label for="type_operation_depense">D&eacute;pense</label>
								<BOUCLE_type_operation_depense(ASSO_PLAN){active=1}{classe=#META{/association/classe_charges}}>
								</BOUCLE_type_operation_depense>
									#SET{pc_ok,' '}
								</B_type_operation_depense>
								<B_type_operation_recette>
									<input type="radio" name="type_operation"
									[(#ENV{type_operation}|=={#META{/association/classe_produits}}|?{
										checked="checked"
										,
										[(#ENV{id_compte}|oui) disabled="disabled"]
									})]
									id="type_operation_recette" onClick="remplirSelectImputation(#META{/association/classe_produits}); afficheDiv('label_imputation','label_recette','recette','label_journal_recette','mode_paiement','justification','destination'); cacheDiv('label_destination','label_recette_evaluee','label_journal_depense','depense');" />
									<label for="type_operation_recette">Recette</label>
								<BOUCLE_type_operation_recette(ASSO_PLAN){active=1}{classe=#META{/association/classe_produits}}>
								</BOUCLE_type_operation_recette>
									#SET{pc_ok,' '}
								</B_type_operation_recette>
								<B_type_operation_virement>
									<input type="radio" name="type_operation"
									[(#ENV{type_operation}|=={#META{/association/classe_banques}}|?{
										checked="checked"
										,
										[(#ENV{id_compte}|oui) disabled="disabled"]
									})]
									id="type_operation_virement" onClick="remplirSelectImputation(#META{/association/classe_banques}); afficheDiv('label_destination','label_depense','depense','label_journal_depense','mode_paiement','justification'); cacheDiv('label_imputation','label_depense_evaluee','label_journal_recette','recette','destination');" />
									<label for="type_operation_virement">Virement</label>
								<BOUCLE_type_operation_virement(ASSO_PLAN){active=1}{classe=#META{/association/classe_banques}}>
								</BOUCLE_type_operation_virement>
									#SET{pc_ok,' '}
								</B_type_operation_virement>

								<B_type_operation_contribution_volontaire>
									<input type="radio" name="type_operation"
									[(#ENV{type_operation}|=={#META{/association/classe_contributions_volontaires}}|?{
										checked="checked"
										,
										[(#ENV{id_compte}|oui) disabled="disabled"]
									})]
									id="type_operation_contribution_volontaire" onClick="remplirSelectImputation(#META{/association/classe_contributions_volontaires}); afficheDiv('label_imputation','label_depense_evaluee','label_recette_evaluee','depense','recette','justification','destination'); cacheDiv('label_destination','label_depense','label_recette','mode_paiement');" />
									<label for="type_operation_contribution_volontaire">Contrib. volontaire</label>
								<BOUCLE_type_operation_contribution_volontaire(ASSO_PLAN){active=1}{classe=#META{/association/classe_contributions_volontaires}}>
								</BOUCLE_type_operation_contribution_volontaire>
									#SET{pc_ok,' '}
								</B_type_operation_contribution_volontaire>
								[(#GET{pc_ok}|non)
									<strong class="erreur_message"><:asso:erreur_creer_un_plan_pour_activer_ce_module:></strong>
								]
								</div>
							</li>
							#SET{erreurs,#ENV**{erreurs}|table_valeur{imputation}}
							<li class="editer_imputation">
								[<span class='erreur_message'>(#GET{erreurs})</span>]
								<label for="imputation">
									<div id="saisie_label_imputation" name="saisie_label_imputation" class="[(#ENV{type_operation}|affichage_div{charges-produits-contributions_volontaires})]">
										 <strong><:asso:imputation:></strong>
									</div>
									<div id="saisie_label_destination" name="saisie_label_destination" class="[(#ENV{type_operation}|affichage_div{banques})]">
										 <strong><:asso:compte_credite:></strong>
									</div>
								</label>
								#SELECTEUR_IMPUTATION
							</li>

							#SET{erreurs,#ENV**{erreurs}|table_valeur{date}}
							<li class="editer_date[ (#GET{erreurs}|oui)erreur]">
								[<span class='erreur_message'>(#GET{erreurs})</span>]
								<label for="date"><strong><:asso:date_aaaa_mm_jj:></strong></label>
								<input type="text" name="date" [value="(#ENV{date}|affdate{Y-m-d})"] id="date"  class='formo'/>
							</li>

							<div id='saisie_depense' name='saisie_depense' class='[(#ENV{type_operation}|affichage_div{charges-banques-contributions_volontaires})]'>
								#SET{erreurs,#ENV**{erreurs}|table_valeur{depense}}
								<li class="editer_depense[ (#GET{erreurs}|oui)erreur]">
									[<span class='erreur_message'>(#GET{erreurs})</span>]
									<label for="depense">
										<div id="saisie_label_depense" name="saisie_label_depense" class="[(#ENV{type_operation}|affichage_div{charges})]">
											<strong><:asso:montant:></strong>
										</div>
										<div id="saisie_label_depense_evaluee" name="saisie_label_depense_evaluee" class="[(#ENV{type_operation}|affichage_div{contributions_volontaires})]">
											<strong><:asso:depense_evaluee:></strong>
										</div>
									</label>
									<input type="text" name="depense" value="[(#ENV{depense})]" id="depense"  class='formo'/>
								</li>
							</div>

							<div id='saisie_recette' name='saisie_recette' class='[(#ENV{type_operation}|affichage_div{produits-contributions_volontaires})]'>
								#SET{erreurs,#ENV**{erreurs}|table_valeur{recette}}
								<li class="editer_recette[ (#GET{erreurs}|oui)erreur]">
									[<span class='erreur_message'>(#GET{erreurs})</span>]
									<label for="recette">
										<div id="saisie_label_recette" name="saisie_label_recette" class="[(#ENV{type_operation}|affichage_div{produits})]">
											<strong><:asso:montant:></strong>
										</div>
										<div id="saisie_label_recette_evaluee" name="saisie_label_recette_evaluee" class="[(#ENV{type_operation}|affichage_div{contributions_volontaires})]">
											<strong><:asso:recette_evaluee:></strong>
										</div>
									</label>
									<input type="text" name="recette" value="[(#ENV{recette})]" id="recette" class='formo' />
								</li>
							</div>

							<div id='saisie_mode_paiement' name='saisie_mode_paiement' class='[(#ENV{type_operation}|affichage_div{charges-produits-banques})]'>
								[(#REM)<!-- si il n'a pas de classe banques definie, on ne propose pas de mode de paiement -->]
								[(#ENV{classe_banques}|oui)
									<INCLURE{fond=inc/mode_de_paiement, journal, classe_banques, type_operation}>
								]
							</div>

							<div id='saisie_justification' name='saisie_justification' class='[(#ENV{type_operation}|affichage_div{charges-produits-banques-contributions_volontaires})]'>
								<li class="editer_justification">
									<label for="justification"><strong><:asso:justification:></strong></label>
									<input type="text" name="justification" [value="(#ENV{justification})"] id="justification"  class='formo'/>
								</li>
							</div>

							<div id='saisie_destination' name='saisie_destination' class='[(#ENV{type_operation}|affichage_div{charges-produits-contributions_volontaires})]'>
								[(#REM)<!-- si la variable destinations est assignee, on insere l'editeur de destinations -->]
								#SET{erreurs,#ENV**{erreurs}|table_valeur{destinations}}
								[<li [ class="(#GET{erreurs}|oui)erreur"]>
									[<span class='erreur_message'>(#GET{erreurs})</span>]
									(#ENV{destinations_on}|oui)#EDITEUR_DESTINATIONS
								</li>]
							</div>

						</ul>

						[(#REM)<!-- ajouter les saisies supplementaires : extra et autre, a cet endroit -->]
						<!--extra-->

						<p class="boutons"><input type="submit" value="<:pass_ok:>" class="submit" /></p>

					</fieldset>
				</li>
			</ul>
		</div>
	</form>
</div>
