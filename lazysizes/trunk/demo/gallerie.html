<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Démo LazySize</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	#INSERT_HEAD_CSS
	#INSERT_HEAD
<style>
.media {
	width: 100%;
	clear: both;
}

.blur-up {
	-webkit-filter: blur(5px);
	filter: blur(5px);
	transition: filter 400ms, -webkit-filter 400ms;
}

.blur-up.lazyloaded {
	-webkit-filter: blur(0);
	filter: blur(0);
}

.fade-box .lazyload,
.fade-box .lazyloading {
   opacity: 0.5;
   transition: opacity 400ms;
}

.fade-box img.lazyloaded {
	opacity: 1;
}
</style>
</head>
<body>
	<h1>Demo LazySize</h1>
	
	
[(#REM)<!-- 

Markup standard : avec loader.gif et transition sur l'opactité	
<img data-src="#FICHIER" width="#LARGEUR" height="#HAUTEUR" class="lazyload" alt="#TITRE">
	


Markup utilisant la technique lqip Low Quality Image Placeholder
A noter que le chargement des images présentes dans le viewport ne commence que quand toutes celles de la page sont chargées
https://github.com/aFarkas/lazysizes#lqipblurry-image-placeholderblur-up-image-technique

<img src="[(#FICHIER|image_reduire{48,0}|extraire_attribut{src})]"
	  data-src="#FICHIER" width="#LARGEUR" height="#HAUTEUR"
	  class="lazyload blur-up" alt="#TITRE">


<div class="ratio-box fade-box">
	<img src="lqip-src.jpg" />
	<img data-src="image.jpg" class="lazyload" />
</div>

Modern transparent src-set pattern
https://github.com/aFarkas/lazysizes#modern-transparent-srcset-pattern

Combine l'attribut normal `src` avec en `srcset` une image de remplacement transparente ou basse résolution
accompagné d'un attribut `data-srcset`.
Ainsi un navigateur moderne utilisera le lazyloading sans utiliser l'attribut src
tandis que les autres navigateur utiliserons l'attribut src d'origine sans lazyload

A noter qu'il est préférable que la première image du `data-srcset` soit celle du `src


```html
<img
    src="image3.jpg"
    srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
	data-srcset="image3.jpg 600w,
		image1.jpg 220w,
	    image2.jpg 300w,
	    image4.jpg 900w"
	data-sizes="auto"
	class="lazyload" />
```


	
-->]
	
<BOUCLE_listDocs(DOCUMENTS){tout}{extension==jpg|png|gif}>
<div class="media fade-box">	
 <img 	src="[(#FICHIER|image_reduire{48,0}|extraire_attribut{src})]"
		data-src="#FICHIER" width="#LARGEUR" height="#HAUTEUR"
		class="lazyload" alt="[(#TITRE|attribut_html)]"
		itemprop="image" >
</div>
</BOUCLE_listDocs>
</body>
</html>
