[(#REM)
	Tutoriel pour implémenter le framework ecommerce pour SPIP.
	Étape 0 : Préambule > explications.
]
#SET{plugins,#ARRAY{
	prix,#ARRAY{nom,API prix,slogan,"API pour connaître le prix d'un objet.",url,http://plugins.spip.net/prix},
	paniers,#ARRAY{nom,Paniers,slogan,"Créer des sélections d'objets ayant un prix.",url,http://plugins.spip.net/paniers},
	commandes,#ARRAY{nom,Commandes,slogan,"Gérer des commandes.",url,http://plugins.spip.net/commandes},
	panier2commande,#ARRAY{nom,Commandes de Paniers,slogan,"Remplir une commande avec le contenu d'un panier.",url,http://plugins.spip.net/panier2commande},
	bank,#ARRAY{nom,Banque & paiement,slogan,"Un module de paiement bancaire multi prestataires <em>(à installer manuellement)</em>.",url,http://github.com/nursit/bank}}}
#SET{pluginsplus,#ARRAY{
	produits,#ARRAY{nom,Produits,slogan,"Gestion des produits <em>(non compatible SPIP 3)</em>.",url,http://plugins.spip.net/produits},
	clients,#ARRAY{nom,Clients,slogan,"Gestion des clients.",url,http://plugins.spip.net/clients},
	coordonnees,#ARRAY{nom,Coordonnées,slogan,"Gestion des adresses, emails et numéros de téléphone.",url,http://plugins.spip.net/coordonnees},
	contact,#ARRAY{nom,Contacts et organisations,slogan,"Gestionnaire de contacts.",url,http://plugins.spip.net/contact},
	abonnements,#ARRAY{nom,Abonnements,slogan,"Donner des droits pendant un certain temps.",url,http://plugins.spip.net/abonnements}}}

<h1>Tutoriel : les bases pour implémenter le framework ecommerce pour SPIP dans vos squelettes.</h1>

<p>
	Sous SPIP, il existe un framework permettant de faire du ecommerce. Il est complètement fonctionnel, modulaire, extensible, et permet de faire de la vente dans le confort de notre CMS favori. Il répondra aux besoins simples de ecommerce, sans toutefois être comparable aux solutions exclusivement dédiées au sujet, comme <a href="http://www.prestashop.com">Prestashop</a>, <a href="http://www.thelia.fr/">Thelia</a> et cie.
</p>

<p>
	Ce plugin s'adresse aux gens qui écrivent des squelettes, il a un objectif didactique : montrer par l'exemple <em>les bases</em> de la mise en oeuvre du framework, en expliquant les éléments à placer dans vos squelettes. On va s'en tenir aux 3 étapes <em>minimales</em> du «&nbsp;tunnel de commande&nbsp;»&nbsp;: ajouter des objets au panier &rarr; valider celui-ci &rarr; payer la commande. C'est relativement simple : en 3 squelettes, au moyen de quelques boutons d'actions et formulaires, vous avez déjà le minimum nécessaire pour vendre des choses sur votre site. À partir de là, vous pourrez étoffer selon vos besoins pour gérer les taxes, les coordonnées, les clients, et toutes ces sortes de choses.
</p>

<h2>Une suite de plugins</h2>

<p>
	 Le framework se compose d'une suite de plugins complémentaires, chacun prenant en charge un aspect. Il faut au moins 5 plugins pour avoir quelque chose de fonctionnel, ils ont normalement été installés automatiquement avec l'activation de ce plugin, exception faite de «&nbsp;Banque & paiement&nbsp;» qui doit être installé manuellement, étant développé sur github : <a href="http://github.com/nursit/bank">http://github.com/nursit/bank<a>. Les plugins listés après sont optionnels.
</p>

<div class='plugins'>

	<B_plugins>
	<dl class='liste-plugins necessaires'>
		<dt>Plugins nécessaires</dt>
	<BOUCLE_plugins(DATA){source table, #GET{plugins}}>
		<dd>[(#CHEMIN_IMAGE{#PLUGIN{#CLE}|?{ok-16,erreur-16}}|balise_img) ][<a href="[(#VALEUR{url})]">(#VALEUR{nom})</a>][ : (#VALEUR{slogan})]</dd>
	</BOUCLE_plugins>
	</dl>
	</B_plugins>

	<B_pluginsplus>
	<dl class='liste-plugins optionnels'>
		<dt>Plugins complémentairess</dt>
	<BOUCLE_pluginsplus(DATA){source table, #GET{pluginsplus}}>
		<dd>[(#PLUGIN{#CLE}|oui)[(#CHEMIN_IMAGE{ok-16}|balise_img) ]][<a href="[(#VALEUR{url})]">(#VALEUR{nom})</a>][ : (#VALEUR{slogan})]</dd>
	</BOUCLE_pluginsplus>
	</dl>
	</B_pluginsplus>

</div>

<h2>Des choses à vendre</h2>

<p>
	On peut vendre ce qu'on veut pourvu qu'il s'agisse d'objets éditoriaux SPIP : ils peuvent correspondre à des objets physiques, des abonnements, des services, etc. Pour cette démo, on va faire semblant de vendre des objets physiques. Une mini table <code>spip_produits_demos</code> a été créée à l'installation de ce plugin, elles contient 3 produits factices. À noter qu'il existe un plugin <a href="http://plugins.spip.net/produits">Produits</a> dédié à la gestion des produits, mais il n'est pas compatible SPIP 3 à l'heure actuelle.
</p>

<h2>Configuration</h2>

<p>
	[<a href="[(#CHEMIN{demo/images/bank-configuration-1.jpg})]" type='image/jpeg' class='mediabox img right'>(#CHEMIN{demo/images/bank-configuration-1.jpg}|image_reduire{150})</a>]
	Il nous faut configurer les systèmes de paiement sur la <a href="[(#URL_ECRIRE{configurer_bank})]">page de configuration</a> du plugin «&nbsp;Banque & paiement&nbsp;». On distingue 2 sortes de paiements : les paiements à l'acte et les paiements des abonnements. Pour cette démo, on ne va tester que la 1ère catégorie : il faut qu'il y ait au moins un mode de paiement à l'acte d'actif. De plus, on ne veut pas faire de paiement réel : pour chaque mode activé, cochez l'option «&nbsp;<code>Utiliser en mode TEST (aucun paiement réel)</code>&nbsp;» si elle est présente. Une autre possibilité est de choisir le mode de paiement «&nbsp;Simulation&nbsp;», qui est accessible en plaçant le code <code>define\('_SIMU_BANK_ALLOWED',true\);</code> dans le fichier <code>config/mes_options.php</code>.
</p>

<h2>Commencer</h2>

<p>
	Quand tout est installé et configuré, rendez-vous à la <a href="[(#SELF|parametre_url{etape,produits})]">1ère étape</a>.
</p>
