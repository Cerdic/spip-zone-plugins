[(#SET{defaut_tri,#ARRAY{
	statut,1,
	multi nom,1,
	site,1
	compteur_articles,1
}})
]<B_liste_aut>
#SET{afficher_lettres,#TRI|=={'multi nom'}|oui}
#SET{debut,#ENV{debutaut,#EVAL{_request("debutaut");}}}
#ANCRE_PAGINATION
[<h3><:info_resultat_recherche:> &laquo;(#ENV{recherche})&raquo;</h3>]
<div class="liste-elements auteurs">
<table class='spip liste'>
[<caption><strong class="caption">#GRAND_TOTAL (#ENV*{titre,<:info_auteurs:>})</strong></caption>]
	<thead>
		<B_lettre><tr><td colspan="4"><p class='pagination'><BOUCLE_lettre(AUTEURS){tout}{id_auteur?}{where?}{statut?}{recherche?}{par multi nom}{id_auteur==#GET{afficher_lettres}|?{'.*','A'}}>[
		[(#REM) 
		
		
		Afficher l'initiale precedente si celle-ci est nouvelle
		
		](#NOM|strtoupper|trim|spip_substr{0,1}|unique|oui)
		[(#REM)

		Calculer le debut de la page correspondant a l'item courant

		]#SET{newcompt,#COMPTEUR_BOUCLE|moins{1}|div{#ENV{nb,10}}|floor|mult{#ENV{nb,10}}|intval}
		[(#REM)

		Si une initiale avait deja ete memorisee, l'afficher

		][(#GET{initiale}|oui)
			[(#GET{url}|lien_ou_expose{#GET{initiale},
			#GET{compteur}|<={#GET{debut}}|et{#GET{newcompt}|>{#GET{debut}}|ou{#GET{newcompt}|=={#GET{debut}}|et{#GET{newcompt}|=={#GET{compteur}}}}},
			lien_pagination})]
		]
		[(#REM)

		Stocker les infos pour le prochain affichage

		]
		#SET{url,#SELF|parametre_url{debutaut,@#ID_AUTEUR}|ancre_url{paginationaut}}
		#SET{initiale,#NOM|strtoupper|trim|spip_substr{0,1}}
		#SET{compteur,#GET{newcompt}}
		]</BOUCLE_lettre>[(#GET{initiale}|oui)
			#SET{newcompt,#TOTAL_BOUCLE|moins{1}|div{#ENV{nb,10}}|round|mult{#ENV{nb,10}}|intval}
			[(#GET{url}|lien_ou_expose{#GET{initiale},
			#GET{compteur}|<={#GET{debut}}|et{#GET{newcompt}|>{#GET{debut}}|ou{#GET{newcompt}|=={#GET{debut}}|et{#GET{newcompt}|=={#GET{compteur}}}}},
			lien_pagination})]
		]</p></td></tr></B_lettre>
		[<tr><td colspan="4"><p class='pagination'>(#PAGINATION{prive})</p></td></tr>]
		<tr class='first_row'>
			<th class='statut'>[(#TRI{statut,#CHEMIN{images/admin-12.gif}|balise_img{<:afficher_objets:info_statut|attribut_html:>},ajax})]</th>
			<th class='nom'>[(#TRI{multi nom,<:info_nom:>,ajax})]</th>
			<th class='site'>[(#TRI{url_site,<:info_site:>,ajax})]</th>
			<th class='nombre'>[(#TRI{compteur_articles,<:info_articles:>,ajax})]</th>
		</tr>
	</thead>
	<tbody>
	<BOUCLE_liste_aut(AUTEURS){tout}{id_auteur?}{where?}{statut?}{recherche?}{tri #ENV{order,multi nom},#GET{defaut_tri}}{pagination #ENV{nb,10} aut}>
		<tr class="[(#COMPTEUR_BOUCLE|alterner{row_odd,row_even})]">
			<td class='statut'>[(#ID_AUTEUR|puce_changement_statut{#STATUT,0,auteur})]</td>
			<td class='nom'><a href="[(#ID_AUTEUR|generer_url_entite{auteur})]"[ title="(#BIO*|couper{200}|attribut_html)"]>[(#RANG). ]#NOM</a></td>
			<td class='site'>[<a href='(#URL_SITE)'>[(#NOM_SITE|sinon{#URL_SITE|couper{30}})]</a>]</td>
			<td class='nombre'></td>
		</tr>
	</BOUCLE_liste_aut>
	</tbody>
</table>
[<p class='pagination'>(#PAGINATION{prive})</p>]
</div>
</B_liste_aut>[<h3>[(#VAL{info_recherche_auteur_zero}|_T{#ARRAY{cherche_auteur,#ENV{recherche}}})]</h3>(#ENV{recherche}|oui)][
<div class="liste-elements auteurs"><strong class="caption">(#ENV*{sinon,''})</strong></div>
]<//B_liste_aut>
