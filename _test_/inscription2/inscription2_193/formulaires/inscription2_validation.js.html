[(#LANG|=={en}|?{'',' '})
	<script type="text/javascript" src="#CHEMIN{lib/jquery-validate/localization/messages_#LANG.js}"></script>
]
<script type="text/javascript"><!--
/* http://bassistance.de/jquery-plugins/jquery-plugin-validation/ */

	jQuery.validator.addMethod("chainenombre", function(value, element) {
		return this.optional(element) || /^[A-Za-z0-9\-\'\.ßÂâÄäÁÀàËëÈèÊêÉéÏïÎîÌìÍÒòÓÔôÖöÙùÜüÛû‡,˚ ]+$/.test(value);
	}, "<:inscription2:champ_obligatoire:>, <:inscription2:chaine_valide:> <:inscription2:chainenombre:>");

	jQuery.validator.addMethod("chaine", function(value, element) {
		return this.optional(element) || /^[A-Za-z\-\'\.ßÂâÄäÁÀàËëÈèÊêÉéÏïÎîÌìÍÒòÓÔôÖöÙùÜüÛû‡,˚ ]+$/.test(value);
	}, "<:inscription2:champ_obligatoire:>, <:inscription2:chaine_valide:> <:inscription2:chainelettre:>");

	jQuery.validator.addMethod("postal", function(value, element) {
		return this.optional(element) || /^[A-Z]{1,2}[-|\s][0-9]{3,6}$|^[0-9]{3,6}$|^[0-9|A-Z]{2,5}[-|\s][0-9|A-Z]{2,4}$|^[A-Z]{1,2} [0-9|A-Z]{2,5}[-|\s][0-9|A-Z]{2,4}$/.test(value);
	}, "<:inscription2:champ_obligatoire:>, <:inscription2:cp_valide:>");
	
	jQuery.validator.addMethod("numero", function(value, element) {
		return this.optional(element) || /^[0-9\+\. \-]+$/.test(value);
	}, "<:inscription2:champ_obligatoire:>, <:inscription2:numero_valide:>");
	
	jQuery(document).ready(function() {
	// validate signup form on submit
	jQuery("#inscription").validate({
		event: "keyup",
		errorPlacement: function(error, element) {
			error.appendTo( element.parent("div") ).after("");
		},
		rules: {
			[(#EVAL{defined('_DIR_PLUGIN_ABONNEMENT')}|?{' ',''})
				abonnement:{required: true},
			]
			[(#EVAL{defined('_DIR_PLUGIN_ECHOPPE')}|?{' ',''})
				#INCLURE{fond=javascript/echoppe_inscription_rules}
			]
			sexe:{[(#CONFIG{inscription2/sexe_obligatoire}|=={on}|?{required: true})]},
			nom_famille: {[(#CONFIG{inscription2/nom_famille_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[2,20]},
			prenom:{[(#CONFIG{inscription2/prenom_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[2,20]},
			nom: {[(#CONFIG{inscription2/nom}|=={on}|?{required: true,}),]chainenombre:true, rangeLength:[2,20]},
			username: {[(#CONFIG{inscription2/username_obligatoire}|=={on}|?{required: true,}),]chainenombre:true, rangeLength:[4,20]},
			adresse: {[(#CONFIG{inscription2/adresse_obligatoire}|=={on}|?{required: true,}),] rangeLength:[5,1000]},
			code_postal: {[(#CONFIG{inscription2/code_postal_obligatoire}|=={on}|?{required: true,}),]postal:true, rangeLength:[3,20]},
			ville: {[(#CONFIG{inscription2/ville_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[2,30]},
			email: {[(#CONFIG{inscription2/email}|=={on}|?{required: true,}),]email:true, rangeLength:[5,80]},
			telephone: {[(#CONFIG{inscription2/telephone_obligatoire}|=={on}|?{required: true,}),]numero:true, rangeLength:[6,25]},
			fax: {[(#CONFIG{inscription2/fax_obligatoire}|=={on}|?{required: true,}),]numero:true, rangeLength:[6,25]},
			mobile: {[(#CONFIG{inscription2/mobile_obligatoire}|=={on}|?{required: true,}),]numero:true, rangeLength:[6,25]},
			profession: {[(#CONFIG{inscription2/profession_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[3,30]},
			societe: {[(#CONFIG{inscription2/societe_obligatoire}|=={on}|?{required: true,}),]chainenombre:true, rangeLength:[3,30]},
			secteur:{[(#CONFIG{inscription2/secteur_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[3,50]},
			fonction: {[(#CONFIG{inscription2/fonction_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[3,50]},
			adresse_pro: {[(#CONFIG{inscription2/adresse_pro_obligatoire}|=={on}|?{required: true,}),] rangeLength:[5,1000]},
			code_postal_pro: {[(#CONFIG{inscription2/code_postal_pro_obligatoire}|=={on}|?{required: true,}),]postal:true, rangeLength:[3,20]},
			ville_pro: {[(#CONFIG{inscription2/ville_pro_obligatoire}|=={on}|?{required: true,}),]chaine:true, rangeLength:[2,30]},
			telephone_pro: {[(#CONFIG{inscription2/telephone_pro_obligatoire}|=={on}|?{required: true,}),]numero:true, rangeLength:[6,25]},
			fax_pro: {[(#CONFIG{inscription2/fax_pro_obligatoire}|=={on}|?{required: true,}),]numero:true, rangeLength:[6,25]},
			mobile_pro: {[(#CONFIG{inscription2/mobile_pro_obligatoire}|=={on}|?{required: true,}),]numero:true, rangeLength:[6,25]},
			divers: {[(#CONFIG{inscription2/commentaire_obligatoire}|=={on}|?{required: true,}),]rangeLength:[3,1000]},
			pays:{[(#CONFIG{inscription2/pays_obligatoire}|=={on}|?{required: true,''})]}
		},
		messages: {
			[(#EVAL{defined('_DIR_PLUGIN_ABONNEMENT')}|?{' ',''})
				abonnement: {
					required:"<:inscription2:champ_obligatoire:>"},
			]
			[(#EVAL{defined('_DIR_PLUGIN_ECHOPPE')}|?{' ',''})
				#INCLURE{fond=javascript/echoppe_inscription_messages}
			]
			sexe: {
				required:"<:inscription2:champ_obligatoire:>"
			},
			nom_famille: {
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainelettre:>"
			},
			prenom:{
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainelettre:>"
			},
			nom: {
				required:"<:inscription2:champ_obligatoire:>",
				chainenombre:"<:inscription2:chaine_valide:> <:inscription2:chainenombre:>"
			},
			username: {
				required:"<:inscription2:champ_obligatoire:>",
				chainenombre:"<:inscription2:chaine_valide:> <:inscription2:chainenombre:>"
			},
			adresse: {
				required:"<:inscription2:champ_obligatoire:>"
			},
			code_postal: {
				required:"<:inscription2:champ_obligatoire:>",
				postal:"<:inscription2:cp_valide:>"
			},
			ville: {
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainelettre:>"
			},
			pays: {
				required:"<:inscription2:champ_obligatoire:>"
			},
			email: {
				required:"<:inscription2:champ_obligatoire:>",
				email:"<:inscription2:email_valide:>"
			},
			telephone: {
				required:"<:inscription2:champ_obligatoire:>",
				numero:"<:inscription2:numero_valide:>"
			},
			fax: {
				required:"<:inscription2:champ_obligatoire:>",
				numero:"<:inscription2:numero_valide:>"
			},
			mobile: {
				required:"<:inscription2:champ_obligatoire:>",
				numero:"<:inscription2:numero_valide:>"
			},
			profession: {
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainelettre:>"
			},
			societe: {
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainenombre:>"
			},
			secteur:{
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:>"
			},
			fonction: {
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainelettre:>"
			},
			adresse_pro: {
				required:"<:inscription2:champ_obligatoire:>"
			},
			code_postal_pro: {
				required:"<:inscription2:champ_obligatoire:>",
				postal:"<:inscription2:cp_valide:>"
			},
			ville_pro: {
				required:"<:inscription2:champ_obligatoire:>",
				chaine:"<:inscription2:chaine_valide:> <:inscription2:chainelettre:>"
			},
			pays_pro: {
				required:"<:inscription2:champ_obligatoire:>"
			},
			telephone_pro: {
				required:"<:inscription2:champ_obligatoire:>",
				numero:"<:inscription2:numero_valide:>"
			},
			fax_pro: {
				required:"<:inscription2:champ_obligatoire:>",
				numero:"<:inscription2:numero_valide:>"
			},
			mobile_pro: {
				required:"<:inscription2:champ_obligatoire:>",
				numero:"<:inscription2:numero_valide:>"
			},
			divers:{
				required:"<:inscription2:champ_obligatoire:>"
			}
		}
	});

	// propose username and name by combining first- and lastname
	jQuery("#username").focus(function() {
		var prenom = jQuery("#prenom").val();
		var nom = jQuery("#nom_famille").val();
		if(prenom && nom && !this.value) {
			this.value = prenom + "." + nom;
		}
	});
	jQuery("#nom").focus(function() {
		var prenom = jQuery("#prenom").val();
		var nom = jQuery("#nom_famille").val();
		if(prenom && nom && !this.value) {
			this.value = prenom + " " + nom;
		}
	});
	jQuery('.obligatoire label').append('*');
});// -->
</script>
