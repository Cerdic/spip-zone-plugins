<plugin>
	<nom>Langue pr&eacute;f&eacute;r&eacute;e par l'internaute</nom>
	<auteur>Nicolas Hoizey &#169; 2007 - Licence GNU/GPL</auteur>
	<version>0.3</version>
	<etat>test</etat>
	<description>
<multi>
[fr]
Ce plugin (pour SPIP 1.9.2+) permet d'identifier les langues pr&eacute;f&eacute;r&eacute;es configur&eacute;es par l'internaute dans son navigateur et de lui proposer automatiquement la langue la plus pertinente dans un site multilingue ayant un secteur par langue.
Ce m&eacute;canisme suppose qu'il n'y a pas de page sommaire particuli&egrave;re, les pages d'accueil localis&eacute;es &eacute;tant des pages de secteurs.

Utilisez la balise <code>#LANGUE_PREFEREE_SECTEUR_REDIRECTION</code> dans <code>sommaire.html</code>, &agrave; l'exclusion de tout autre code, pour que l'internaute soit redirig&eacute; automatiquement vers le secteur qu'il est le plus susceptible de comprendre, selon la configuration de langue de son navigateur.
Si aucune langue disponible n'est compatible avec les choix configur&eacute;s dans le navigateur, la langue par d&eacute;faut du site est choisie.
Si cette langue n'est utilis&eacute;e par aucun secteur (!!!), le premier secteur trouv&eacute; est choisi.
Il est possible de filtrer le ou les secteurs pour ne par rediriger vers un secteur non souhait&eacute;. Pour cela mettez la liste des secteurs non souhait&eacute;s s&eacute;par&eacute;s par des virgules en param&egrave;tre de <code>#LANGUE_PREFEREE_SECTEUR_REDIRECTION</code>, par exemple : <code>#LANGUE_PREFEREE_SECTEUR_REDIRECTION{"3,12"}</code>, la balise ne pourra pas rediriger ni vers le secteur 3, ni vers le 12.

Il est possible de laisser l'internaute choisir sa langue pr&eacute;f&eacute;r&eacute;e, diff&#233;rente de celle configur&eacute;e dans son navigateur, en la pr&eacute;cisant en param&egrave;tre d'appel du sommaire, avec <code>/?lang=fr</code> par exemple pour le fran&#231;ais.
Ce choix est alors stock&eacute; dans un cookie pour utilisation ult&#233;rieure prioritaire sur la configuration du navigateur.
La balise <code>#LANGUE_PREFEREE_LIEN_EFFACE_COOKIE</code> permet de proposer un lien de suppression de ce cookie.
<code>#LANGUE_PREFEREE_LIEN_EFFACE_COOKIE{mon message personnalise}</code> permet de remplacer le message propos&eacute; par d&eacute;faut.
[en]
This plugin (for SPIP 1.9.2+) checks the visitor browser prefered languages and redirects automagically to this language within a multi language website having one section per language.
It requiers not to have a specific sommaire page, the home pages will be localized to each sectors.

Use only the <code>#LANGUE_PREFEREE_SECTEUR_REDIRECTION</code> tag in <code>sommaire.html</code>, but any other code, allowing each visitors to be redirected to the most meaningful sector.
If not any website language suits the visitor's preferred language, the website default language is selected. By the way, if this language is not used by any sector (yes you can !), the first avalaible sector is selected.
It's also possible to exclude some sectors from the possible redirections. In this case, just add as parameter a comma seperated list of unwanted sectors to <code>#LANGUE_PREFEREE_SECTEUR_REDIRECTION</code>, for example: <code>#LANGUE_PREFEREE_SECTEUR_REDIRECTION{"3,12"}</code>, the tag can not redirect to sector 3 or 12.

It's possible to let the visitor choose it's own preferred language, that may be different from its browser, by adding (for example selecting english) <code>/?lang=en</code> calling sommaire page. Therefore this choice is stored in a cookie for further use and will take precedence to the browser preference.
The <code>#LANGUE_PREFEREE_LIEN_EFFACE_COOKIE</code> tag allows you to add a link allowing to remove this cookie. Using a parameter like: <code>#LANGUE_PREFEREE_LIEN_EFFACE_COOKIE{my own message}</code> prompts your "own message" instead of the default one.
</multi>
    </description>
    <chemin dir='' />
	<prefix>languepreferee</prefix>
	<options>languepreferee_options.php</options>
</plugin>
