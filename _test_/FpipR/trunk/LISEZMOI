###  README --- 
## Copyright 2006 Pierre Andrews
##
## Author: mortimer.pa@free.fr
## Licence: GPL, non commercial use

__ATTENTION, CE PLUGIN EST DESTINE A UN USAGE NON COMMERCIAL. SI VOUS EN AVEZ BESOIN POUR UN SITE COMMERCIAL, VOUS DEVEZ OBTENIR VOTRE PROPRE CLEF CHEZ FLICKR.__

__THIS PLUGIN CANNOT BE USED FOR COMMERCIAL SITES. IF YOU WANT TO USE IT ON A COMMERCIAL SITE, YOU HAVE TO GET YOUR OWN API KEY FROM FLICKR.__

-----------------

Ce plugin permet d'associer des images de votre compte flickr a vos articles et rubriques.

= Ajout de photos flickr à vos articles =

Depuis la version 0.1, on peut utiliser ce plugin pour associer des photos flickr à ses articles comme des documents distant "standarts".

On peut utiliser cette fonction pour faire un article à propos d'une photo, ou d'un set de photos, etc...


== Utilisation: == 
 1. aller sur la page de gestion de votre profil SPIP
 1. suivez les instructions pour vous identifier sur Flickr
 1. vous pouvez ensuite aller sur un de vos articles/rubriques et cliquer sur le liens dans la colonne de gauche pour choisir des images de flickr.

== Telechargement ==

la version 0.1 est dispo en '''TEST''' ici:
http://trac.rezo.net/files/spip-zone/FpipR.zip

----------------

= Ajout de nouvelles Boucles =

Depuis la version 0.2, le plugin offre la possibilité d'acceder aux methodes de l'API flickr (voir http://www.flickr.com/services/api) à travers le système de BOUCLE de SPIP.

On peut ainsi faire ses propres squelettes pour faire des diaporamas Flickr, etc.. etc..

== Telechargement ==

la version 0.2 est en '''DEV''' et disponible sur le svn de la zone:

http://trac.rezo.net/trac/spip-zone/browser/_plugins_/_test_/FpipR/trunk

== Boucles '''AUTEURS''' ==

Le plugin ajout une nouvelle balise à cette boucle:

{{{#FLICKR_NSID}}}  retournera (pour les auteurs authentifié sur Flickr) l'id flickr unique (nsid) de cet auteur.
On peut ensuite l'utiliser dans les boucles Flickr pour limiter les recherches à cet utilisateur.

== Boucle '''FLICKR_PHOTOS_SEARCH''' ==

Cette boucle implemente la méthode: http://www.flickr.com/services/api/flickr.photos.search.html
On peut l'utiliser pour chercher des photos.
ATTENTION, il faut absolument specifier au moins un critere precisant la recherche si on veut que la boucle retourne des resultats.


=== Criteres ===

Les criteres correspondent aux parametres de la methode Flickr.

Les criteres suivant peuvent être utilisés comme les criteres standard de SPIP: {{{ {user_id=#FLICKR_NSID} }}} ou {{{ {upload_date < #DATE} }}} par exemple. Ils peuvent aussi être utiliser dans des tris

 * {{{ {user_id} }}}
 * {{{ {license} }}}
 * {{{ {upload_date} }}}
 * {{{ {taken_date} }}}

Les criteres suivant sont "special" et prennent leur parametre directement: {{{ {tags spip,gateau} }}} par exemple

 * {{{ {tags} }}}
 * {{{ {tag_mode} }}}
 * {{{ {text} }}}
 * {{{ {privacy_filter} }}} NE MARCHE PAS
 * {{{ {bbox} }}} limitation geographique de la recherche, separé par des :, longitude minimum, latitude minimum, longitude max, latitude max
 * {{{ {accuracy} }}}

Les criteres suivant peuvent être specifié pour les tri:
{{{ {par date_posted} }}},{{{ {par date_taken} }}},{{{ {par interestingness} }}},{{{ {par relevance} }}} (dans le cas d'une recherche).

=== Balises ===

 * {{{ #ID_PHOTO }}} id de la photo
 * {{{ #USER_ID }}} nsid de l'utilisateur
 * {{{ #SECRET }}} secret de la photo pour construire l'url et obtenir plus d'info
 * {{{ #SERVER }}} le server où la photo se trouve
 * {{{ #TITLE }}} le titre de la photo
 * {{{ #ISPUBLIC }}} 1 si la photo est publique, 0 sinon
 * {{{ #ISFRIEND }}} 1 si la photo est accessible aux amis, 0 sinon
 * {{{ #ISFAMILY }}} 1 si la photo est accessible à la famille, 0 sinon
 * {{{ #ORIGINALFORMAT }}} l'extension du fichier original
 * {{{ #LICENSE }}} la license (voir les valeurs là http://www.flickr.com/services/api/flickr.photos.licenses.getInfo.html)
 * {{{ #UPLOAD_DATE }}} quand la photo a été postée sur Flickr
 * {{{ #TAKEN_DATE }}} quand la photo a été prise, si dispo dans les infos EXIF
 * {{{ #ONWER_NAME }}} le nom de l'utilisateur
 * {{{ #ICON_SERVER }}} le serveur où trouver l'icone de l'utilisateur
 * {{{ #LAST_UPDATE }}} date de derniere modification des donnees de la photo
 * {{{ #LONGITUDE }}} 
 * {{{ #LATITUDE }}} 
 * {{{ #ACCURACY }}} la precision de l'info geographique:
    * 1 niveau global
    * ~3 niveau d'un pays
    * ~6 niveau d'une region
    * ~11 niveau d'une ville
    * ~16 niveau de la rue

''' Balises Calculées''' 

(c.f. http://www.flickr.com/services/api/misc.urls.html
et http://www.flickr.com/services/api/misc.buddyicons.html)

 * {{{ #URL_PHOTO }}} l'url de la photo
 * {{{ #URL_OWNER }}} l'url du photographe
 * {{{ #LOGO_PHOTO }}} retourne l'image taille moyenne (500px sur le côté le plus long), sauf si on lui passe un parametre:
    * s	petit carre 75x75
    * t	vignette, 100px sur le côté le plus long 
    * m	petite, 240px sur le côté le plus long 
    * b	large, 1024px sur le côté le plus long (seulement si o est tres large)
    * o	image originale, jpg, png ou gif en fonction de #ORIGINALFORMAT
 * {{{ #LOGO_OWNER }}} le logo du photographe

-------------


