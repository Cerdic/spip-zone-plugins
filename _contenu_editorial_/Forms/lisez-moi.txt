
/***************************************************************************\
 *  SPIP, Systeme de publication pour l'internet                           *
 *                                                                         *
 *  Copyright (c) 2001-2006                                                *
 *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
 *                                                                         *
 *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
 *                                                                         *
 *  Plugin FORMS (SPIP 1.9) - DOCUMENTATION                                *
 *  Si vous pensez que ce fichier n'est pas assez explicite et/ou que vous *
 *  avez galéré pour enfin faire marcher ce plugin, n'hésitez pas à        *
 *  participer à la rédaction de ce fichier en vous rendant à l'adresse    *
 *  http://zone.spip.org/trac/spip-zone/wiki/LesPlugins                    *
\***************************************************************************/


Utilisation basique du plugin Forms le sondage n'est pas explicité pour l'instant dans ce document).

Une fois que vous avez choisis ce plugin dans l'interface de gestion des plugins :

1) Passez la souris sur "Edition" puis cliquez sur l'icône "Formulaires et sondages";
2) Cliquez sur "Créer un nouveau formulaire";
3) Donnez un titre, éventuellement un descriptif, et indiquez une adresse email où sera envoyé le contenu du formulaire rempli par votre utilisateur ou utilisatrice;
4) choisissez "Ce formulaire n'est pas un sondage" (c'est le seul exemple abordé dans ce document) puis validez;
5) Vous allez arriver sur la même page, mais en bas vous trouverez les champs que vous souhaitez avoir dans votre formulaire (nous expliquerons ce qu'ils siginifient dans le détail dans une autre version de ce document) : choisissez les champs voulus puis cliquez sur "Ajouter" à chaque élément que vous souhaitez dans votre formulaire (testez les tous si vous êtes curieuse ou curieux);
6) Lorsque que vous avez inséré tous les composants souhaités de votre formulaire, cliquez sur "Retour" en haut de la page.

Vous insérez ensuite ce formulaire à la manière d'une insertion d'image dans un article : lorsque vous créez ou modifiez un article, vos formulaires se trouvent à gauche de votre article et vous n'avez qu'à coller le code du formulaire voulu (ex. "<form1>") dans le corps de votre article (comme une image).

Vous pouvez consulter les formulaires que vos utilisatrices ou utilisateurs vous ont envoyé en passant votre souris sur "Forum", puis sur "Suivi des réponses" (les réponses sont sur le même mode que les signatures des pétitions). Si vous avez indiqué une adresse mail dans la configuration de votre formulaire (plus haut), vous recevrez *également* le contenu du formulaire par mail (pour autant que votre serveur vous autorise à envoyer des mails).

ASTUCE

Vous pouvez récupérer les infos de vos formulaires en utilisant la boucle suivante :

<BOUCLE_NomDeLaBoucle(SPIP_FORMS)>#TITRE</BOUCLE_NomDeLaBoucle>

- Soit « NomDeLaBoucle » = le nom de la boucle (ce que vous voulez, pourvu qu'il n'y ait pas d'espace)
- Soit « SPIP_FORMS » = le nom de la table (si vous avez choisis un préfixe de table pour votre site spip, vous devez remplacer « SPIP » par ce préfixe; ex. : « MON_PREFIXE_FORMS » ou « MONPREFIXE_FORMS »)
- #TITRE = le titre du formulaire (il reste à tester les autres champs de la table « spip_forms », à savoir #DESCRIPTIF, #SONDAGE, #STRUCTURE, #EMAIL, #CHAMPCONFIRM, #TEXTE pour voir si ça marche, et regarder quels champs sont ajoutés dans la table « spip_forms » en fonction des formulaires que l'on crée et de leurs composants; en régle générale, il faut tester si #NOM_DU_CHAMPS marche et ce qu'il retourne comme résultat. Il y aura probablement un filtre à faire pour séparer les données de chaque champs qui sont visiblement séparées par un point-virgule - par exemple, toutes les réponses d'un champs « nom_prenom » doivent être affichées « Nom Prénom 1;Nom Prénom 2;Prénom Nom 3;nom4 etc » quand on utilise la balise #NOM_PRENOM...).
