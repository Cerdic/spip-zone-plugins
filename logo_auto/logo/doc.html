[(#REM) reglages des variables ]
#SET{largeur,150}
#SET{hauteur,#GET{largeur}}
#SET{class,spip_logos}

[(#REM)

  1. logo contribué du document
  2. previsu du document
  3. logo par défaut des documents
  4. icone du document — TODO ?

]

[(#REM) 1. recuperer le logo du document de facon classique ]
#SET{logo,#ENV*{logo_document}}

[(#REM) 2. s'il n'existe pas… ]

<BOUCLE_doc(DOCUMENTS)
  {si (#GET{logo}|non)}
  {id_document}
  {extension IN jpg, gif, png}
  {par date}
  {0,1}
>
#SET{logo,#FICHIER}
[(#ID_DOCUMENT|document_vu{document,#ID_DOCUMENT})]
</BOUCLE_doc>

[(#GET{logo}|non)
  #SET{logo,#CHEMIN{logo/document.png}}
]

[(#REM) traiter/recadrer le logo ]
[(#GET{logo}
    |image_passe_partout{#GET{largeur},#GET{hauteur}}
    |image_recadre{#GET{largeur},#GET{hauteur},center,transparent}
    |inserer_attribut{class,#GET{class}}
)]