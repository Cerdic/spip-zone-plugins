!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).littlefoot=e()}(function(){var e=function(e){return e&&e.__esModule?e:{default:e}},r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.createCore=function(r,i){var a=(o=r,u=i,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:u.activateDelay,n=u.activateCallback;e.isChanging()||(e.startChanging(),e.activate(n),o.forEachFootnote(function(e){e.reposition(),e.resize()}),setTimeout(function(){e.ready(),e.stopChanging()},t))}),c=(n=i,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.dismissDelay;e.isChanging()||(e.startChanging(),e.dismiss(),setTimeout(function(){e.remove(),e.stopChanging()},t))}),n,o,u;return{findFootnote:r.findFootnote,unmount:r.unmount,activate:a,dismiss:c,dismissAll:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.dismissDelay;r.forEachFootnote(function(e){return c(e,t)})},repositionAll:function(){r.forEachFootnote(function(e){return e.reposition()})},resizeAll:function(){r.forEachFootnote(function(e){return e.resize()})},toggle:function(e){var t=i.allowMultiple;e.isActive()?c(e):(t||r.forEachFootnoteExcept(c,e),a(e))},hover:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.hoverDelay,n=i.activateOnHover,o=i.allowMultiple;e.startHovering(),n&&!e.isActive()&&(o||r.forEachFootnoteExcept(c,e),a(e,t))},unhover:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.hoverDelay,n=i.dismissOnUnhover;e.stopHovering(),n&&setTimeout(function(){r.hasHoveredFootnotes()||r.forEachFootnote(c)},t)}}};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.getStyle=function(e,t){var n=(e.ownerDocument&&e.ownerDocument.defaultView||window).getComputedStyle(e);return n.getPropertyValue(t)||n[t]};var o={};function f(e){return e?c.getStyle(e,"fontSize")||f(e.parentElement):c.getStyle(window.document.documentElement,"fontSize")}Object.defineProperty(o,"__esModule",{value:!0}),o.pixels=function e(t,n){var o=n&&n.ownerDocument&&n.ownerDocument.defaultView||window,r=o.document.documentElement||o.document.body,i=(u=(c=t)||"0",l=parseFloat(u),s=u.match(/[\d-.]+(\w+)$/),[l,(s&&1<s.length?s[1]:"").toLowerCase()]),a=i[0],c,u,l,s;switch(i[1]){case"rem":return a*e(f(window.document.documentElement));case"em":return a*e(f(n),n&&n.parentElement);case"in":return 96*a;case"q":return 96*a/25.4/4;case"mm":return 96*a/25.4;case"cm":return 96*a*10/25.4;case"pt":return 96*a/72;case"pc":return 96*a/6;case"vh":return(a*o.innerHeight||r.clientWidth)/100;case"vw":return(a*o.innerWidth||r.clientHeight)/100;case"vmin":return a*Math.min(o.innerWidth||r.clientWidth,o.innerHeight||r.clientHeight)/100;case"vmax":return a*Math.max(o.innerWidth||r.clientWidth,o.innerHeight||r.clientHeight)/100;default:return a}};var p={};(function(e){var y="Expected a function",i=NaN,a="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,o=t||n||Function("return this")(),d=Object.prototype.toString,b=Math.max,w=Math.min,S=function(){return o.Date.now()};function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function O(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&d.call(t)==a)return i;var t,n;if(_(e)){var o="function"==typeof e.valueOf?e.valueOf():e;e=_(o)?o+"":o}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var r=l.test(e);return r||s.test(e)?f(e.slice(2),r?2:8):u.test(e)?i:+e}p=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(y);return _(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),function(o,r,e){var i,a,c,u,l,s,f=0,d=!1,p=!1,t=!0;if("function"!=typeof o)throw new TypeError(y);function v(e){var t=i,n=a;return i=a=void 0,f=e,u=o.apply(n,t)}function h(e){var t=e-s;return void 0===s||r<=t||t<0||p&&c<=e-f}function g(){var e=S(),t,n;if(h(e))return m(e);l=setTimeout(g,(n=r-((t=e)-s),p?w(n,c-(t-f)):n))}function m(e){return l=void 0,t&&i?v(e):(i=a=void 0,u)}function n(){var e=S(),t=h(e),n;if(i=arguments,a=this,s=e,t){if(void 0===l)return f=n=s,l=setTimeout(g,r),d?v(n):u;if(p)return l=setTimeout(g,r),v(s)}return void 0===l&&(l=setTimeout(g,r)),u}return r=O(r)||0,_(e)&&(d=!!e.leading,c=(p="maxWait"in e)?b(O(e.maxWait)||0,r):c,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==l&&clearTimeout(l),i=s=a=l=void(f=0)},n.flush=function(){return void 0===l?u:m(S())},n}(e,t,{leading:o,maxWait:t,trailing:r})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var t,n={};t=function(){"use strict";function e(){if(!(this instanceof e))return new e;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var t=window.document.documentElement,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;e.prototype.matchesSelector=function(e,t){return n.call(e,t)},e.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};var o=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;(e.prototype.indexes=[]).push({name:"ID",selector:function(e){var t;if(t=e.match(o))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var r=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(r))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var d,i=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;function a(){this.map={}}e.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(i))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),e.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},d="function"==typeof window.Map?window.Map:(a.prototype.get=function(e){return this.map[e+" "]},a.prototype.set=function(e,t){this.map[e+" "]=t},a);var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function p(e,t){var n,o,r,i,a,c,u=(e=e.slice(0).concat(e.default)).length,l=t,s=[];do{if(f.exec(""),(r=f.exec(l))&&(l=r[3],r[2]||!l))for(n=0;n<u;n++)if(a=(c=e[n]).selector(r[1])){for(o=s.length,i=!1;o--;)if(s[o].index===c&&s[o].key===a){i=!0;break}i||s.push({index:c,key:a});break}}while(r);return s}function v(e,t){var n,o,r;for(n=0,o=e.length;n<o;n++)if(r=e[n],t.isPrototypeOf(r))return r}function h(e,t){return e.id-t.id}return e.prototype.logDefaultIndexUsed=function(){},e.prototype.add=function(e,t){var n,o,r,i,a,c,u,l,s=this.activeIndexes,f=this.selectors;if("string"==typeof e){for(n={id:this.uid++,selector:e,data:t},u=p(this.indexes,e),o=0;o<u.length;o++)i=(l=u[o]).key,(a=v(s,r=l.index))||((a=Object.create(r)).map=new d,s.push(a)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(c=a.map.get(i))||(c=[],a.map.set(i,c)),c.push(n);this.size++,f.push(e)}},e.prototype.remove=function(e,t){if("string"==typeof e){var n,o,r,i,a,c,u,l,s=this.activeIndexes,f={},d=1===arguments.length;for(n=p(this.indexes,e),r=0;r<n.length;r++)for(o=n[r],i=s.length;i--;)if(c=s[i],o.index.isPrototypeOf(c)){if(u=c.map.get(o.key))for(a=u.length;a--;)(l=u[a]).selector!==e||!d&&l.data!==t||(u.splice(a,1),f[l.id]=!0);break}this.size-=Object.keys(f).length}},e.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,o,r,i,a,c,u,l={},s=[],f=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,o=f.length;t<o;t++)for(i=f[t],n=0,r=(a=this.matches(i)).length;n<r;n++)l[(u=a[n]).id]?c=l[u.id]:(c={id:u.id,selector:u.selector,data:u.data,elements:[]},l[u.id]=c,s.push(c)),c.elements.push(i);return s.sort(h)},e.prototype.matches=function(e){if(!e)return[];var t,n,o,r,i,a,c,u,l,s,f,d=this.activeIndexes,p={},v=[];for(t=0,r=d.length;t<r;t++)if(u=(c=d[t]).element(e))for(n=0,i=u.length;n<i;n++)if(l=c.map.get(u[n]))for(o=0,a=l.length;o<a;o++)!p[f=(s=l[o]).id]&&this.matchesSelector(e,s.selector)&&(p[f]=!0,v.push(s));return v.sort(h)},e},"object"==typeof n?n=t():this.SelectorSet=t();var a,y={exports:{}};a=function(e,a){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;var u={},l={},s=new WeakMap,f=new WeakMap,d=new WeakMap,n=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function p(e,t,n){var o=e[t];return e[t]=function(){return n.apply(e,arguments),o.apply(e,arguments)},e}function v(){s.set(this,!0)}function h(){s.set(this,!0),f.set(this,!0)}function g(){return d.get(this)||null}function m(e,t){n&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||n.get})}function c(e){var t=(1===e.eventPhase?l:u)[e.type];if(t){var n=function(e,t,n){var o=[],r=t;do{if(1!==r.nodeType)break;var i=e.matches(r);if(i.length){var a={node:r,observers:i};n?o.unshift(a):o.push(a)}}while(r=r.parentElement);return o}(t,e.target,1===e.eventPhase);if(n.length){p(e,"stopPropagation",v),p(e,"stopImmediatePropagation",h),m(e,g);for(var o=0,r=n.length;o<r&&!s.get(e);o++){var i=n[o];d.set(e,i.node);for(var a=0,c=i.observers.length;a<c&&!f.get(e);a++)i.observers[a].data.call(i.node,e)}d.delete(e),m(e)}}}e.on=function(e,t,n){var o=!!(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).capture,r=o?l:u,i=r[e];i||(i=new a,r[e]=i,document.addEventListener(e,c,o)),i.add(t,n)},e.off=function(e,t,n){var o=!!(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).capture,r=o?l:u,i=r[e];i&&(i.remove(t,n),i.size||(delete r[e],document.removeEventListener(e,c,o)))},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof y.exports?a(y.exports,n):a(this["delegated-events"]={},this.SelectorSet),y=y.exports;var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.bindContentScrollHandler=function(e){var t=(0,b.default)(l);e.addEventListener("mousewheel",t),e.addEventListener("wheel",t)},w.addEventListeners=function(e){var t,n=e.dismissAll,o=e.findFootnote,r=e.hover,i=e.repositionAll,a=e.resizeAll,c=e.toggle,u=e.unhover,l=(h=o,g=c,m=n,function(e){var t,n=(t=e.target.closest("[data-footnote-button]"))&&t.dataset.footnoteId,o=n&&h(n);o?g(o):_(e.target)||m()}),s=(t=n,function(e){return"27"===e.key&&t()}),f=(0,b.default)(i),d=(0,b.default)(a),p=O(o,r),v=O(o,u),h,g,m;return document.addEventListener("touchend",l),document.addEventListener("click",l),document.addEventListener("keyup",s),document.addEventListener("gestureend",f),window.addEventListener("scroll",f),window.addEventListener("resize",d),(0,y.on)("mouseover",S,p),(0,y.on)("mouseout",S,v),function(){document.removeEventListener("touchend",l),document.removeEventListener("click",l),document.removeEventListener("keyup",s),document.removeEventListener("gestureend",f),window.removeEventListener("scroll",f),window.removeEventListener("resize",d),(0,y.off)("mouseover",S,p),(0,y.off)("mouseout",S,v)}},w.FOOTNOTE_SELECTOR=void 0;var b=e(p),S="[data-footnote-id]";w.FOOTNOTE_SELECTOR=S;var u="is-fully-scrolled";function _(e){return e.closest("[data-footnote-popover]")}function O(r,i){return function(e){e.preventDefault();var t,n=(t=e.target.closest(S))&&t.dataset.footnoteId,o=n&&r(n);o&&i(o)}}function l(e){var t=e.currentTarget,n=-e.deltaY,o=t.clientHeight,r=_(t);if(r&&n<=0&&n<o+t.scrollTop-t.scrollHeight)return r.classList.add(u),t.scrollTop=t.scrollHeight,void e.preventDefault();r&&0<n&&(r.classList.remove(u),t.scrollTop<n&&(t.scrollTop=0,e.preventDefault()))}var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.getAvailableRoom=function(e){var t=parseFloat((0,c.getStyle)(e,"marginLeft")),n=e.offsetWidth-t,o=e.offsetHeight,r=e.getBoundingClientRect(),i=r.left+n/2,a=r.top+o/2;return{top:a,bottom:window.innerHeight-a,leftRelative:i/window.innerWidth}},s.getAvailableHeight=function(e,t){var n=m(e,t),o=parseInt((0,c.getStyle)(e,"marginTop"),10);return t[n?g:h]-o-15},s.repositionPopover=function(e,t){var n=m(e,t),o=e.dataset.footnotePosition,r=n?g:h;o!==r&&(e.dataset.footnotePosition=r,e.classList.remove("".concat(v).concat(o)),e.classList.add("".concat(v).concat(r)),e.style.transformOrigin="".concat(100*t.leftRelative,"% ").concat(n?"100%":"0"))},s.repositionTooltip=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,n=e.querySelector("."+d);n&&(n.style.left=100*t+"%")},s.CLASS_WRAPPER=s.CLASS_TOOLTIP=s.CLASS_CONTENT=void 0,s.CLASS_CONTENT="littlefoot-footnote__content";var d="littlefoot-footnote__tooltip";s.CLASS_TOOLTIP=d,s.CLASS_WRAPPER="littlefoot-footnote__wrapper";var v="is-positioned-",h="bottom",g="top";function m(e,t){var n=2*parseInt((0,c.getStyle)(e,"marginTop"),10)+e.offsetHeight;return t.bottom<n&&t.bottom<t.top}var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.createFootnote=function(i){return{getId:function(){return i.id},activate:function(e){i.button.blur(),i.button.setAttribute("aria-expanded","true"),i.button.classList.add(j),i.button.insertAdjacentHTML("afterend",i.content),i.popover=i.button.nextElementSibling,i.popover.dataset.footnotePopover="",i.popover.dataset.footnoteId=i.id;var t=L(i.popover);i.popover.style.maxWidth="".concat(document.body.clientWidth,"px"),(0,w.bindContentScrollHandler)(t);var n=(0,c.getStyle)(t,"maxHeight");i.maxHeight=Math.round((0,o.pixels)(n,t)),"function"==typeof e&&e(i.popover,i.button)},dismiss:function(){i.button.blur(),i.button.setAttribute("aria-expanded","false"),i.button.classList.remove(j)},isActive:function(){return i.button.classList.contains(j)},isChanging:function(){return i.button.classList.contains(x)},isHovered:function(){return i.isHovered},ready:function(){i.popover&&i.popover.classList.add(j)},remove:function(){i.popover&&(i.popover.parentNode.removeChild(i.popover),delete i.popover)},reposition:function(){if(i.popover){var e=(0,s.getAvailableRoom)(i.button),t=L(i.popover),n=Math.min(i.maxHeight,(0,s.getAvailableHeight)(i.popover,e));t.style.maxHeight=n+"px",(0,s.repositionPopover)(i.popover,e),i.popover.offsetHeight<=t.scrollHeight&&i.popover.classList.add(A)}},resize:function(){if(i.popover){var e=(0,s.getAvailableRoom)(i.button),t=L(i.popover).offsetWidth,n=parseInt((0,c.getStyle)(i.button,"marginLeft"),10),o=-e.leftRelative*t+n+i.button.offsetWidth/2,r=i.popover.querySelector("."+s.CLASS_WRAPPER);i.popover.style.left=o+"px",r&&(r.style.maxWidth=t+"px"),(0,s.repositionTooltip)(i.popover,e.leftRelative)}},startChanging:function(){i.button.classList.add(x)},stopChanging:function(){i.button.classList.remove(x)},startHovering:function(){i.isHovered=!0},stopHovering:function(){i.isHovered=!1},unmount:function(){i.host.parentNode.removeChild(i.host)}}};var j="is-active",x="is-changing",A="is-scrollable";function L(e){return e.querySelector("."+s.CLASS_CONTENT)}var Y=/<%=([\s\S]+?)%>/g,J={};(function(e){var t,n=/[&<>"'`]/g,o=RegExp(n.source),r="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")(),c=(t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==t?void 0:t[e]}),u=Object.prototype.toString,l=a.Symbol,s=l?l.prototype:void 0,f=s?s.toString:void 0;J={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Y,variable:"",imports:{_:{escape:function(e){return(e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&"[object Symbol]"==u.call(t))return f?f.call(e):"";var t,n,o=e+"";return"0"==o&&1/e==-1/0?"-0":o}(t))&&o.test(e)?e.replace(n,c):e;var t}}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var K={};(function(e){var w=1/0,r=9007199254740991,u="[object Arguments]",t="[object Error]",i="[object Function]",a="[object GeneratorFunction]",S="[object Symbol]",_=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,n=/^(?:0|[1-9]\d*)$/,x=/($^)/,A=/['\n\r\u2028\u2029\\]/g,o={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},c="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,s=c||l||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function L(e){return"\\"+o[e]}var d,p,v=Object.prototype,T=v.hasOwnProperty,F=v.toString,h=s.Symbol,g=v.propertyIsEnumerable,P=(d=Object.keys,p=Object,function(e){return d(p(e))}),m=Math.max,y=h?h.prototype:void 0,C=y?y.toString:void 0;function H(e,t){var n=N(e)||U(a=i=e)&&z(a)&&T.call(i,"callee")&&(!g.call(i,"callee")||F.call(i)==u)?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],o=n.length,r=!!o,i,a;for(var c in e)!t&&!T.call(e,c)||r&&("length"==c||I(c,o))||n.push(c);return n}function M(e,t,n,o){return void 0===e||k(e,v[n])&&!T.call(o,n)?t:e}function b(e,t,n){var o=e[t];T.call(e,t)&&k(o,n)&&(void 0!==n||t in e)||(e[t]=n)}function R(i,a){return a=m(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=m(e.length-a,0),o=Array(n);++t<n;)o[t]=e[a+t];t=-1;for(var r=Array(a+1);++t<a;)r[t]=e[t];return r[a]=o,f(i,this,r)}}function I(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||n.test(e))&&-1<e&&e%1==0&&e<t}function D(e,t,n){if(!$(n))return!1;var o=typeof t;return!!("number"==o?z(n)&&I(t,n.length):"string"==o&&t in n)&&k(n[t],e)}function W(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||v)}function k(e,t){return e===t||e!=e&&t!=t}var N=Array.isArray;function z(e){return null!=e&&("number"==typeof(o=e.length)&&-1<o&&o%1==0&&o<=r)&&!((n=$(t=e)?F.call(t):"")==i||n==a);var t,n,o}function q(e){return!!U(e)&&(F.call(e)==t||"string"==typeof e.message&&"string"==typeof e.name)}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}var V,B=(V=function(e,t,n,o){var r;!function(e,t,n,o){n=n||{};for(var r=-1,i=t.length;++r<i;){var a=t[r],c=o?o(n[a],e[a],a,n,e):void 0;b(n,a,void 0===c?e[a]:c)}}(t,z(r=t)?H(r,!0):function(e){if(!$(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=W(e),n=[];for(var o in e)("constructor"!=o||!t&&T.call(e,o))&&n.push(o);return n}(r),e,o)},R(function(e,t){var n=-1,o=t.length,r=1<o?t[o-1]:void 0,i=2<o?t[2]:void 0;for(r=3<V.length&&"function"==typeof r?(o--,r):void 0,i&&D(t[0],t[1],i)&&(r=o<3?void 0:r,o=1),e=Object(e);++n<o;){var a=t[n];a&&V(e,a,0,r)}return e})),G=R(function(e,t){try{return f(e,void 0,t)}catch(e){return q(e)?e:new Error(e)}});K=function(a,e,t){var n,o=J.imports._.templateSettings||J;t&&D(a,e,t)&&(e=void 0),a=null==(n=a)?"":function(e){if("string"==typeof e)return e;if("symbol"==typeof(t=e)||U(t)&&F.call(t)==S)return C?C.call(e):"";var t,n=e+"";return"0"==n&&1/e==-w?"-0":n}(n),e=B({},e,o,M);var c,u,r,i=B({},e.imports,o.imports,M),l=z(r=i)?H(r):function(e){if(!W(e))return P(e);var t=[];for(var n in Object(e))T.call(e,n)&&"constructor"!=n&&t.push(n);return t}(r),s=(g=i,function(e,t){for(var n=-1,o=e?e.length:0,r=Array(o);++n<o;)r[n]=(i=e[n],g[i]);var i;return r}(m=l)),f=0,d=e.interpolate||x,p="__p += '",v=RegExp((e.escape||x).source+"|"+d.source+"|"+(d===Y?j:x).source+"|"+(e.evaluate||x).source+"|$","g"),h="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"",g,m;a.replace(v,function(e,t,n,o,r,i){return n=n||o,p+=a.slice(f,i).replace(A,L),t&&(c=!0,p+="' +\n__e("+t+") +\n'"),r&&(u=!0,p+="';\n"+r+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=i+e.length,e}),p+="';\n";var y=e.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(_,""):p).replace(O,"$1").replace(E,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(c?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var b=G(function(){return Function(l,h+"return "+p).apply(void 0,s)});if(b.source=p,q(b))throw b;return b}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.restoreOriginalFootnotes=function(){Array.from(document.querySelectorAll("."+C)).forEach(function(e){return e.classList.remove(C)})},T.createDocumentFootnotes=function(e){var t,n,o,a,c,u,l,r,i,s,f,d=e.buttonTemplate,p=e.contentTemplate,v=e.numberResetSelector,h=(n=(t=document.querySelectorAll(w.FOOTNOTE_SELECTOR)).length?t[t.length-1].dataset.footnoteId:"0",1+parseInt(n,10)),g,m,y,b;return(i=(r=e).anchorPattern,f=void 0===(s=r.scope)?"":s,Array.from(document.querySelectorAll(f+' a[href^="#"]')).filter(function(e){return(e.href+e.rel).match(i)})).map((a=(o=e).allowDuplicates,c=o.anchorParentSelector,u=o.footnoteSelector,l=[],function(e){var t=e.href.split("#"),n=(0,F.default)(t,2),o="#"+(n[0],n[1]).replace(/[:.+~*[\]]/g,"\\$&"),r=Array.from(document.querySelectorAll(o)).find(function(e){return a||!l.includes(e)}),i=r&&r.closest(u);if(i)return l.push(i),[e.closest(c)||e,i]})).filter(R).map(k).map(W(h)).map(v?D(v):function(e){return e}).map((g=d,m=p,y=(0,P.default)(g),b=(0,P.default)(m),function(e,t){var n=(0,F.default)(e,3),o=n[0],r=n[1],i=n[2],a="".concat(t+1),c={number:i,id:a,content:I(r.innerHTML,o.id),reference:o.id},u=b(c);o.insertAdjacentHTML("beforebegin",'<span class="'.concat(H,'">').concat(y(c),"</span>"));var l=o.previousElementSibling,s=l.firstElementChild;return s.dataset.footnoteButton="",s.dataset.footnoteId=a,s.dataset.footnoteNumber="".concat(i),{id:a,button:s,host:l,content:u,isHovered:!1,maxHeight:0}}))};var F=e(function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}),P=e(K),C="footnote-print-only",H="littlefoot-footnote__host",M=function(e){return e.classList.add(C)};function R(e){return void 0!==e}function I(e,t){var n=t.trim().replace(/\s+/g,"|"),o=new RegExp("(\\s|&nbsp;)*<\\s*a[^#<]*#("+n+")[^>]*>(.*?)<\\s*/\\s*a>","g"),r=e.trim().replace(o,"").replace("[]","");return r.startsWith("<")?r:"<p>"+r+"</p>"}var D=function(u){return function(e,t,n){var o=(0,F.default)(e,3),r=o[0],i=o[1],a=o[2],c=a?n[a-1][2]:0;return[r,i,r.closest(u)?1:c+1]}},W=function(o){return function(e,t){var n=(0,F.default)(e,2);return[n[0],n[1],o+t]}};function k(e){var t=(0,F.default)(e,2),n=t[0],o=t[1];return M(n),M(o),function e(t){var n,o,r=(n=t,o=":not(.".concat(C,")"),Array.from(n.children).filter(function(e){return 8!==e.nodeType&&(!o||e.matches(o))})),i=r.filter(function(e){return"HR"===e.tagName});r.length===i.length&&(i.concat(t).forEach(M),e(t.parentNode))}(o.parentElement),[n,o]}var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.createAdapter=function(e){var o=(0,T.createDocumentFootnotes)(e).map(E.createFootnote);return{findFootnote:function(t){return o.find(function(e){return e.getId()===t})},forEachFootnote:function(e){o.forEach(e)},forEachFootnoteExcept:function(e,t){var n=t.getId();o.filter(function(e){return e.getId()!==n}).forEach(e)},hasHoveredFootnotes:function(){return o.some(function(e){return e.isHovered()})},unmount:function(){o.forEach(function(e){return e.unmount()}),(0,T.restoreOriginalFootnotes)()}}};var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.littlefoot=U,z.default=void 0;var q=e(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}),$={activateDelay:100,activateOnHover:!1,allowDuplicates:!0,allowMultiple:!1,anchorParentSelector:"sup",anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,dismissDelay:100,dismissOnUnhover:!1,footnoteSelector:"li",hoverDelay:250,contentTemplate:'<aside class="littlefoot-footnote" id="fncontent:<%= id %>" alt="Footnote <%= number %>" aria-live="polite"><div class="'.concat(s.CLASS_WRAPPER,'"><div class="').concat(s.CLASS_CONTENT,'" tabindex="0"><%= content %></div></div><div class="').concat(s.CLASS_TOOLTIP,'"></div></aside>'),buttonTemplate:'<button class="littlefoot-footnote__button littlefoot-footnote__button__ellipsis" id="<%= reference %>" title="See Footnote <%= number %>" aria-controls="fncontent:<%= id %>" aria-expanded="false" aria-label="Footnote <%= number %>" rel="footnote"><svg viewbox="0 0 31 6" preserveAspectRatio="xMidYMid"><circle r="3" cx="3" cy="3" fill="white"></circle><circle r="3" cx="15" cy="3" fill="white"></circle><circle r="3" cx="27" cy="3" fill="white"></circle></svg></button>'};function U(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(0,q.default)({},$,e),t=(0,N.createAdapter)(n),o=(0,i.createCore)(t,n),r=(0,w.addEventListeners)(o);return{activate:function(e){var t=o.findFootnote(e);t&&o.activate(t)},dismiss:function(e,t){var n=e&&o.findFootnote(e);n?o.dismiss(n,t):o.dismissAll(t)},unmount:function(){r(),o.unmount()},getSetting:function(e){return n[e]},updateSetting:function(e,t){n[e]=t}}}var V=U;return z.default=V,z});
