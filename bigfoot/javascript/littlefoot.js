!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).littlefoot=e()}}(function(){var e=function(e){return e&&e.__esModule?e:{default:e}},t=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},n={getStyle:function(e,t){var n=(e.ownerDocument&&e.ownerDocument.defaultView||window).getComputedStyle(e);return n.getPropertyValue(t)||n[t]}},r={};Object.defineProperty(r,"__esModule",{value:!0}),r.getAvailableRoom=function(e){var t=parseFloat((0,n.getStyle)(e,"marginLeft")),r=e.offsetWidth-t,o=e.offsetHeight,i=e.getBoundingClientRect(),c=i.left+r/2,u=i.top+o/2;return{top:u,bottom:window.innerHeight-u,leftRelative:c/window.innerWidth}},r.getAvailableHeight=function(e,t){var r=a(e,t),o=parseInt((0,n.getStyle)(e,"marginTop"),10);return t[r?u:c]-o-15},r.repositionPopover=function(e,t){var n=a(e,t),r=e.dataset.footnotePosition,o=n?u:c;r!==o&&(e.dataset.footnotePosition=o,e.classList.remove("".concat(i).concat(r)),e.classList.add("".concat(i).concat(o)),e.style.transformOrigin="".concat(100*t.leftRelative,"% ").concat(n?"100%":"0"))},r.repositionTooltip=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=e.querySelector("."+o);n&&(n.style.left=100*t+"%")},r.unmount=function(e){e.parentNode&&e.parentNode.removeChild(e)},r.CLASS_WRAPPER=r.CLASS_TOOLTIP=r.CLASS_CONTENT=void 0,r.CLASS_CONTENT="littlefoot-footnote__content";var o="littlefoot-footnote__tooltip";r.CLASS_TOOLTIP=o,r.CLASS_WRAPPER="littlefoot-footnote__wrapper";var i="is-positioned-",c="bottom",u="top";function a(e,t){var r=2*parseInt((0,n.getStyle)(e,"marginTop"),10)+e.offsetHeight;return t.bottom<r&&t.bottom<t.top}var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_SETTINGS=void 0;var f={activateDelay:100,activateOnHover:!1,allowDuplicates:!0,allowMultiple:!1,anchorParentSelector:"sup",anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,dismissDelay:100,dismissOnUnhover:!1,footnoteSelector:"li",hoverDelay:250,contentTemplate:'<aside class="littlefoot-footnote" id="fncontent:<%= id %>" alt="Footnote <%= number %>" aria-live="polite"><div class="'.concat(r.CLASS_WRAPPER,'"><div class="').concat(r.CLASS_CONTENT,'" tabindex="0"><%= content %></div></div><div class="').concat(r.CLASS_TOOLTIP,'"></div></aside>'),buttonTemplate:'<button class="littlefoot-footnote__button littlefoot-footnote__button__ellipsis" id="<%= reference %>" title="See Footnote <%= number %>" aria-controls="fncontent:<%= id %>" aria-expanded="false" aria-label="Footnote <%= number %>" rel="footnote"><svg viewbox="0 0 31 6" preserveAspectRatio="xMidYMid"><circle r="3" cx="3" cy="3" fill="white"></circle><circle r="3" cx="15" cy="3" fill="white"></circle><circle r="3" cx="27" cy="3" fill="white"></circle></svg></button>'};l.DEFAULT_SETTINGS=f;var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.createCore=function(e,t){var n=e.setup(t),r=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activateDelay,r=e.activateCallback;t.isChanging()||(t.activate(r),t.reposition(),t.resize(),setTimeout(function(){t.ready()},n))}}(t),o=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.dismissDelay;t.isChanging()||(t.dismiss(),setTimeout(function(){t.remove()},n))}}(t);function i(e){n.filter(function(t){return t.id!==e.id}).forEach(o)}var c={activate:r,dismiss:o,findById:function(e){return n.find(function(t){return t.id===e})},dismissAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.dismissDelay;n.forEach(function(t){return o(t,e)})},repositionAll:function(){n.forEach(function(e){return e.reposition()})},resizeAll:function(){n.forEach(function(e){return e.resize()})},toggle:function(e){var n=t.allowMultiple;e.isActive()?o(e):(n||i(e),r(e))},hover:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.hoverDelay,o=t.activateOnHover,c=t.allowMultiple;e.startHovering(),o&&!e.isActive()&&(c||i(e),r(e,n))},unhover:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.hoverDelay,i=t.dismissOnUnhover;e.stopHovering(),i&&setTimeout(function(){n.some(function(e){return e.isHovered()})||n.forEach(o)},r)}},u=e.addListeners(c);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},c,{unmount:function(){u(),e.cleanup(n)}})};var d=e(t);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v=/<%=([\s\S]+?)%>/g,y={};(function(e){var t,n=1/0,r="[object Null]",o="[object Symbol]",i="[object Undefined]",c=/[&<>"']/g,u=RegExp(c.source),a="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,f=a||l||Function("return this")(),s=(t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==t?void 0:t[e]}),d=Object.prototype,p=d.hasOwnProperty,h=d.toString,b=f.Symbol,m=b?b.toStringTag:void 0,g=b?b.prototype:void 0,j=g?g.toString:void 0,w={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:v,variable:"",imports:{_:{escape:function(e){return(e=null==(t=e)?"":O(t))&&u.test(e)?e.replace(c,s):e;var t}}}};function O(e){if("string"==typeof e)return e;if(S(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,O)+"";if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&function(e){return null==e?void 0===e?i:r:m&&m in Object(e)?function(e){var t=p.call(e,m),n=e[m];try{e[m]=void 0;var r=!0}catch(i){}var o=h.call(e);return r&&(t?e[m]=n:delete e[m]),o}(e):function(e){return h.call(e)}(e)}(e)==o}(e))return j?j.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}var S=Array.isArray;y=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var h={exports:{}};(function(e){var t=1/0,n=9007199254740991,r="[object Arguments]",o="[object AsyncFunction]",i="[object DOMException]",c="[object Error]",u="[object Function]",a="[object GeneratorFunction]",l="[object Null]",f="[object Object]",s="[object Proxy]",d="[object Symbol]",p="[object Undefined]",b=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,w=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,S=/($^)/,_=/['\n\r\u2028\u2029\\]/g,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[r]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object Boolean]"]=E["[object DataView]"]=E["[object Date]"]=E[c]=E[u]=E["[object Map]"]=E["[object Number]"]=E[f]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object WeakMap]"]=!1;var A={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},x="object"==typeof e&&e&&e.Object===Object&&e,P="object"==typeof self&&self&&self.Object===Object&&self,L=x||P||Function("return this")(),T="object"==typeof h.exports&&h.exports&&!h.exports.nodeType&&h.exports,D=T&&h&&!h.nodeType&&h,M=D&&D.exports===T,H=M&&x.process,C=function(){try{return D&&D.require&&D.require("util").types||H&&H.binding&&H.binding("util")}catch(e){}}(),F=C&&C.isTypedArray;function I(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function R(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function k(e){return"\\"+A[e]}function N(e,t){return function(n){return e(t(n))}}var W,U=Function.prototype,$=Object.prototype,z=L["__core-js_shared__"],q=U.toString,B=$.hasOwnProperty,V=(W=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",G=$.toString,Y=q.call(Object),J=RegExp("^"+q.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=M?L.Buffer:void 0,Q=L.Symbol,X=N(Object.getPrototypeOf,Object),Z=$.propertyIsEnumerable,ee=Q?Q.toStringTag:void 0,te=function(){try{var e=function(e){return!(!De(e)||(t=e,V&&V in t))&&(Le(e)?J:w).test(function(e){if(null!=e){try{return q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}(t=function(e,t){return null==e?void 0:e.defineProperty}(Object))?t:void 0;return e({},"",{}),e}catch(n){}var t}(),ne=K?K.isBuffer:void 0,re=N(Object.keys,Object),oe=Math.max,ie=Date.now,ce=Q?Q.prototype:void 0,ue=ce?ce.toString:void 0;function ae(e,t){var n=Ee(e),r=!n&&_e(e),o=!n&&!r&&xe(e),i=!n&&!r&&!o&&Ce(e),c=n||r||o||i,u=c?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],a=u.length;for(var l in e)!t&&!B.call(e,l)||c&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||he(l,a))||u.push(l);return u}function le(e,t,n){var r=e[t];B.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||fe(e,t,n)}function fe(e,t,n){"__proto__"==t&&te?te(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function se(e){return null==e?void 0===e?p:l:ee&&ee in Object(e)?function(e){var t=B.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(i){}var o=G.call(e);return r&&(t?e[ee]=n:delete e[ee]),o}(e):function(e){return G.call(e)}(e)}function de(e){return Me(e)&&se(e)==r}function pe(e,t){return Oe(function(e,t,n){return t=oe(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=oe(r.length-t,0),c=Array(i);++o<i;)c[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(c),I(e,this,u)}}(e,t,Re),e+"")}function ve(e){if("string"==typeof e)return e;if(Ee(e))return R(e,ve)+"";if(function(e){return"symbol"==typeof e||Me(e)&&se(e)==d}(e))return ue?ue.call(e):"";var n=e+"";return"0"==n&&1/e==-t?"-0":n}function ye(e,t,n,r){return void 0===e||Se(e,$[n])&&!B.call(r,n)?t:e}function he(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&O.test(e))&&e>-1&&e%1==0&&e<t}function be(e,t,n){if(!De(n))return!1;var r=typeof t;return!!("number"==r?Ae(n)&&he(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}var ge,je,we,Oe=(ge=te?function(e,t){return te(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Re,je=0,we=0,function(){var e=ie(),t=16-(e-we);if(we=e,t>0){if(++je>=800)return arguments[0]}else je=0;return ge.apply(void 0,arguments)});function Se(e,t){return e===t||e!=e&&t!=t}var _e=de(function(){return arguments}())?de:function(e){return Me(e)&&B.call(e,"callee")&&!Z.call(e,"callee")},Ee=Array.isArray;function Ae(e){return null!=e&&Te(e.length)&&!Le(e)}var xe=ne||function(){return!1};function Pe(e){if(!Me(e))return!1;var t=se(e);return t==c||t==i||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!Me(e)||se(e)!=f)return!1;var t=X(e);if(null===t)return!0;var n=B.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&q.call(n)==Y}(e)}function Le(e){if(!De(e))return!1;var t=se(e);return t==u||t==a||t==o||t==s}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Me(e){return null!=e&&"object"==typeof e}var He,Ce=F?function(e){return function(t){return e(t)}}(F):function(e){return Me(e)&&Te(e.length)&&!!E[se(e)]},Fe=(He=function(e,t,n,r){!function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,c=t.length;++i<c;){var u=t[i],a=r?r(n[u],e[u],u,n,e):void 0;void 0===a&&(a=e[u]),o?fe(n,u,a):le(n,u,a)}}(t,function(e){return Ae(e)?ae(e,!0):function(e){if(!De(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=me(e),n=[];for(var r in e)("constructor"!=r||!t&&B.call(e,r))&&n.push(r);return n}(e)}(t),e,r)},pe(function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=He.length>3&&"function"==typeof o?(r--,o):void 0,i&&be(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var c=t[n];c&&He(e,c,0,o)}return e}));var Ie=pe(function(e,t){try{return I(e,void 0,t)}catch(n){return Pe(n)?n:new Error(n)}});function Re(e){return e}h.exports=function(e,t,n){var r,o=y.imports._.templateSettings||y;n&&be(e,t,n)&&(t=void 0),e=null==(r=e)?"":ve(r),t=Fe({},t,o,ye);var i,c,u,a=Fe({},t.imports,o.imports,ye),l=function(e){return Ae(e)?ae(e):function(e){if(!me(e))return re(e);var t=[];for(var n in Object(e))B.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}(a),f=(i=a,R(l,function(e){return i[e]})),s=0,d=t.interpolate||S,p="__p += '",h=RegExp((t.escape||S).source+"|"+d.source+"|"+(d===v?j:S).source+"|"+(t.evaluate||S).source+"|$","g"),w=B.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(h,function(t,n,r,o,i,a){return r||(r=o),p+=e.slice(s,a).replace(_,k),n&&(c=!0,p+="' +\n__e("+n+") +\n'"),i&&(u=!0,p+="';\n"+i+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=a+t.length,t}),p+="';\n";var O=B.call(t,"variable")&&t.variable;O||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(b,""):p).replace(m,"$1").replace(g,"$1;"),p="function("+(O||"obj")+") {\n"+(O?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(c?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var E=Ie(function(){return Function(l,w+"return "+p).apply(void 0,f)});if(E.source=p,Pe(E))throw E;return E}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),h=h.exports;var b={};function m(e){return e?n.getStyle(e,"fontSize")||m(e.parentElement):n.getStyle(window.document.documentElement,"fontSize")}b.pixels=function e(t,n){var r=n&&n.ownerDocument&&n.ownerDocument.defaultView||window,o=r.document.documentElement||r.document.body,i=function(e){var t=e||"0",n=parseFloat(t),r=t.match(/[\d-.]+(\w+)$/);return[n,(r&&r.length>1?r[1]:"").toLowerCase()]}(t),c=i[0];switch(i[1]){case"rem":return c*e(m(window.document.documentElement));case"em":return c*e(m(n),n&&n.parentElement);case"in":return 96*c;case"q":return 96*c/25.4/4;case"mm":return 96*c/25.4;case"cm":return 96*c*10/25.4;case"pt":return 96*c/72;case"pc":return 96*c/6;case"vh":return(c*r.innerHeight||o.clientWidth)/100;case"vw":return(c*r.innerWidth||o.clientHeight)/100;case"vmin":return c*Math.min(r.innerWidth||o.clientWidth,r.innerHeight||o.clientHeight)/100;case"vmax":return c*Math.max(r.innerWidth||o.clientWidth,r.innerHeight||o.clientHeight)/100;default:return c}};var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.createFootnote=function(e){var t=e.id,o=e.button,i=e.content,c=e.host,u=e.popover,a=e.wrapper,l=!1,f=0;return{id:t,activate:function(e){o.classList.add(w),o.setAttribute("aria-expanded","true"),o.classList.add(j),o.insertAdjacentElement("afterend",u),u.style.maxWidth="".concat(document.body.clientWidth,"px");var t=(0,n.getStyle)(i,"maxHeight");f=Math.round((0,b.pixels)(t,i)),"function"==typeof e&&e(u,o)},dismiss:function(){o.classList.add(w),o.blur(),o.setAttribute("aria-expanded","false"),o.classList.remove(j)},isActive:function(){return o.classList.contains(j)},isChanging:function(){return o.classList.contains(w)},isHovered:function(){return l},ready:function(){u.classList.add(j),o.classList.remove(w)},remove:function(){(0,r.unmount)(u),o.classList.remove(w)},reposition:function(){if(u.parentElement){var e=(0,r.getAvailableRoom)(o),t=Math.min(f,(0,r.getAvailableHeight)(u,e));i.style.maxHeight=t+"px",(0,r.repositionPopover)(u,e),u.offsetHeight<=i.scrollHeight&&u.classList.add(O)}},resize:function(){if(u.parentElement){var e=(0,r.getAvailableRoom)(o),t=i.offsetWidth,c=parseInt((0,n.getStyle)(o,"marginLeft"),10),l=-e.leftRelative*t+c+o.offsetWidth/2;u.style.left=l+"px",a.style.maxWidth=t+"px",(0,r.repositionTooltip)(u,e.leftRelative)}},startHovering:function(){l=!0},stopHovering:function(){l=!1},destroy:function(){(0,r.unmount)(c)}}};var j="is-active",w="is-changing",O="is-scrollable",S={};(function(e){var t="Expected a function",n=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,s=l||f||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,y=function(){return s.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==r}(e))return n;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var l=c.test(e);return l||u.test(e)?a(e.slice(2),l?2:8):i.test(e)?n:+e}S=function(e,n,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(t);return h(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),function(e,n,r){var o,i,c,u,a,l,f=0,s=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError(t);function g(t){var n=o,r=i;return o=i=void 0,f=t,u=e.apply(r,n)}function j(e){var t=e-l;return void 0===l||t>=n||t<0||d&&e-f>=c}function w(){var e=y();if(j(e))return O(e);a=setTimeout(w,function(e){var t=n-(e-l);return d?v(t,c-(e-f)):t}(e))}function O(e){return a=void 0,m&&o?g(e):(o=i=void 0,u)}function S(){var e=y(),t=j(e);if(o=arguments,i=this,l=e,t){if(void 0===a)return function(e){return f=e,a=setTimeout(w,n),s?g(e):u}(l);if(d)return a=setTimeout(w,n),g(l)}return void 0===a&&(a=setTimeout(w,n)),u}return n=b(n)||0,h(r)&&(s=!!r.leading,c=(d="maxWait"in r)?p(b(r.maxWait)||0,n):c,m="trailing"in r?!!r.trailing:m),S.cancel=function(){void 0!==a&&clearTimeout(a),f=0,o=l=i=a=void 0},S.flush=function(){return void 0===a?u:O(y())},S}(e,n,{leading:o,maxWait:n,trailing:i})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _,E={};_=function(){"use strict";function e(){if(!(this instanceof e))return new e;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var t=window.document.documentElement,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;e.prototype.matchesSelector=function(e,t){return n.call(e,t)},e.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},e.prototype.indexes=[];var r=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(r))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var o=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(o))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var i,c=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(c))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),e.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},i="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var u=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function a(e,t){var n,r,o,i,c,a,l=(e=e.slice(0).concat(e.default)).length,f=t,s=[];do{if(u.exec(""),(o=u.exec(f))&&(f=o[3],o[2]||!f))for(n=0;n<l;n++)if(c=(a=e[n]).selector(o[1])){for(r=s.length,i=!1;r--;)if(s[r].index===a&&s[r].key===c){i=!0;break}i||s.push({index:a,key:c});break}}while(o);return s}function l(e,t){var n,r,o;for(n=0,r=e.length;n<r;n++)if(o=e[n],t.isPrototypeOf(o))return o}function f(e,t){return e.id-t.id}return e.prototype.logDefaultIndexUsed=function(){},e.prototype.add=function(e,t){var n,r,o,c,u,f,s,d,p=this.activeIndexes,v=this.selectors;if("string"==typeof e){for(n={id:this.uid++,selector:e,data:t},s=a(this.indexes,e),r=0;r<s.length;r++)c=(d=s[r]).key,(u=l(p,o=d.index))||((u=Object.create(o)).map=new i,p.push(u)),o===this.indexes.default&&this.logDefaultIndexUsed(n),(f=u.map.get(c))||(f=[],u.map.set(c,f)),f.push(n);this.size++,v.push(e)}},e.prototype.remove=function(e,t){if("string"==typeof e){var n,r,o,i,c,u,l,f,s=this.activeIndexes,d={},p=1===arguments.length;for(n=a(this.indexes,e),o=0;o<n.length;o++)for(r=n[o],i=s.length;i--;)if(u=s[i],r.index.isPrototypeOf(u)){if(l=u.map.get(r.key))for(c=l.length;c--;)(f=l[c]).selector!==e||!p&&f.data!==t||(l.splice(c,1),d[f.id]=!0);break}this.size-=Object.keys(d).length}},e.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,r,o,i,c,u,a,l={},s=[],d=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,r=d.length;t<r;t++)for(i=d[t],n=0,o=(c=this.matches(i)).length;n<o;n++)l[(a=c[n]).id]?u=l[a.id]:(u={id:a.id,selector:a.selector,data:a.data,elements:[]},l[a.id]=u,s.push(u)),u.elements.push(i);return s.sort(f)},e.prototype.matches=function(e){if(!e)return[];var t,n,r,o,i,c,u,a,l,s,d,p=this.activeIndexes,v={},y=[];for(t=0,o=p.length;t<o;t++)if(a=(u=p[t]).element(e))for(n=0,i=a.length;n<i;n++)if(l=u.map.get(a[n]))for(r=0,c=l.length;r<c;r++)!v[d=(s=l[r]).id]&&this.matchesSelector(e,s.selector)&&(v[d]=!0,y.push(s));return y.sort(f)},e},"object"==typeof E?E=_():this.SelectorSet=_();var A,x,P={exports:{}};A=this,x=function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n={},r={},o=new WeakMap,i=new WeakMap,c=new WeakMap,u=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function a(e,t,n){var r=e[t];return e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)},e}function l(){o.set(this,!0)}function f(){o.set(this,!0),i.set(this,!0)}function s(){return c.get(this)||null}function d(e,t){u&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||u.get})}function p(e){var t=(1===e.eventPhase?r:n)[e.type];if(t){var u=function(e,t,n){var r=[],o=t;do{if(1!==o.nodeType)break;var i=e.matches(o);if(i.length){var c={node:o,observers:i};n?r.unshift(c):r.push(c)}}while(o=o.parentElement);return r}(t,e.target,1===e.eventPhase);if(u.length){a(e,"stopPropagation",l),a(e,"stopImmediatePropagation",f),d(e,s);for(var p=0,v=u.length;p<v&&!o.get(e);p++){var y=u[p];c.set(e,y.node);for(var h=0,b=y.observers.length;h<b&&!i.get(e);h++)y.observers[h].data.call(y.node,e)}c.delete(e),d(e)}}}e.off=function(e,t,o){var i=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,c=i?r:n,u=c[e];u&&(u.remove(t,o),u.size||(delete c[e],document.removeEventListener(e,p,i)))},e.on=function(e,o,i){var c=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,u=c?r:n,a=u[e];a||(a=new t,u[e]=a,document.addEventListener(e,p,c)),a.add(o,i)},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof P.exports?x(P.exports,E):x((A=A||self)["delegated-events"]={},A.SelectorSet),P=P.exports;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.bindScrollHandler=function(e,t){var n=(0,T.default)(function(e){return function(t){var n=t.currentTarget,r=-t.deltaY;r>0&&(e.classList.remove(C),n.scrollTop<r&&(n.scrollTop=0,t.preventDefault())),r<=0&&r<n.clientHeight+n.scrollTop-n.scrollHeight&&(e.classList.add(C),n.scrollTop=n.scrollHeight,t.preventDefault())}}(t));e.addEventListener("mousewheel",n),e.addEventListener("wheel",n)},L.addListeners=function(e){var t,n=e.dismissAll,r=e.findById,o=e.hover,i=e.repositionAll,c=e.resizeAll,u=e.toggle,a=e.unhover,l=function(e,t,n){return function(r){var o=I(F(r.target,D)),i=o&&e(o);i?t(i):F(r.target,H)||n()}}(r,u,n),f=(t=n,function(e){return 27===e.keyCode&&t()}),s=(0,T.default)(i),d=(0,T.default)(c),p=R(r,o),v=R(r,a);return document.addEventListener("touchend",l),document.addEventListener("click",l),document.addEventListener("keyup",f),document.addEventListener("gestureend",s),window.addEventListener("scroll",s),window.addEventListener("resize",d),(0,P.on)("mouseover",M,p),(0,P.on)("mouseout",M,v),function(){document.removeEventListener("touchend",l),document.removeEventListener("click",l),document.removeEventListener("keyup",f),document.removeEventListener("gestureend",s),window.removeEventListener("scroll",s),window.removeEventListener("resize",d),(0,P.off)("mouseover",M,p),(0,P.off)("mouseout",M,v)}};var T=e(S),D="[data-footnote-button]",M="[data-footnote-id]",H="[data-footnote-popover]",C="is-fully-scrolled";function F(e,t){return e&&e.closest(t)||void 0}function I(e){return e?e.dataset.footnoteId:void 0}function R(e,t){return function(n){n.preventDefault();var r=I(F(n.target,M)),o=r&&e(r);o&&t(o)}}var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.setup=function(e){var t=e.allowDuplicates,n=e.anchorParentSelector,o=e.anchorPattern,i=e.buttonTemplate,c=e.contentTemplate,u=e.footnoteSelector,a=e.numberResetSelector;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return G(document,t+' a[href*="#"]').filter(function(t){return(t.href+t.rel).match(e)})}(o,e.scope).map(function(e,t,n){var r=[];return function(o){var i="#"+o.href.split("#")[1].replace(/[:.+~*[\]]/g,"\\$&"),c=G(document,i).find(function(t){return e||!r.includes(t)}),u=c&&c.closest(n);if(u){r.push(u);var a=o.closest(t)||o;return[a,a.id?a.id:o.id,u]}}}(t,n,u)).filter(J).map(K).map(X).map(a?Z(a):function(e){return e}).map(function(e,t){var n=(0,U.default)(e),o=(0,U.default)(t);return function(e){var t=(0,W.default)(e,2),i=t[0],c=t[1],u=c.id;i.insertAdjacentHTML("beforebegin",'<span class="'.concat(B,'">').concat(n(c),"</span>"));var a=i.previousElementSibling,l=a.firstElementChild;l.dataset.footnoteButton="",l.dataset.footnoteId=u,l.dataset.footnoteNumber="".concat(c.number);var f,s,d=(f=o(c),(s=document.createElement("div")).innerHTML=f,s.firstElementChild);d.dataset.footnotePopover="",d.dataset.footnoteId=u;var p=Y(d,r.CLASS_WRAPPER),v=Y(d,r.CLASS_CONTENT);return(0,L.bindScrollHandler)(v,d),{id:u,button:l,host:a,popover:d,content:v,wrapper:p}}}(i,c)).map(g.createFootnote)},k.cleanup=function(e){e.forEach(function(e){return e.destroy()}),G(document,"."+q).forEach(function(e){return e.classList.remove(q)})};var N=e(t),W=e(function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}),U=e(h);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){(0,N.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q="footnote-print-only",B="littlefoot-footnote__host",V=function(e){return e.classList.add(q)};function G(e,t){return Array.from(e.querySelectorAll(t))}function Y(e,t){return e.querySelector("."+t)||e.firstElementChild||e}function J(e){return void 0!==e}function K(e){var t=(0,W.default)(e,3),n=t[0],r=t[1],o=t[2];return V(n),V(o),function e(t){var n,r,o=(n=t,r=":not(.".concat(q,")"),Array.from(n.children).filter(function(e){return 8!==e.nodeType&&(!r||e.matches(r))})),i=o.filter(function(e){return"HR"===e.tagName});o.length===i.length&&(i.concat(t).forEach(V),e(t.parentNode))}(o.parentElement),[n,r,o]}function Q(e){var t=e.parentElement;(0,r.unmount)(e);var n=t&&t.innerHTML.replace("[]","").replace("&nbsp;"," ").trim();t&&!n&&Q(t)}function X(e,t){var n=(0,W.default)(e,3),r=n[0],o=n[1],i=n[2].cloneNode(!0);return G(i,'[href$="#'+o+'"]').forEach(Q),[r,{id:"".concat(t+1),number:t+1,reference:o,content:i.innerHTML.startsWith("<")?i.innerHTML:"<p>"+i.innerHTML+"</p>"}]}var Z=function(e){return function(t,n,r){var o=(0,W.default)(t,2),i=o[0],c=o[1],u=i.closest(e),a=c.number?r[c.number-1][1].number:0;return[i,z({},c,{number:u?1:a+1})]}},ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.littlefoot=re,ee.default=void 0;var te=e(t);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach(function(t){(0,te.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l.DEFAULT_SETTINGS,{},e),n=(0,s.createCore)({setup:k.setup,addListeners:L.addListeners,cleanup:k.cleanup},t);return{activate:function(e){var t=n.findById(e);t&&n.activate(t)},dismiss:function(e,t){var r=e&&n.findById(e);r?n.dismiss(r,t):n.dismissAll(t)},unmount:function(){n.unmount()},getSetting:function(e){return t[e]},updateSetting:function(e,n){t[e]=n}}}var oe=re;return ee.default=oe,ee});
