[<div class='hyd_formulaire_erreur '><span>(#ENV*{message_erreur})</span></div>]
<script> 
function afficher_cacher() {
	
	var section = getSelectValue('choix_section');
    var f = document.getElementById("form_courbe_remous");
    if(f) {
       var champs = f.getElementsByTagName("tr");
       for(var i=0, n=champs.length; i<n; i++) {
		   
		   
          if((champs[i].getAttribute("id") != null) &&((champs[i].getAttribute("id")).substr(0,2) == section)){
				document.getElementById((champs[i].getAttribute("id"))).style.display='table-row';
				
		  }
		  else if((champs[i].getAttribute("id") != null) &&((champs[i].getAttribute("id")).substr(0,1) == 'F')) {
				document.getElementById((champs[i].getAttribute("id"))).style.display='none';

		 }
			
	   }
    }
     	
}
</script>

<form method="post" action="#ENV{action}" id="form_courbe_remous">
   #ACTION_FORMULAIRE{#ENV{action}}
   <table class="hyd_formulaire">
      <tbody>
		  	<tr id="type_section_field">
				<td colspan="2"><div class="hyd_formulaire_chapitre">Type de section</div></td>
			</tr>

			<tr id="type_section_choix">
				<td align="right">
					Choix de la section
				</td>
						
				<td>
					<select name="lTypeSection" id="choix_section" onChange="afficher_cacher();">
						<option value="FT" [(#ENV{lTypeSection}|=={'FT'}|?{'selected',''})]>Section Trapézoïdale</option>
						<option value="FR" [(#ENV{lTypeSection}|=={'FR'}|?{'selected',''})]>Section Rectangulaire</option>
						<option value="FC" [(#ENV{lTypeSection}|=={'FC'}|?{'selected',''})]>Section circulaire</option>
						<option value="FP" [(#ENV{lTypeSection}|=={'FP'}|?{'selected',''})]>Section Puissance</option>
					</select>
		  
					[<div class='hyd_erreur'>(#ENV**{erreurs}|table_valeur{[(#VALEUR|table_valeur{0})]})</div>]
				</td>
						
			</tr>
			
		
            <BOUCLE_fieldChamps(POUR){tableau #ENV{mes_saisies}}>
				
				 #SET{id_fieldset, #CLE}
				
				 <tr id="#GET{id_fieldset}_field" style="display:[(#CLE|match{^([(#ENV{lTypeSection})]|Caract_bief|Cond_lim|Param_calc)$}|?{'table-row','none'})];">
										
					 <td colspan="2"><div class="hyd_formulaire_chapitre">[(#VALEUR|table_valeur{0})]</div></td>
				</tr>
				
				<BOUCLE_champsLib(POUR){tableau (#VALEUR|table_valeur{1})}>
										
					<tr id="#GET{id_fieldset}_#CLE" style="display:[(#GET{id_fieldset}|match{^([(#ENV{lTypeSection})]|Caract_bief|Cond_lim|Param_calc)$}|?{'table-row','none'})];">
						<td align="right"> 
							[(#VALEUR|table_valeur{0}|traduction_libelle)]		
						</td>
						
						<td>
						   <input type="text" value="[(#ENV{#GET{id_fieldset}_#CLE})]" maxlength="30" name="#GET{id_fieldset}_#CLE">
						   [<div class='hyd_erreur'>(#ENV**{erreurs}|table_valeur{#GET{id_fieldset}_#CLE})</div>]
						</td>
						
					</tr>
					
				</BOUCLE_champsLib>

			</BOUCLE_fieldChamps>

			<tr>
				<td colspan="2" class="hyd_bouton_submit">
				   <input type="submit" value=" <:hydraulic:calculer_remous:>">
				</td>
			</tr>
			
      </tbody>
   </table>
</form>

[<div class='hydraulic_resultat'>(#ENV*{message_ok})</div>]
