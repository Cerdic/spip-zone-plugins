<html>

    <div id="">
		<div>
			<div id = "datepickers"></div>
		</div>
		<br/>
		<br/>
		<div id="affichageTableau">
			<div id="icones">
				<span id="gauche"><img src="#CHEMIN{img/precedent.png}" alt="haut" /></span>&nbsp;<span id="aujourdhui"><img src="#CHEMIN{img/aujourdhui.png}" alt="haut" /></span>&nbsp;<span id="droite"><img src="#CHEMIN{img/suivant.png}" alt="bas" /></span>
			</div>
			<div>
				<INCLURE{fond=inc-tableau,ajax=tableau}>
			</div>
		</div>
	</div>



<script>

    jQuery(document).ready(function(){
        dateselectionne = new Date();
        joursemaine(dateselectionne);
             tabAjax();

        jQuery( "#datepickers" ).datepicker({
            dateFormat : 'yy-mm-dd',
            onSelect : function (dateText){
                //~ var data = { date : dateText };
                //~ Determination des 5 jours de la semaines
                dateselectionne = Date.parse(dateText);
                joursemaine(dateselectionne);
                tabAjax();
			},
		});
		jQuery("#gauche").bind("click",function(event){
			dateselectionne = dateselectionne.addDays(-1);
			joursemaine(dateselectionne);
            tabAjax();
		});
		jQuery("#droite").bind("click",function(event){
			dateselectionne = dateselectionne.addDays(1);
			joursemaine(dateselectionne);
            tabAjax();
		});
		jQuery("#aujourdhui").bind("click",function(event){
			dateselectionne = new Date();
			joursemaine(dateselectionne);
            tabAjax();
		});



	});

function joursemaine(dateactive)
{
		jour1 = dateactive.addDays(-3).toString('yyyy-MM-dd 00:00:00');
		jour2 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour3 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour4 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour5 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour6 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour7 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour8 = dateactive.addDays(1).toString('yyyy-MM-dd 00:00:00');
		jour9 = dateactive.addDays(-4).toString('yyyy-MM-dd 00:00:00');

	}
function tabAjax(){
       ajaxReload('tableau', {
                    args:{
                        jour1:jour1,
                        jour2:jour2,
                        jour3:jour3,
                        jour4:jour4,
                        jour5:jour5,
                        jour6:jour6,
                        jour7:jour7,
                        jour8:jour8,
                        },
        });
	}

</script>

</html>

