#HTTP_HEADER{"Cache-Control: no-store, no-cache, must-revalidate"}
#HTTP_HEADER{"Pragma: no-cache"}

<div class='formulaire_spip formulaire_login'>
	[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{_deja_loge})</p>]
	[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
	[<p class='reponse_formulaire reponse_formulaire_erreur'>(#ENV*{message_erreur})</p>]

	[(#ENV{echec_cookie})
	<div>
	<div class="padd-post-box titre-sans-icone reponse_formulaire reponse_formulaire_erreur">
		<h3><:avis_erreur_cookie:></h3>
	</div>
	<p class="erreur_message"><:login_cookie_oblige:><br /><:login_cookie_accepte:></p>
	</div>]

	[(#ENV{editable})
	<form id='formulaire_login' method='post' action='#ENV{action}' enctype='multipart/form-data'>
	[(#REM) declarer les hidden qui declencheront le service du formulaire parametre : url d'action ]
	#ACTION_FORMULAIRE{#ENV{action}}
		<div class="padd-post-box titre-sans-icone">
			<h3><:form_forum_identifiants:></h3>
		</div>
		<span id="spip_logo_auteur">[(#ENV*{_logo,''}||image_reduire{80})]</span>
		<ul>
			<li class="editer_login obligatoire[(#ENV**{erreurs}|table_valeur{var_login}|oui)erreur]">			
				<p class="input">
					<label for="var_login"><:maparaan:login_login2:></label>
					[<span class="erreur_message">(#ENV*{erreurs}|table_valeur{var_login})</span>]
					<input name="var_login" id="var_login" value="[(#ENV{var_login}|sinon{<:maparaan:login_login2:>})]" size="40" type="text" />
				</p>
			</li>
			<li class="editer_password obligatoire[(#ENV**{erreurs}|table_valeur{password}|oui)erreur]">				
				<p class="input">
					<label for="password"><:maparaan:login_pass2:></label>
					[<span class="erreur_message">(#ENV*{erreurs}|table_valeur{password})</span>]
					<input name="password" id="password" value="[(#ENV{var_login}|sinon{<:maparaan:login_pass2:>})]" size="40" type="password" />
					<span class='details'>&#91;<a href="#URL_PAGE{spip_pass}" id='spip_pass'><:login_motpasseoublie:></a>&#93;</span>
				</p>
			</li>
			[(#ENV{rester_connecte})
			<li class="editer_session"><div class='choix'>
				<input type="checkbox" class="checkbox" name="session_remember" id="session_remember" value="oui" [(#ENV**{cnx}|?{' '})checked="checked"] onchange="jQuery(this).addClass('modifie');" />
				<label class='nofx' for="session_remember"><:login_rester_identifie:></label>
			</div></li>]
		</ul>
	</fieldset>
	<p class="boutons"><input type="submit" class="submit" value="<:bouton_valider|attribut_html:>" /></p>
	</form>
	]
	[(#REM) en cas d'absence de cookie, on represente le formulaire alternatif ]
	[<form action="(#ENV{auth_http})" method="get">[
	(#ENV{auth_http}|form_hidden)
	]
	<fieldset>
		<legend><:login_sans_cookiie:></legend>
		<:login_preferez_refuser:>
		<input type="hidden" name="essai_auth_http" value="oui"/>
		[<input type="hidden" name="url" value="(#ENV{url})"/>]
		<p class="boutons"><input type="submit" class="submit" value="<:login_sans_cookiie|attribut_html:>"/></p>
	</fieldset>
	</form>
	]
</div>
