[(#REM)

exemple de récupération des hiérarchies d'un mot avec Momo

Fait la liste des hiérarchies d'un mot.

- "id_mot" est obligatoire

- si "id_groupe" est passé en paramètre alors il affiche préférenciellement la hiérarchie dont un mot de ce groupe est le plus haut (dans cette hiérarchie).

- On peut aussi passer un paramètre "tableau_id_groupe" qui contient la liste des id_groupe auxquels ont veut que le mot le plus haut appartienne (attention à bien les séparer par des virgules).

- "nombre" est le nombre de hiérarchies retournées. Si nombre=1 alors seule la hiérarchie est retournée, sans la structure de liste. Si id_mot n'est pas fourni c'est maximum 100 chemins hiérarchiques différents qui seront retournés.

- si "nocomment" est non nul, on ne retourne que les hiérarchies, sans préciser par quel mot elles sont guidées (sans la chaîne <:momo:hierachie_guidee_par{titre=#TITRE}:>).

]
<BOUCLE_Mot(MOTS){id_mot}>
#SET{les_hierarchies,#MODELE{doublons_hierarchies_mot}{id_mot=#ID_MOT}}

[(#SET{tableau_id_groupe,[(#ENV{tableau_id_groupe}|explode{','}|sinon{#ARRAY}|push{#ENV{id_groupe}})]})]


[

(#REM)


	On passe dans les boucles de la noisette "fragment_hierarchies_mot" deux fois:
		- une fois avec un ou des id_groupe pour choisir des hiérarchies particulières
			(dépendants du ou des id_groupe passés en paramètre)
		- une fois sans pour prendre la/les première()s qui se présente(nt).
	ainsi que id_groupe soit fourni ou non, le modèle retourne toujours au moins une hiérarchie
	(même si les id_groupe passés ne correspondent pas à des mots caractéristiques des "chemins
	hiérarchique" disponibles)


]
	[
[(#ENV{nombre}|!={1}|oui)<ul[ id=(#ENV{id})][ class=(#ENV{class})]>]
		(#INCLURE{fond=inclure/fragment_hierarchies_mot}
			{id_groupe=#ID_GROUPE}
			{tableau_id_groupe=[(#GET{tableau_id_groupe}|serialize)]}
			{les_hierarchies=#GET{les_hierarchies}}
			{nocomment=#ENV{nocomment}}
			{nombre=#ENV{nombre}}|sinon{
				[(#INCLURE{fond=inclure/fragment_hierarchies_mot}
					{id_groupe=''}
					{les_hierarchies=#GET{les_hierarchies}}
					{nombre=#ENV{nombre}}
					{nocomment=#ENV{nocomment}}
				)]
			}
		|trim
	)
[(#ENV{nombre}|!={1}|oui)</ul>]
]
</BOUCLE_Mot>
#FILTRE{trim}