<!--[if IE]>[<script type="text/javascript" src="(#CHEMIN{javascript/excanvas.js})"></script>]<![endif]-->
[<script type="text/javascript" src="(#CHEMIN{javascript/jquery.flot.js})"></script>]
[<script type="text/javascript" src="(#CHEMIN{javascript/jquery.tflot.js})"></script>]

<script type="text/javascript">
(function($){
	$(document).ready(function(){

		// copier le titre des tableaux
		titre = $("#visites_quotidiennes caption").text();
		$("#visites_quotidiennes").before("<h3 class='caption'>" + titre + "</h3>");
		
		titre = $("#visites_mensuelles caption").text();
		$("#visites_mensuelles").before("<h3 class='caption'>" + titre + "</h3>");
		
		// mettre les visites avec un fond colore pour le graphique
		$("#visites_mensuelles thead th:eq(1), #visites_quotidiennes thead th:eq(1)").addClass('flotFill');
		
		params = {
			legendeExterne:true,
			legendeActions:true,
			width:'360px',
			height:'200px',
			modeDate:true,
			parse:{
				axeOnTitle:true,
				defaultSerie:{
					bars:{show:false},
					lines:{show:true}
				}
			},
			flot:{
				xaxis:{
					monthNames: [
						'[(#VAL{2000-01-01}|nom_mois)]',
						'[(#VAL{2000-02-01}|nom_mois)]',
						'[(#VAL{2000-03-01}|nom_mois)]',
						'[(#VAL{2000-04-01}|nom_mois)]',
						'[(#VAL{2000-05-01}|nom_mois)]',
						'[(#VAL{2000-06-01}|nom_mois)]',
						'[(#VAL{2000-07-01}|nom_mois)]',
						'[(#VAL{2000-08-01}|nom_mois)]',
						'[(#VAL{2000-09-01}|nom_mois)]',
						'[(#VAL{2000-10-01}|nom_mois)]',
						'[(#VAL{2000-11-01}|nom_mois)]',
						'[(#VAL{2000-12-01}|nom_mois)]'
					]
				}
			},
			vignette:{show:true, width:'100px', height:'60px'},
			infobulle:{show:true}			
		}
		
		$("#visites_quotidiennes").tFlot(
			$.extend(true, {}, params, {
				grille:{weekend:true}
			})
		);

		$("#visites_mensuelles").tFlot(
			$.extend(true, {}, params, {
				flot:{
					xaxis:{
						timeformat:"%b %y"
					}
				}
			})
		);

	});
})(jQuery);
</script>
