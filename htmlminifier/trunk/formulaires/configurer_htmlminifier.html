<div class="formulaire_spip formulaire_configurer formulaire_#FORM">

	<h3 class="titrem"><:htmlminifier:cfg_titre_parametrages:></h3>

	[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
	[<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</p>]

	<form method="post" action="#ENV{action}">
	<div>
		#ACTION_FORMULAIRE

		<fieldset>
			<legend><:htmlminifier:section_general:></legend>
			<div class="editer-groupe">

				[(#SAISIE{selection, compression_mode,
					defaut=all_whitespace_not_newlines,
					cacher_option_intro=oui,
					explication=<:htmlminifier:compression_mode_explication:>,
					datas=#ARRAY{
						none, <:htmlminifier:compression_mode_none:>,
						all_whitespace_not_newlines, <:htmlminifier:compression_mode_all_whitespace_not_newlines:>,
						all_whitespace, <:htmlminifier:compression_mode_all_whitespace:>}
				})]
				
				[(#SAISIE{case, clean_html_comments,
					defaut=on,
					label_case=<:htmlminifier:clean_html_comments_label_case:>,
					explication=<:htmlminifier:clean_html_comments_explication:>})]

				[(#SAISIE{case, show_signature,
					defaut="",
					label_case=<:htmlminifier:show_signature_label_case:>,
					explication=<:htmlminifier:show_signature_explication:>})]
				 
			</div>
		</fieldset>

		<fieldset>
			<legend>
				<:htmlminifier:section_css:>
			</legend>
			<div class="editer-groupe">

				[(#SAISIE{case, clean_css_comments,
					defaut=on,
					label_case=<:htmlminifier:clean_css_comments_label_case:>,
					explication=<:htmlminifier:clean_css_comments_explication:>})]

				[(#SAISIE{case, shift_link_tags_to_head,
					defaut="",
					label_case=<:htmlminifier:shift_link_tags_to_head_label_case:>,
					explication=<:htmlminifier:shift_link_tags_to_head_explication:>})]

				[(#SAISIE{case, shift_style_tags_to_head,
					id=shift_style_tags_to_head,
					defaut="",
					label_case=<:htmlminifier:shift_style_tags_to_head_label_case:>,
					explication=<:htmlminifier:shift_style_tags_to_head_explication:>})]

				[(#REM) defaut="", Only works if shift_style_tags_to_head is true.]
				[(#SAISIE{case, combine_style_tags,
					id=combine_style_tags,
					li_class=fils,
					defaut="",
					label_case=<:htmlminifier:combine_style_tags_label_case:>,
					explication=<:htmlminifier:combine_style_tags_explication:>})]

			</div>
		</fieldset>

		<fieldset>
			<legend>
				<:htmlminifier:section_javascript:>
			</legend>
			<div class="editer-groupe">

				[(#SAISIE{case, clean_js_comments,
					id=clean_js_comments,
					defaut=on,
					label_case=<:htmlminifier:clean_js_comments_label_case:>,
					explication=<:htmlminifier:clean_js_comments_explication:>})]

				[(#SAISIE{case, remove_comments_with_cdata_tags,
					id=remove_comments_with_cdata_tags,
					li_class=fils,
					defaut="",
					label_case=<:htmlminifier:remove_comments_with_cdata_tags_label_case:>,
					explication=<:htmlminifier:remove_comments_with_cdata_tags_explication:>})]

				[(#SAISIE{case, compression_ignore_script_tags,
					defaut=on,
					label_case=<:htmlminifier:compression_ignore_script_tags_label_case:>,
					explication=<:htmlminifier:compression_ignore_script_tags_explication:>})]

				[(#SAISIE{case, shift_script_tags_to_bottom,
					id=shift_script_tags_to_bottom,
					defaut="",
					label_case=<:htmlminifier:shift_script_tags_to_bottom_label_case:>,
					explication=<:htmlminifier:shift_script_tags_to_bottom_explication:>})]

				[(#SAISIE{case, combine_javascript_in_script_tags,
					id=combine_javascript_in_script_tags,
					li_class=fils,
					defaut="",
					label_case=<:htmlminifier:combine_javascript_in_script_tags_label_case:>,
					explication=<:htmlminifier:combine_javascript_in_script_tags_explication:>})]

			</div>
		</fieldset>

		<input type="hidden" name="_meta_casier" value="htmlminifier" />
		<p class="boutons"><span class="image_loading">&nbsp;</span><input type="submit" class="submit" value="<:bouton_enregistrer:>" /></p>
	</div>
	</form>
	<script type="text/javascript">

		var champ_pere_fils = function (id_pere, id_fils) {

			var champ_pere = $('#champ_' + id_pere);
			var champ_fils = $('#champ_' + id_fils);

			var is_checked = champ_pere.is(':checked');
			if (is_checked) {
				champ_fils.prop('disabled', false);
				champ_fils.closest('.editer').show('slow');
			} else {
				champ_fils.prop('disabled', true);
				champ_fils.prop('checked', false);
				champ_fils.closest('.editer').hide();
			}

		}
		champ_pere_fils('shift_script_tags_to_bottom', 'combine_javascript_in_script_tags');
		champ_pere_fils('clean_js_comments', 'remove_comments_with_cdata_tags');
		champ_pere_fils('shift_style_tags_to_head', 'combine_style_tags');
	
	
		$(function() {
			$('#champ_shift_script_tags_to_bottom').on('click', function () {
				champ_pere_fils('shift_script_tags_to_bottom', 'combine_javascript_in_script_tags');
			});
			$('#champ_clean_js_comments').on('click', function () {
				champ_pere_fils('clean_js_comments', 'remove_comments_with_cdata_tags');
			});
			$('#champ_shift_style_tags_to_head').on('click', function () {
				champ_pere_fils('shift_style_tags_to_head', 'combine_style_tags');
			});
		});

	</script>
</div>
<style type="text/css">
	.formulaire_spip .editer {
		padding-left: 70px;
	}

	.formulaire_spip .fils {
		padding-left: 140px;
	}
</style>
