[(#SET{niveau, #ENV{niveau}|intval|?{#ENV{niveau},infini}})]
[(#SET{tri_num, #ENV{tri_num}|ou{#ENV{tri_alpha}}|?{#ENV{tri_num},'titre'}})]
[(#SET{tri_alpha, #ENV{tri_num}|ou{#ENV{tri_alpha}}|?{#ENV{tri_alpha},'titre'}})]

[(#ENV{appel_formulaire}|oui)
	<div class="titre"><:menus:nom_menu_secteurlangue:></div>
	<div class="infos">
		[(#GET{niveau}|=={infini}|non)
			<:menus:entree_sur_n_niveaux{n=#GET{niveau}}:>
		]
		[(#GET{niveau}|=={infini}|oui)
			<:menus:entree_infini:>
		]
		<br /><:menus:info_tri:> [(#GET{tri_num}) <:menus:info_tri_num:>][(#GET{tri_num}|et{GET{tri_alpha}}), ][(#GET{tri_alpha}) <:menus:info_tri_alpha:>]
	</div>
]
<BOUCLE_appel(CONDITION){si #ENV{appel_menu}|oui}>
	<BOUCLE_secteur(RUBRIQUES){racine}{lang}{0,1}>
		<BOUCLE_rubriques(RUBRIQUES){id_parent=#ID_RUBRIQUE}{par num #GET{tri_num}}{par #GET{tri_alpha}}>
			#SET{niveau_actuel,1}
			<li class="menu-entree[ (#ID_RUBRIQUE|menus_exposer{rubrique,#ENV*{env}})]">
				<a href="#URL_RUBRIQUE">#TITRE</a>
				<BOUCLE_test_niveau(CONDITION){si #GET{niveau_actuel}|!={#GET{niveau}}}>
				<B_sous_rubriques>
				<ul class="menu-liste">
					<BOUCLE_sous_rubriques(RUBRIQUES){id_parent}{par num #GET{tri_num}}{par #GET{tri_alpha}}>
					#SET{niveau_actuel,#GET{niveau_actuel}|plus{1}}
					<li class="menu-entree[ (#ID_RUBRIQUE|menus_exposer{rubrique,#ENV*{env}})]">
						<a href="#URL_RUBRIQUE">#TITRE</a>
						<BOUCLE_test_niveau2(CONDITION){si #GET{niveau_actuel}|!={#GET{niveau}}}>
						<BOUCLE_sous_sous(BOUCLE_sous_rubriques)></BOUCLE_sous_sous>
						</BOUCLE_test_niveau2>
					</li>
					</BOUCLE_sous_rubriques>
				</ul>
				</B_sous_rubriques>
				</BOUCLE_test_niveau>
			</li>
		</BOUCLE_rubriques>
	</BOUCLE_secteur>
</BOUCLE_appel>
