#SET{prime,#ENV{prime,#ENV{valeurs_champs_obligatoire}|table_valeur{prime}}}
#SET{sieges,#ENV{sieges,#ENV{valeurs_champs_obligatoire}|table_valeur{sieges}}}
#SET{quota,#ENV{quota,#ENV{valeurs_champs_obligatoire}|table_valeur{quota}}}
#SET{repartition,#ENV{repartition,#ENV{valeurs_champs_obligatoire}|table_valeur{repartition}}}
#SET{inscrits,#ENV{inscrits,#ENV{valeurs_champs_obligatoire}|table_valeur{inscrits}}}
[(#REM)attention, pour les test, 0 est considérés comme nul)] 
        <B_test>
        [(#REM)les couleurs sont passé en paramètres)]
        <BOUCLE_couleurs(POUR){tableau #ENV*{couleurs}}>
        <input type="hidden" name="couleurs[#CLE]" value="#VALEUR" />
        </BOUCLE_couleurs>
        
        <fieldset>
        <legend>Résultats des listes</legend>
        <ul>
        [<li class='erreur'><span class="erreur_message">(#ENV**{erreurs}|table_valeur{pas_entiers})</span></li>]
        [<li class='erreur'><span class="erreur_message">(#ENV**{erreurs}|table_valeur{voix_plus_inscrits})</span></li>]
        [<li class='erreur'><span class="erreur_message">(#ENV**{erreurs}|table_valeur{quota_pas_nombre})</span></li>]
        [<li class="erreur"><span class="erreur_message">(#ENV**{erreurs}|table_valeur{siege_pas_entier})</span></li>]
        [<li class="erreur"><span class="erreur_message">(#ENV**{erreurs}|table_valeur{prime_pas_entier})</span></li>]
        [<li class="erreur"><span class="erreur_message">(#ENV**{erreurs}|table_valeur{inscrits_nuls})</span></li>]
        </ul>
        [(#REM)ceux qui sont obligés par l'intégrateur du formulaire)
        ] 
        <input name="obligatoires" value="#ENV{obligatoires}" type="hidden" />
        <ul>
        <BOUCLE_test(POUR){tableau #ENV*{liste}}>
        
        <li[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{#VALEUR}|oui) class="erreur"]>
        
        <label[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{#VALEUR}|oui) class="erreur_message"] for="#VALEUR" style="color:#[(#ENV**{couleurs}|table_valeur{#VALEUR})]">[(#VALEUR|scrut_prop_enlever_underscore)]</label>
        
        <input[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{#VALEUR}|oui) class="erreur_message"]  size="10" type="text" name="resultat[#VALEUR]" id="#VALEUR" [value="(#ENV**{erreurs}|table_valeur{resultats}|table_valeur{#VALEUR})"]  />
        
        </li>
        </BOUCLE_test>
        
        
        </ul>
        </fieldset>
        </B_test>
        
        <fieldset>
        <legend>Participation</legend>
        <ul>
                <li[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{blancs}|oui) class="erreur"]>
            
                    <label[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{blancs}|oui) class="erreur_message"]  for="blancs">Blancs ou Nuls</label>
                    
                    <input[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{blancs}|oui) class="erreur_message"]  size="10" type="text" name="resultat[blancs]" id="blancs" [value="(#ENV**{erreurs}|table_valeur{resultats}|table_valeur{blancs})"]  />
                    
                </li>
                
                <li[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{inscrits}|ou{#ENV**{erreurs}|table_valeur{voix_plus_inscrits}}|ou{#ENV**{erreurs}|table_valeur{inscrits_nuls}}) class="erreur"]>
            
                    <label[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{inscrits}|ou{#ENV**{erreurs}|table_valeur{voix_plus_inscrits}}|ou{#ENV**{erreurs}|table_valeur{inscrits_nuls}}) class="erreur_message"] for="inscrits">Inscrits [(#GET{inscrits}|>{0}|oui)(Non modifiable)]</label>
                    
                    <input[(#ENV**{erreurs}|table_valeur{liste_fausse}|table_valeur{inscrits}|ou{#ENV**{erreurs}|table_valeur{voix_plus_inscrits}}|ou{#ENV**{erreurs}|table_valeur{inscrits_nuls}}) class="erreur_message"]  size="10" type="text" name="resultat[inscrits]" id="inscrits" [value="(#GET{inscrits})" readonly="readonly"][value="(#ENV**{erreurs}|table_valeur{resultats}|table_valeur{inscrits})"]  />
                    
</li>
        </ul>
        </fieldset>
        
        <fieldset>
            <legend>Informations sur le scrutin</legend>
            
            <ul>
                <li[(#ENV**{erreurs}|table_valeur{siege_pas_entier}|oui)  class="erreur"]>
                <label[(#ENV**{erreurs}|table_valeur{siege_pas_entier}|oui) class="erreur_message"] for="siege">Nombre de sièges [(#GET{sieges}|>={0}|oui)(Non modifiable)]</label>
                    <input[(#ENV**{erreurs}|table_valeur{siege_pas_entier}|oui) class="erreur_message"]  size="10" type="text" name="siege" id="siege" [value="(#GET{sieges})" readonly="readonly"][value="(#ENV**{erreurs}|table_valeur{sieges})"]  />
                    

                </li>
                <li[(#ENV**{erreurs}|table_valeur{prime_pas_entier}|oui)  class="erreur"]>
                <label[(#ENV**{erreurs}|table_valeur{prime_pas_entier}|oui) class="erreur_message"] for="prime">Dont prime majoritaire [(#GET{prime}|>={0}|oui)(Non modifiable)]</label>
                    <input[(#ENV**{erreurs}|table_valeur{prime_pas_entier}|oui) class="erreur_message"]  size="10" type="text" name="prime" id="prime" [value="(#GET{prime})" readonly="readonly"][value="(#ENV**{erreurs}|table_valeur{prime})"]  />

                </li>
                
                <li[(#ENV**{erreurs}|table_valeur{quota_pas_nombre}|oui)  class="erreur"]>
                <label[(#ENV**{erreurs}|table_valeur{quota_pas_nombre}|oui) class="erreur_message"] for="quota">Seuil pour avoir des élus[(#GET{quota}|>={0}|oui) (Non modifiable)]</label>
                    <input[(#ENV**{erreurs}|table_valeur{quota_pas_nombre}|oui) class="erreur_message"]  size="10" type="text" name="quota" id="quota" [value="(#GET{quota})" readonly="readonly"][value="(#ENV**{erreurs}|table_valeur{quota})"]  /> % des exprimés

                </li>
                
                <li>
                [(#GET{repartition}|non)<div class="choix">
                    <label for="moyenne">Scrutin à la plus forte moyenne[(#GET{repartition}|oui) (Non modifiable)]</label><input type="radio" class="radio" name="repartition" value="moyenne" id="moyenne"  [(#ENV**{erreurs}|table_valeur{repartition}|=={moyenne}|or{#ENV**{erreurs}|table_valeur{repartition}|=={''}}|oui) checked="checked"] />
                </div>
                
                 <div class="choix">
                        <label for="reste">Scrutin au plus fort reste[(#GET{repartition}|oui) (Non modifiable)]</label><input class="radio" type="radio" name="repartition" value="reste" id="reste" [(#GET{repartition}|=={reste}|oui)] [(#ENV**{erreurs}|table_valeur{repartition}|=={reste}|oui) checked="checked"] />
                </div>
                ]
                [(#GET{repartition}|=={moyenne}|oui)Scrutin à la plus forte moyenne.<input type="hidden" name="repartition" value="moyenne" />]
                [(#GET{repartition}|=={reste}|oui)Scrutin au plus fort reste.<input type="hidden" name="repartition" value="reste" />]

                
                </li>
                [(#REM)
                <li>
                    <label for="graph">
                        Afficher un graphique de répartition des sièges
                    </label>
                    <input type="checkbox" value="graph" name="graph" [checked="(#ENV**{erreurs}|table_valeur{graph}|=={graph})"] />
                </li>
                ]
            </ul>
        </fieldset>
        
