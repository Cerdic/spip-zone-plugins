
À faire :
---------
+ Pouvoir attacher des fichiers (et donc les envoyer par mail et les enregistrer en base comme document)
+ Générer le mail à partir du HTML des vues
+ Pouvoir ajouter des destinataires autres que venant d'un champ
+ Pouvoir composer soi-même le Sujet du mail avec des @truc@ pour les champs
+ Pouvoir modérer les réponses enregistrées en base
+ Appeler des fonctions de mise à jour des traitements lorsque les champs ont changé
+ Déplacer les saisies en drag-n-drop
+ Ajouter une saisie directement au bon endroit en drag-n-drop

Description d'une liste de saisies :
------------------------------------
$saisies = array(
	// Ligne de type "explication"
	array(
		'explication' => 'Ceci est un bloc d'explication général.'
	),
	// Ligne classique, cad un champ de formulaire
	array(
		'saisie' => 'input',
		'options => array(
			'nom' => 'mon_champ',
			'label' => 'Un joli titre',
			'obligatoire' => 'oui'
		),
		'verifier' => array(
			'type' => 'entier',
			'options' => array(
				'min' => 1
			)
		)
	),
	// Ligne contenant un fieldset
	array(
		groupe => 'Titre du groupe de champs',
		'css' => 'autres classes en plus',
		'pliable' => 'oui',
		'plie' => 'oui',
		'contenu' => array(
			// On recommence ici suivant le même formalisme que le tableau général.
		)
	)
)


Variante 1 :
------------

$saisies = array(
	array(
		'options' => array(
			'type_saisie' => 'explication',
			'explication' => 'Ceci est un bloc d'explication général.'
		)
	),
	array(
		'options => array(
			'type_saisie' => 'input',
			'nom' => 'mon_champ',
			'label' => 'Un joli titre',
			'obligatoire' => 'oui'
		),
		'verifier' => array(
			'type' => 'entier',
			'options' => array(
				'min' => 1
			)
		)
	),
	array(
		'options' => array(
			'type_saisie' => 'fieldset',
			'nom' => 'groupe',
			'label' => 'Titre du groupe de champs',
			'css' => 'autres classes en plus',
			'pliable' => 'oui',
			'plie' => 'oui',
		)
		'saisies' => array(
			array(
				'options' => array(
					'type_saisie' => 'input',
					'nom' => 'dedans',
					'label' => 'Dans le groupe'
				)
			)
		)
	)
	
)

Atteindre une saisie profonde : $saisies[2]['saisies'][0]


Variante 2 :
------------

$saisies = array(
	array(
		'type_saisie' => 'explication',
		'explication' => 'Une explication possible.',
	),
	array(
		'type_saisie' => 'input',
		'nom' => 'nb_trucs',
		'label' => 'Combien ?',
		'obligatoire' => 'oui',
		'verifier' => array(
			'type' => 'entier',
			'options' => array(
				'min' => 0
			)
		)
	),
	array(
		'type_saisie' => 'fieldset',
		'label' => 'Titre du fieldset',
		'css' => 'autres classes css',
		'pliable' => 'oui',
		'plie' => 'oui',
		0 => array(une saisie enfant),
		1 => array(une autre saisie enfant),
		2 => array(etc)
	)
)

Atteindre une saisie profonde : $saisies[2][0]


Description d'une liste de traitements :
----------------------------------------

array(
	'email' => array(
		'champ_destinataires' => 'champ13',
		'champ_courriel' => 'champ15'
	),
	'enregistrement' => array(
		
	)
)

