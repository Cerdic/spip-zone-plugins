#SET{couleur1, #c5e41d}
#SET{couleur2, ##GET{couleur1}|couleur_inverser}


<!-- filtre couleur_chroma -->
#BOITE_OUVRIR{'couleur_chroma','simple fonctions_images'}
<p>
	Crée une apercu de couleurs automatique d'après une couleur 
	(Paris-Beyrouth : <a href="http://www.paris-beyrouth.org/Une-nuance-de-couleurs">Une nuance de couleurs</a>)
</p>
<p>
	<strong>syntaxe :</strong> <code class="spip">|couleur_chroma{3/6}</code> <br />
	<strong>argument :</strong> X/Y, ou Y est le nombre de couleurs à produire, et X le numéro de la couleur produite.
</p>
<BOUCLE_chroma(DATA){liste #GET{couleur1},#GET{couleur2}}>
<div class="apercu nuances">
	<div class="nuance on" style="background-color:[(#VALEUR)]; color:[#(#VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>[(#VALEUR)]</strong></p></div>
	<BOUCLE_chromabis(DATA){liste 1/4,2/4,3/4,4/4}>
	#SET{couleur, ##_chroma:VALEUR|couleur_chroma{#VALEUR}}
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	</BOUCLE_chromabis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_chroma>
#BOITE_FERMER


<!-- filtre couleur_saturer -->
#BOITE_OUVRIR{'couleur_saturer','simple fonctions_images'}
<p>
	Modifie la saturation d'une couleur<br />
	Note : le filtre <code>|couleur_saturation</code> de Spip agit sur la l'intensité d'une couleur, ici il c'est bien sa saturation qui est modifiée.
</p>
<p>
	<strong>syntaxe : </strong><code>|couleur_saturer{1.2}</code><br />
	<strong>argument : </strong>valeur = nombre entre 0 et 2. 1 = saturation d'origine
</p>
<BOUCLE_saturer(DATA){liste ##GET{couleur1}|couleur_saturer{0.65},##GET{couleur2}|couleur_saturer{0.65}}>
<div class="apercu nuances">
	<BOUCLE_saturerbis(DATA){liste 0.0,0.2,0.4,0.6,0.8,1,1.2,1.4,1.6,1.8,2}>
	#SET{couleur, ##_saturer:VALEUR|couleur_saturer{#VALEUR}}
	[(#VALEUR|=={1}|oui)
	<div class="nuance on" style="background-color:[(#_saturer:VALEUR)]; color:[#(#_saturer:VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>[(#_saturer:VALEUR)]</strong></p></div>
	]
	[(#VALEUR|=={1}|non)
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	]
	</BOUCLE_saturerbis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_saturer>
#BOITE_FERMER


<!-- Filtre couleur_teinter -->
#BOITE_OUVRIR{'couleur_teinter','simple fonctions_images'}
<p>
	Modifie la teinte d'une couleur
</p>
<p>
	<strong>syntaxe :</strong> <code>|couleur_teinter{30}</code><br />
	<strong>argument :</strong> nombre entre -363 et 363. Defaut=30 (les valeurs plus grandes sont possibles mais feront faire un tour complet du cercle chromatique)
</p>
<BOUCLE_teinter(DATA){liste #GET{couleur1},#GET{couleur2}}>
<div class="apercu nuances">
	<BOUCLE_teinterbis(DATA){liste -363,-150,-120,-90,-60,-30,0,30,60,90,120,150,363}>
	#SET{couleur, ##_teinter:VALEUR|couleur_teinter{#VALEUR}}
	[(#VALEUR|=={0}|oui)
	<div class="nuance on" style="background-color:[(#_teinter:VALEUR)]; color:[#(#_teinter:VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>#_teinter:VALEUR</strong></p></div>
	]
	[(#VALEUR|=={0}|non)
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	]
	</BOUCLE_teinterbis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_teinter>
#BOITE_FERMER


<!-- Filtre couleur_inverserluminosite -->
#BOITE_OUVRIR{'couleur_inverserluminosite','simple fonctions_images'}
<p>
	Inverse la luminosité d'une couleur. </br>
	Ce filtre fonctionne comme les filtres <code>|couleur_foncer_si_claire</code> et <code>|couleur_eclaircir_si_foncee</code> natifs de Spip, à ceci près qu'il détermine automatiquement s'il doit foncer ou éclaircir la couleur.
</p>
<p>
	<strong>syntaxe :</strong> <code>|couleur_inverserluminosite{20, false}</code><br />
	<strong>argument 1 :</strong> pourcentage = nombre entre 0 et 100, defaut = 20<br />
	<strong>argument 2 :</strong> intensifier = true ou false. Defaut = false
</p>
<BOUCLE_inverser(DATA){liste #GET{couleur1},##GET{couleur2}|couleur_foncerluminosite{30},#ffffff,#000000}>
<div class="apercu nuances">
	<div class="nuance on" style="background-color:[(#VALEUR)]; color:[#(#VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>#VALEUR</strong></p></div>
	<BOUCLE_inverserbis(DATA){liste 10,20,30,40,50,60,70,80,90,100}>
	#SET{couleur, ##_inverser:VALEUR|couleur_inverserluminosite{#VALEUR}}
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	</BOUCLE_inverserbis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_inverser>
#BOITE_FERMER


<!-- Filtre couleur_foncerluminosite -->
#BOITE_OUVRIR{'couleur_foncerluminosite','simple fonctions_images'}
<p>
	Fonce une couleur <br />
	Equivalent au filtre <code>|couleur_foncer</code> natif de Spip
</p>
<p>
	<strong>syntaxe :</strong> <code>|couleur_foncerluminosite{20}</code><br />
	<strong>argument :</strong> pourcentage = nombre entre 0 et 100, defaut = 20
</p>
<BOUCLE_foncer(DATA){liste #GET{couleur1},#ffffff}>
<div class="apercu nuances">
	<div class="nuance on" style="background-color:[(#VALEUR)]; color:[#(#VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>#VALEUR</strong></p></div>
	<BOUCLE_foncerbis(DATA){liste 10,20,30,40,50,60,70,80,90,100}>
	#SET{couleur, ##_foncer:VALEUR|couleur_foncerluminosite{#VALEUR}}
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	</BOUCLE_foncerbis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_foncer>
#BOITE_FERMER


<!-- Filtre couleur_eclaircirluminosite -->
#BOITE_OUVRIR{'couleur_eclaircirluminosite','simple fonctions_images'}
<p>
	Eclaircit une couleur <br />
	Equivalent au filtre <code>|couleur_eclaircir</code> natif de Spip
</p>
<p>
	<strong>syntaxe :</strong> <code>|couleur_eclaircirluminosite{20}</code><br />
	<strong>argument :</strong> pourcentage = nombre entre 0 et 100. Defaut=20
</p>
<BOUCLE_eclaircir(DATA){liste #GET{couleur1},#000000}>
<div class="apercu nuances">
	<div class="nuance on" style="background-color:[(#VALEUR)]; color:[#(#VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>#VALEUR</strong></p></div>
	<BOUCLE_eclaircirbis(DATA){liste 10,20,30,40,50,60,70,80,90,100}>
	#SET{couleur, ##_eclaircir:VALEUR|couleur_eclaircirluminosite{#VALEUR}}
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	</BOUCLE_eclaircirbis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_eclaircir>
#BOITE_FERMER


<!-- Filtre couleur_melanger -->
#BOITE_OUVRIR{'couleur_melanger','simple fonctions_images'}
<p>
	Mélange deux couleurs
</p>
<p>
	<strong>syntaxe 1 :</strong> &lt;couleurA&gt;<code>|couleur_melanger{couleurB, 50}</code><br />
	<strong>syntaxe 2 :</strong> <code>#VAL{"#LISTE{couleurA, couleurB}|couleur_melanger{50}"}</code><br />
	<strong>argument :</strong> pourcentage = nombre entre 0 et 100, ou 0 et 1. Defaut=50
</p>
<BOUCLE_melanger(DATA){source table, #ARRAY{#GET{couleur1},#GET{couleur2}, #GET{couleur2},#dddddd, #ff4900, #GET{couleur1}}}>
<div class="apercu nuances">
	<div class="nuance on" style="background-color:[(#CLE)]; color:[#(#CLE|couleur_extreme|couleur_inverser)];"><p><strong>#CLE</strong></p></div>
	<div class="nuance on" style="background-color:[(#VALEUR)]; color:[#(#VALEUR|couleur_extreme|couleur_inverser)];"><p><strong>#VALEUR</strong></p></div>
	<BOUCLE_melangerbis(DATA){liste 0.0,20,40,60,80,100}>
	#SET{couleur, ##_melanger:CLE|couleur_melanger{#_melanger:VALEUR, #VALEUR}}
	<div class="nuance" style="background-color:[(#GET{couleur})]; color:[#(#GET{couleur}|couleur_extreme|couleur_inverser)];"><p>#VALEUR</p></div>
	</BOUCLE_melangerbis>
	<div class="nettoyeur"></div>
</div>
</BOUCLE_melanger>
#BOITE_FERMER
