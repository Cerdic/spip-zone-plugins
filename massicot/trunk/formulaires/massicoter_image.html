<form method="post" action="#ENV{action}" enctype="multipart/form-data">
  <div>
    [(#REM) declarer les hidden qui declencheront le service du
            formulaire parametre : url d'action ]
    #ACTION_FORMULAIRE{#ENV{action}}

    <label><:massicot:zoom:></label>
    <div id="zoom-slider"></div>

    <ul>
      #GENERER_SAISIES{#ENV{_saisies}}
    </ul>

    [(#REM) ajouter les saisies supplementaires : extra et autre, a
            cet endroit ]
    <!--extra-->

    <p class="boutons">
      <span class="image_loading"></span>
      <a href="#" id="formulaire_massicoter_image_reset"><:massicot:reinitialiser:></a>
      <input type="submit" class="submit" value="[(#ENV{saisies_texte_submit}|sinon{<:massicot:massicoter:>})]" />
    </p>
  </div>
</form>

<script type="text/javascript">
 $(function () {
   /* Créer le slider et l'associer à l'input */
   $('#zoom-slider').slider({
     /* SPIP ne propose pas de traitement d'image pour agrandir, alors
        pour l'instant on ne le permet pas… */
     max: 1,
     min: .01,
     value: [(#ENV{zoom}|sinon{1})],
     step: .01,
     slide: function ( event, ui ) {
       $('input#champ_zoom').attr('value', ui.value).trigger('change');
     }
   });
 });
</script>
