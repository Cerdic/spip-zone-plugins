<html>
<head>
	<title>Test de génération de saisies</title>
	[<link rel="stylesheet" href="(#CHEMIN{spip_formulaires.css})" type="text/css" media="all" title="formulaires" charset="utf-8" />]
	<style type="text/css">
		.formulaire_spip{
			width:40%;
			border:1px solid black;
			-moz-border-radius:10px;
			-webkit-border-radius:10px;
			border-radius:10px;
		}
		.formulaire_spip ul li{
			padding:0.5em;
		}
		.formulaire_spip li.fieldset{
			padding:0;
		}
		.formulaire_spip li.obligatoire{
			background:#ffcfcf;
		}
		.formulaire_spip .fieldset .legend{
			margin:0;
			font-style:italic;
		}
	</style>
</head>
<body>
	<h1>Test pour générer des saisies à partir d'une description</h1>

	<h2>Génération d'une seule saisie</h2>
	#SET{champ,
		#ARRAY{
			saisie, input,
			options, #ARRAY{
				nom, test,
				label, Une sorte de titre,
				explication, Un sorte d'explication,
				obligatoire, oui
			}
		}
	}
	<form class="formulaire_spip" action="#SELF" method="post">
		<ul>
			[(#GET{champ}|generer_saisie{#ENV**|unserialize})]
			<li class="boutons">
				<input type="submit" class="submit" />
			</li>
		</ul>
	</form>

	<h2>Génération complète du contenu (l'intérieur) d'un formulaire</h2>
	#SET{saisies,
		#ARRAY{
			0,#ARRAY{
				explication, Une explication générale par exemple.
			},
			1,#ARRAY{
				saisie, input,
				options, #ARRAY{
					nom, champ,
					label, Une sorte de titre,
					explication, Un sorte d'explication,
					obligatoire, oui
				}
			},
			2,#ARRAY{
				saisie, case,
				options, #ARRAY{
					nom, test2,
					label, Une sorte de case à cocher,
					label_case, Check la vibes
				}
			},
			3,#ARRAY{
				groupe, Un groupe de champs,
				contenu, #ARRAY{
					0,#ARRAY{
						explication, "C'est un groupe de champs, c'est cool pour l'ergonomie."
					},
					1,#ARRAY{
						saisie, auteurs,
						options, #ARRAY{
							nom, auteur,
							label, Choisir un auteur,
							obligatoire, oui,
							info_obligatoire, " / obligatoire"
						}
					},
					2,#ARRAY{
						saisie, oui_non,
						options, #ARRAY{
							nom, peutetre,
							label, Tu veux ou tu veux pas ?,
							obligatoire, oui,
							info_obligatoire, " / obligatoire"
						}
					},
					3,#ARRAY{
						saisie, textarea,
						options, #ARRAY{
							nom, texte,
							label, Vos impressions,
							explication, Donnez-nous vos impressions sur cette incroyable génération de formulaire.,
							obligatoire, non
						}
					}
				}
			}
		}
	}
	<form class="formulaire_spip" action="#SELF" method="post">
		<ul>
			#GENERER_SAISIES{#GET{saisies}}
			<li class="boutons">
				<input type="submit" class="submit" />
			</li>
		</ul>
	</form>
</body>
</html>
