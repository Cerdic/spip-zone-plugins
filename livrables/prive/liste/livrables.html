[(#SET{defaut_tri,#ARRAY{
	url,1,
    titre,1,
    id_projet,1,
    id_livrable,1,
}})
]<B_liste_livrables>
#ANCRE_PAGINATION
<div class="liste-elements livrables">
<table class='spip liste'>
[<caption><strong class="caption">(#ENV*{titre,<:livrables:info_tous_les_livrables:>})</strong></caption>]
	<thead>
		<tr class='first_row'>
			<th class='id'>[(#TRI{id_livrable,<:livrables:label_livrable:>,ajax})]</th>
			<th class='id'>[(#TRI{id_projet,<:livrables:label_projet:>,ajax})]</th>
			<th class='titre'>[(#TRI{titre,<:livrables:label_titre:>,ajax})]</th>
			<th class='titre'>[(#TRI{url,<:livrables:label_url:>,ajax})]</th>
			<th class='action'><:livrables:action:></th>
		</tr>
	</thead>
	<tbody>
	<BOUCLE_liste_livrables(LIVRABLES)
		{id_projet?}
		{tri #ENV{order,id_livrable},#GET{defaut_tri}}
		{pagination #ENV{nb,30}}>
		<tr class="[(#COMPTEUR_BOUCLE|alterner{row_odd,row_even})]">
			<td class='id'>#ID_LIVRABLE</td>
			<td class='id'[ title="<:livrables:label_projet:> (#TITRE_PROJET{#ID_PROJET})"]><a href="?voir_projet">#TITRE_PROJET{#ID_PROJET}</a></td>
			<td class='titre'>#TITRE</td>
			<td class='url'>[<a href="#URL">(#URL|couper{35})</a>]</td>
			<td class='action'>
				[(#AUTORISER{voir,livrable,#ID_LIVRABLE})
					[<a href="(#URL_PAGE{livrable}
						|parametre_url{redirect,#SELF}
						|parametre_url{id_livrable,#ID_LIVRABLE})"><:livrables:voir_livrable:></a>]
				]
				[(#AUTORISER{supprimer,livrable,#ID_LIVRABLE})
					[(#BOUTON_ACTION{				
						<:livrables:supprimer:>,
						[(#URL_ACTION_AUTEUR{supprimer_livrable,#ID_LIVRABLE}|parametre_url{redirect,#SELF})],
						ajax,<:livrables:confirmer_supprimer_livrable:>})]
				]
			</td>
		</tr>
	</BOUCLE_liste_livrables>
	</tbody>
</table>
[<p class='pagination'>(#PAGINATION{prive})</p>]
</div>
</B_liste_livrables>[
<div class="liste-elements livrables"><strong class="caption">(#ENV*{sinon,''})</strong></div>
]<//B_liste_livrables>
